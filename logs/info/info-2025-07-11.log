2025-07-11 00:11:18.397 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 00:11:18.417 [main] INFO  c.i.i.u.s.FileStorageArchitectureTest - Starting FileStorageArchitectureTest using Java 17.0.2 with PID 34320 (started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:11:18.418 [main] INFO  c.i.i.u.s.FileStorageArchitectureTest - The following 1 profile is active: "test"
2025-07-11 00:11:19.517 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:11:19.517 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:11:19.722 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 195 ms. Found 6 JPA repository interfaces.
2025-07-11 00:11:20.367 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:11:20.369 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:11:20.410 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:11:20.410 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:11:20.411 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:11:20.411 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:11:20.411 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:11:20.412 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:11:20.412 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-07-11 00:11:22.185 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 00:11:22.433 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@70700b8a
2025-07-11 00:11:22.435 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 00:11:22.512 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:11:22.627 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 00:11:22.634 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 00:11:22.663 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 00:12:54.202 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 00:12:54.223 [main] INFO  c.i.i.u.s.FileStorageArchitectureTest - Starting FileStorageArchitectureTest using Java 17.0.2 with PID 31356 (started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:12:54.224 [main] INFO  c.i.i.u.s.FileStorageArchitectureTest - The following 1 profile is active: "test"
2025-07-11 00:12:55.202 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:12:55.203 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:12:55.370 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 159 ms. Found 6 JPA repository interfaces.
2025-07-11 00:12:55.907 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:12:55.908 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:12:55.941 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:12:55.941 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:12:55.942 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:12:55.942 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:12:55.942 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:12:55.942 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:12:55.943 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-07-11 00:12:57.541 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 00:12:57.711 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3664c596
2025-07-11 00:12:57.713 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 00:12:57.771 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:12:57.855 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.050s)
2025-07-11 00:12:57.879 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250110.001
2025-07-11 00:12:57.885 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:12:58.159 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:12:58.313 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 00:12:58.354 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:12:58.677 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:12:59.668 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:12:59.722 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 00:12:59.727 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 00:12:59.750 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 00:19:39.825 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 00:19:39.839 [main] INFO  c.i.i.u.s.FileStorageArchitectureTest - Starting FileStorageArchitectureTest using Java 17.0.2 with PID 33620 (started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:19:39.841 [main] INFO  c.i.i.u.s.FileStorageArchitectureTest - The following 1 profile is active: "test"
2025-07-11 00:19:40.833 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:19:40.833 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:19:41.022 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 176 ms. Found 6 JPA repository interfaces.
2025-07-11 00:19:41.614 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:19:41.617 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:19:41.672 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:19:41.672 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:19:41.673 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:19:41.673 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:19:41.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:19:41.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:19:41.674 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
2025-07-11 00:19:43.243 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 00:19:43.403 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3beaa16d
2025-07-11 00:19:43.404 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 00:19:43.450 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:19:43.582 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.100s)
2025-07-11 00:19:43.610 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250110.001
2025-07-11 00:19:43.616 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:19:43.888 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:19:44.063 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 00:19:44.122 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:19:44.455 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:19:45.426 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:19:45.469 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:19:47.490 [main] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 00:19:47.961 [main] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 00:19:47.961 [main] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 00:19:48.142 [main] INFO  c.i.i.user.config.MinioConfig - 成功创建存储桶: im-public-files
2025-07-11 00:19:48.190 [main] INFO  c.i.i.user.config.MinioConfig - 成功创建存储桶: im-private-files
2025-07-11 00:19:48.228 [main] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 00:19:48.301 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 00:19:49.204 [main] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 00:19:49.246 [main] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 00:19:49.246 [main] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 00:19:49.524 [main] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 00:19:49.533 [main] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 00:19:49.860 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 00:19:50.351 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 00:19:50.853 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 00:19:52.030 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 00:19:52.032 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7d85318a]]
2025-07-11 00:19:52.036 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 00:19:52.055 [main] INFO  c.i.i.u.s.FileStorageArchitectureTest - Started FileStorageArchitectureTest in 12.677 seconds (process running for 13.626)
2025-07-11 00:19:52.116 [main] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 00:19:52.146 [main] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 00:19:52.159 [main] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 00:19:52.172 [main] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 00:19:52.186 [main] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 00:19:52.199 [main] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 00:19:52.212 [main] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 00:19:52.244 [main] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 00:19:52.818 [main] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=1, fileName=avatar.png
2025-07-11 00:19:53.001 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 00:19:53.001 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7d85318a]]
2025-07-11 00:19:53.001 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 00:19:53.019 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:19:53.021 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 00:19:53.027 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 00:23:27.443 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 00:23:27.484 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 34764 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:23:27.485 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:23:27.527 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 00:23:27.528 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 00:23:28.167 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:23:28.168 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:23:28.297 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 123 ms. Found 6 JPA repository interfaces.
2025-07-11 00:23:28.584 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:23:28.585 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:23:28.608 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:23:28.609 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:23:28.609 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:23:28.609 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:23:28.610 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:23:28.610 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:23:28.611 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-07-11 00:23:29.360 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:23:29.362 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:23:29.389 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:23:29.399 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:23:29.402 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:23:29.402 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:23:29.448 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:23:29.449 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1921 ms
2025-07-11 00:23:29.711 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 00:23:29.830 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@54986ef7
2025-07-11 00:23:29.835 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 00:23:29.875 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:23:29.930 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.032s)
2025-07-11 00:23:29.947 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250110.001
2025-07-11 00:23:29.951 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:23:30.023 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:23:30.067 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 00:23:30.096 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:23:30.298 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:23:31.038 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:23:31.082 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:23:31.738 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 00:23:32.169 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 00:23:32.169 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 00:23:32.328 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 00:23:32.364 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 00:23:32.724 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 00:23:32.753 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 00:23:32.754 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 00:23:32.913 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 00:23:32.921 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 00:23:33.059 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 00:23:33.197 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 00:23:33.376 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 00:23:33.824 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 00:23:33.867 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 00:23:33.882 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 00:23:33.883 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 00:23:33.884 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@432db3b5]]
2025-07-11 00:23:33.884 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 00:23:33.897 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 6.881 seconds (process running for 7.289)
2025-07-11 00:23:33.924 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 00:23:33.938 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 00:23:33.949 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 00:23:33.961 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 00:23:33.972 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 00:23:33.982 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 00:23:33.993 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 00:23:34.021 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 00:23:35.657 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 00:23:35.658 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 00:23:35.659 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 00:23:49.442 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 00:23:49.443 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=2
2025-07-11 00:23:49.530 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 00:23:50.038 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:23:50.038 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:23:50.088 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 0
2025-07-11 00:23:50.104 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 2 的所有文件记录数（包括已删除）: 0
2025-07-11 00:23:50.105 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:23:50.113 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 0, 当前页数量: 0
2025-07-11 00:23:50.113 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 0
2025-07-11 00:24:09.735 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 00:24:14.457 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 00:24:31.280 [http-nio-8080-exec-8] INFO  c.i.i.a.s.i.VerificationServiceImpl - 开始发送注册验证码到: jiapei1219@gmail.com
2025-07-11 00:24:31.333 [http-nio-8080-exec-8] INFO  c.i.i.c.s.impl.EmailServiceImpl - 开始发送验证码邮件到: jiapei1219@gmail.com
2025-07-11 00:24:32.665 [http-nio-8080-exec-8] INFO  c.i.i.c.s.impl.EmailServiceImpl - 验证码邮件发送成功: jiapei1219@gmail.com, 验证码: 575775
2025-07-11 00:24:32.665 [http-nio-8080-exec-8] INFO  c.i.i.a.s.i.VerificationServiceImpl - 注册验证码邮件发送成功: email=jiapei1219@gmail.com, code=575775, expiresAt=2025-07-11T00:29:31.301055300
2025-07-11 00:24:33.855 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 6, active threads = 1, queued tasks = 5, completed tasks = 0]
2025-07-11 00:24:50.144 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理邮箱注册请求: jiapei1219@gmail.com
2025-07-11 00:24:50.145 [http-nio-8080-exec-9] INFO  c.i.i.a.s.i.VerificationServiceImpl - 开始验证验证码: email=jiapei1219@gmail.com, codeType=register
2025-07-11 00:24:50.155 [http-nio-8080-exec-9] INFO  c.i.i.a.s.i.VerificationServiceImpl - 验证码验证成功: email=jiapei1219@gmail.com, codeType=register
2025-07-11 00:24:50.241 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户注册成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 00:24:50.242 [http-nio-8080-exec-9] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=Web, ipAddress=null
2025-07-11 00:24:50.248 [http-nio-8080-exec-9] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 创建新设备记录
2025-07-11 00:24:53.377 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 00:24:53.379 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 00:24:53.402 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 00:24:53.903 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:24:53.903 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:24:53.914 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 0
2025-07-11 00:24:53.921 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 0
2025-07-11 00:24:53.922 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:24:53.926 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 0, 当前页数量: 0
2025-07-11 00:24:53.926 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 0
2025-07-11 00:24:55.355 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 00:25:17.310 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 00:25:17.315 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 00:25:17.342 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 00:25:17.361 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置个人ID，用户ID: 1, 个人ID: test_001
2025-07-11 00:25:17.369 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 个人ID设置成功，用户ID: 1, 个人ID: test_001
2025-07-11 00:25:17.394 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 00:25:20.594 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:25:20.594 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:25:20.608 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 0
2025-07-11 00:25:20.616 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 0
2025-07-11 00:25:20.616 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:25:20.621 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 0, 当前页数量: 0
2025-07-11 00:25:20.622 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 0
2025-07-11 00:25:22.303 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:25:22.303 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:25:22.317 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 0
2025-07-11 00:25:22.323 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 0
2025-07-11 00:25:22.323 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:25:22.327 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 0, 当前页数量: 0
2025-07-11 00:25:22.327 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 0
2025-07-11 00:25:30.980 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始上传文件到MinIO，用户ID: 1, 文件名: test-image.svg
2025-07-11 00:25:30.998 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功: im-private-others/other/2025/07/11/8db5d05f6c194c839e77ecff098e10df_1752164730981.svg
2025-07-11 00:25:31.002 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件上传成功，文件ID: 5, MinIO路径: im-private-others/other/2025/07/11/8db5d05f6c194c839e77ecff098e10df_1752164730981.svg
2025-07-11 00:25:31.011 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 文件上传成功，用户ID: 1, 文件ID: 5
2025-07-11 00:25:31.028 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始上传文件到MinIO，用户ID: 1, 文件名: test-image.txt
2025-07-11 00:25:31.038 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功: im-private-documents/document/2025/07/11/aa0ed28533394b5bb1a863a61b7196dc_1752164731028.txt
2025-07-11 00:25:31.042 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件上传成功，文件ID: 6, MinIO路径: im-private-documents/document/2025/07/11/aa0ed28533394b5bb1a863a61b7196dc_1752164731028.txt
2025-07-11 00:25:31.051 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 文件上传成功，用户ID: 1, 文件ID: 6
2025-07-11 00:25:31.063 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:25:31.063 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:25:31.071 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 2
2025-07-11 00:25:31.078 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 2
2025-07-11 00:25:31.078 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=false, 文件类型=other
2025-07-11 00:25:31.078 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:25:31.078 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:25:31.081 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 2, 当前页数量: 2
2025-07-11 00:25:31.082 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 2
2025-07-11 00:25:31.082 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 2 个文件
2025-07-11 00:25:32.423 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:25:32.423 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:25:32.433 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 2
2025-07-11 00:25:32.444 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 2
2025-07-11 00:25:32.444 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=false, 文件类型=other
2025-07-11 00:25:32.444 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:25:32.445 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:25:32.449 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 2, 当前页数量: 2
2025-07-11 00:25:32.449 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 2
2025-07-11 00:25:32.450 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 2 个文件
2025-07-11 00:27:23.068 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 删除文件，文件ID: 5, 用户ID: 1
2025-07-11 00:27:23.089 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件删除成功: im-private-others/other/2025/07/11/8db5d05f6c194c839e77ecff098e10df_1752164730981.svg
2025-07-11 00:27:23.090 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件删除成功: 5
2025-07-11 00:27:23.104 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 文件删除成功，用户ID: 1, 文件ID: 5
2025-07-11 00:27:23.117 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:27:23.117 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:27:23.126 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 2
2025-07-11 00:27:23.135 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 2
2025-07-11 00:27:23.135 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:27:23.136 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:27:23.136 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:27:23.140 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 00:27:23.140 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 00:27:23.140 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 1 个文件
2025-07-11 00:27:44.466 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:27:44.467 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:27:44.474 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 2
2025-07-11 00:27:44.480 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 2
2025-07-11 00:27:44.480 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:27:44.480 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:27:44.481 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:27:44.484 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 00:27:44.484 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 00:27:44.484 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 1 个文件
2025-07-11 00:27:55.261 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始上传图片到MinIO，用户ID: 1, 最大尺寸: 1920x1080
2025-07-11 00:27:55.405 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件流上传成功: im-private-images/image/2025/07/11/8ac87d379c2f4e27a445f8932239a887_1752164875262.jpg
2025-07-11 00:27:55.425 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件流上传成功: im-private-images/image/2025/07/11/8ac87d379c2f4e27a445f8932239a887_1752164875262_thumb.jpg
2025-07-11 00:27:55.426 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 缩略图生成成功: http://localhost:9000/im-private-images/image/2025/07/11/8ac87d379c2f4e27a445f8932239a887_1752164875262_thumb.jpg
2025-07-11 00:27:55.430 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 图片上传成功，文件ID: 7, MinIO路径: im-private-images/image/2025/07/11/8ac87d379c2f4e27a445f8932239a887_1752164875262.jpg
2025-07-11 00:27:55.442 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 图片上传成功，用户ID: 1, 文件ID: 7
2025-07-11 00:27:55.465 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:27:55.465 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:27:55.473 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 00:27:55.482 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 3
2025-07-11 00:27:55.483 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:27:55.483 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:27:55.483 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:27:55.484 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:27:55.490 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 2, 当前页数量: 2
2025-07-11 00:27:55.490 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 2
2025-07-11 00:27:55.491 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 2 个文件
2025-07-11 00:28:03.019 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始上传图片到MinIO，用户ID: 1, 最大尺寸: 1920x1080
2025-07-11 00:28:03.047 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:03.048 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:03.056 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 00:28:03.067 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 3
2025-07-11 00:28:03.067 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:28:03.067 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:03.068 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:28:03.068 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:28:03.073 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 2, 当前页数量: 2
2025-07-11 00:28:03.073 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 2
2025-07-11 00:28:03.074 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 2 个文件
2025-07-11 00:28:05.808 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:05.809 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:05.816 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 00:28:05.825 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 3
2025-07-11 00:28:05.826 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:28:05.826 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:05.826 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:28:05.826 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:28:05.830 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 2, 当前页数量: 2
2025-07-11 00:28:05.832 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 2
2025-07-11 00:28:05.832 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 2 个文件
2025-07-11 00:28:25.824 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:25.825 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:25.845 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 00:28:25.863 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 3
2025-07-11 00:28:25.864 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:28:25.864 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:25.864 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:28:25.864 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:28:25.868 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 2, 当前页数量: 2
2025-07-11 00:28:25.869 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 2
2025-07-11 00:28:25.870 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 2 个文件
2025-07-11 00:28:31.402 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始上传图片到MinIO，用户ID: 1, 最大尺寸: 1920x1080
2025-07-11 00:28:31.435 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:31.436 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:31.446 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 00:28:31.456 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 3
2025-07-11 00:28:31.456 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:28:31.456 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:31.456 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:28:31.456 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:28:31.459 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 2, 当前页数量: 2
2025-07-11 00:28:31.460 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 2
2025-07-11 00:28:31.460 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 2 个文件
2025-07-11 00:28:36.182 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始上传文件到MinIO，用户ID: 1, 文件名: test-image.txt
2025-07-11 00:28:36.197 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功: im-private-documents/document/2025/07/11/33b3f7fe28b045e5bad4e638b2de6066_1752164916182.txt
2025-07-11 00:28:36.201 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件上传成功，文件ID: 8, MinIO路径: im-private-documents/document/2025/07/11/33b3f7fe28b045e5bad4e638b2de6066_1752164916182.txt
2025-07-11 00:28:36.217 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 文件上传成功，用户ID: 1, 文件ID: 8
2025-07-11 00:28:36.235 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:36.235 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:36.246 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 4
2025-07-11 00:28:36.257 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 4
2025-07-11 00:28:36.258 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:28:36.258 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:36.258 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:28:36.259 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:36.259 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:28:36.264 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 3, 当前页数量: 3
2025-07-11 00:28:36.264 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 3
2025-07-11 00:28:36.264 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 3 个文件
2025-07-11 00:28:37.518 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:37.519 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:37.531 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 4
2025-07-11 00:28:37.544 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 4
2025-07-11 00:28:37.544 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:28:37.545 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:37.547 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:28:37.549 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:37.549 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:28:37.558 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 3, 当前页数量: 3
2025-07-11 00:28:37.559 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 3
2025-07-11 00:28:37.560 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 3 个文件
2025-07-11 00:28:47.219 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始上传文件到MinIO，用户ID: 1, 文件名: 屏幕截图 2024-08-10 200902.png
2025-07-11 00:28:47.289 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功: im-private-images/image/2025/07/11/0baceaafb6654642be86c2cde0d0e857_1752164927219.png
2025-07-11 00:28:47.418 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件上传成功，文件ID: 9, MinIO路径: im-private-images/image/2025/07/11/0baceaafb6654642be86c2cde0d0e857_1752164927219.png
2025-07-11 00:28:47.428 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 文件上传成功，用户ID: 1, 文件ID: 9
2025-07-11 00:28:47.443 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:47.443 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:47.453 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:28:47.462 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:28:47.463 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:28:47.463 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:47.463 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:28:47.463 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:47.463 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:28:47.464 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:28:47.469 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:28:47.470 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:28:47.470 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:28:48.285 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:48.286 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:48.292 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:28:48.300 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:28:48.301 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:28:48.301 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:48.301 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:28:48.301 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:48.301 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:28:48.301 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:28:48.306 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:28:48.306 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:28:48.307 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:28:51.253 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: IMAGE, 页码: 0, 大小: 20
2025-07-11 00:28:51.253 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: image, 页码: 0, 大小: 20
2025-07-11 00:28:51.260 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:28:51.267 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:28:51.267 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:28:51.267 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:51.267 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:28:51.267 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:51.268 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:28:51.268 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 按文件类型查询: image
2025-07-11 00:28:51.273 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 2, 当前页数量: 2
2025-07-11 00:28:51.274 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 2
2025-07-11 00:28:51.274 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 2 个文件
2025-07-11 00:28:53.571 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: DOCUMENT, 页码: 0, 大小: 20
2025-07-11 00:28:53.571 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: document, 页码: 0, 大小: 20
2025-07-11 00:28:53.585 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:28:53.601 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:28:53.601 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:28:53.602 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:53.602 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:28:53.602 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:53.602 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:28:53.603 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 按文件类型查询: document
2025-07-11 00:28:53.606 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 2, 当前页数量: 2
2025-07-11 00:28:53.607 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 2
2025-07-11 00:28:53.609 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 2 个文件
2025-07-11 00:28:54.459 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:54.459 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:54.468 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:28:54.478 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:28:54.478 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:28:54.478 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:54.478 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:28:54.478 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:54.478 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:28:54.478 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:28:54.481 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:28:54.481 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:28:54.482 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:28:56.134 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:56.134 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:56.141 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:28:56.149 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:28:56.150 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:28:56.151 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:56.151 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:28:56.151 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:56.151 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:28:56.151 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:28:56.155 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:28:56.156 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:28:56.156 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:28:57.307 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:57.307 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:28:57.315 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:28:57.322 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:28:57.322 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:28:57.322 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:57.322 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:28:57.323 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:28:57.323 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:28:57.323 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:28:57.326 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:28:57.326 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:28:57.326 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:29:01.780 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:29:01.780 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:29:01.789 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:29:01.798 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:29:01.799 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:29:01.800 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:29:01.800 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:29:01.800 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:29:01.800 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:29:01.800 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:29:01.806 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:29:01.807 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:29:01.808 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:29:57.904 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:29:57.904 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:29:57.913 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:29:57.921 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:29:57.922 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:29:57.922 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:29:57.922 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:29:57.922 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:29:57.922 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:29:57.922 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:29:57.926 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:29:57.927 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:29:57.927 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:29:58.976 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:29:58.977 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:29:58.983 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:29:58.990 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:29:58.990 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:29:58.990 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:29:58.990 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:29:58.990 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:29:58.991 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:29:58.991 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:29:58.995 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:29:58.995 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:29:58.995 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:30:01.139 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:30:01.139 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:30:01.153 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:30:01.165 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:30:01.165 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:30:01.165 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:30:01.166 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:30:01.167 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:30:01.167 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:30:01.168 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:30:01.173 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:30:01.174 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:30:01.174 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:32:11.192 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 00:32:11.193 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 00:32:11.215 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 00:32:11.717 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:32:11.717 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:32:11.725 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:32:11.732 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:32:11.732 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:32:11.732 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:11.732 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:32:11.732 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:11.732 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:32:11.732 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:32:11.736 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:32:11.736 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:32:11.737 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:32:14.292 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:32:14.292 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:32:14.302 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:32:14.311 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:32:14.311 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:32:14.312 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:14.312 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:32:14.312 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:14.312 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:32:14.312 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:32:14.316 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:32:14.317 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:32:14.317 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:32:16.819 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:32:16.819 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:32:16.830 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:32:16.838 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:32:16.839 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:32:16.839 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:16.839 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:32:16.839 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:16.839 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:32:16.839 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:32:16.843 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:32:16.844 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:32:16.844 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:32:17.711 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: VIDEO, 页码: 0, 大小: 20
2025-07-11 00:32:17.711 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: video, 页码: 0, 大小: 20
2025-07-11 00:32:17.721 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:32:17.729 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:32:17.730 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:32:17.730 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:17.730 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:32:17.730 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:17.730 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:32:17.730 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 按文件类型查询: video
2025-07-11 00:32:17.734 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 0, 当前页数量: 0
2025-07-11 00:32:17.734 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 0
2025-07-11 00:32:18.509 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: IMAGE, 页码: 0, 大小: 20
2025-07-11 00:32:18.510 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: image, 页码: 0, 大小: 20
2025-07-11 00:32:18.547 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:32:18.569 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:32:18.571 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:32:18.573 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:18.575 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:32:18.575 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:18.576 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:32:18.577 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 按文件类型查询: image
2025-07-11 00:32:18.582 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 2, 当前页数量: 2
2025-07-11 00:32:18.582 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 2
2025-07-11 00:32:18.582 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 2 个文件
2025-07-11 00:32:19.484 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: AUDIO, 页码: 0, 大小: 20
2025-07-11 00:32:19.484 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: audio, 页码: 0, 大小: 20
2025-07-11 00:32:19.493 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:32:19.502 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:32:19.502 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:32:19.503 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:19.504 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:32:19.504 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:19.504 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:32:19.504 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 按文件类型查询: audio
2025-07-11 00:32:19.508 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 0, 当前页数量: 0
2025-07-11 00:32:19.509 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 0
2025-07-11 00:32:20.743 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: DOCUMENT, 页码: 0, 大小: 20
2025-07-11 00:32:20.743 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: document, 页码: 0, 大小: 20
2025-07-11 00:32:20.752 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:32:20.761 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:32:20.761 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:32:20.762 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:20.762 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:32:20.762 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:20.762 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:32:20.762 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 按文件类型查询: document
2025-07-11 00:32:20.766 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 2, 当前页数量: 2
2025-07-11 00:32:20.766 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 2
2025-07-11 00:32:20.766 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 2 个文件
2025-07-11 00:32:22.476 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: OTHER, 页码: 0, 大小: 20
2025-07-11 00:32:22.476 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: other, 页码: 0, 大小: 20
2025-07-11 00:32:22.488 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:32:22.498 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:32:22.499 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:32:22.500 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:22.500 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:32:22.500 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:22.500 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:32:22.500 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 按文件类型查询: other
2025-07-11 00:32:22.504 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 0, 当前页数量: 0
2025-07-11 00:32:22.504 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 0
2025-07-11 00:32:23.725 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:32:23.725 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:32:23.740 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:32:23.752 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:32:23.753 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:32:23.753 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:23.753 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:32:23.753 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:32:23.753 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:32:23.753 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:32:23.757 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:32:23.757 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:32:23.758 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:35:18.098 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-07-11 00:35:18.105 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 00:35:18.106 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@432db3b5]]
2025-07-11 00:35:18.106 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 00:35:18.107 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 00:35:18.440 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:35:18.444 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 00:35:18.452 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 00:35:18.615 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 34764 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:35:18.615 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:35:18.844 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:35:18.844 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:35:18.873 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 00:35:18.949 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:35:18.949 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:35:18.959 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:18.960 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:18.960 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:18.960 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:18.961 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:18.961 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:18.961 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-07-11 00:35:19.120 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:35:19.121 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:35:19.122 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:35:19.122 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:35:19.122 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:35:19.122 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:35:19.148 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:35:19.148 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 531 ms
2025-07-11 00:35:19.236 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-11 00:35:19.252 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@619b9390
2025-07-11 00:35:19.252 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-11 00:35:19.324 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:35:19.372 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.023s)
2025-07-11 00:35:19.388 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250110.001
2025-07-11 00:35:19.406 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Migrating schema `im_db` to version "20250111.001 - fix file type column"
2025-07-11 00:35:20.092 [restartedMain] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - +--------------------------------+
| message                        |
+--------------------------------+
| file_type和storage_type字段类型修复完成 |
+--------------------------------+

2025-07-11 00:35:20.129 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 1 migration to schema `im_db`, now at version v20250111.001 (execution time 00:00.690s)
2025-07-11 00:35:20.159 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:35:20.161 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:35:20.216 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:35:20.286 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:35:20.298 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:35:20.492 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 00:35:20.777 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 00:35:20.777 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 00:35:20.848 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 00:35:20.906 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 00:35:20.930 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 00:35:20.930 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 00:35:21.027 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 00:35:21.034 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 00:35:21.092 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 00:35:21.139 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 00:35:21.240 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 00:35:21.465 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 00:35:21.478 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 00:35:21.480 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 00:35:21.481 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 00:35:21.481 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2f00cb86]]
2025-07-11 00:35:21.481 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 00:35:21.488 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.912 seconds (process running for 714.88)
2025-07-11 00:35:21.489 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 00:35:21.503 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 00:35:21.516 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 00:35:21.526 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 00:35:21.538 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 00:35:21.550 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 00:35:21.562 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 00:35:21.585 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 00:35:21.587 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 00:35:35.588 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 00:35:35.588 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 00:35:35.590 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 00:35:43.498 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 187 class path changes (0 additions, 187 deletions, 0 modifications)
2025-07-11 00:35:43.500 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 00:35:43.500 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2f00cb86]]
2025-07-11 00:35:43.500 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 00:35:43.500 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 00:35:43.841 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:35:43.841 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-07-11 00:35:43.844 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-07-11 00:35:43.974 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 34764 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:35:43.974 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:35:44.200 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:35:44.200 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:35:44.208 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-07-11 00:35:44.211 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:35:44.211 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:35:44.224 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-07-11 00:35:44.320 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:35:44.321 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:35:44.322 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:35:44.322 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:35:44.322 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:35:44.322 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:35:44.350 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:35:44.350 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 375 ms
2025-07-11 00:35:44.399 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-11 00:35:44.411 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2aa6fad3
2025-07-11 00:35:44.411 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-11 00:35:44.430 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:35:44.457 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.014s)
2025-07-11 00:35:44.473 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:35:44.475 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:35:44.501 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:35:44.503 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:35:44.512 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:35:44.529 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:35:44.529 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:35:44.549 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 00:35:44.685 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 00:35:44.715 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 00:35:44.750 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 00:35:44.758 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 00:35:44.761 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 00:35:44.769 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 0.821 seconds (process running for 738.16)
2025-07-11 00:35:44.773 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   JpaRepositoriesAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.data.jpa.repository.JpaRepository' (OnClassCondition)
      - @ConditionalOnProperty (spring.data.jpa.repositories.enabled=true) matched (OnPropertyCondition)
      - @ConditionalOnBean (types: javax.sql.DataSource; SearchStrategy: all) found bean 'dataSource'; @ConditionalOnMissingBean (types: org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean,org.springframework.data.jpa.repository.config.JpaRepositoryConfigExtension; SearchStrategy: all) did not find any beans (OnBeanCondition)

   ManagementWebSecurityAutoConfiguration matched:
      - found 'session' scope (OnWebApplicationCondition)
      - AllNestedConditions 2 matched 0 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) did not find any beans; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)

   RedisAutoConfiguration#redisTemplate matched:
      - @ConditionalOnSingleCandidate (types: org.springframework.data.redis.connection.RedisConnectionFactory; SearchStrategy: all) found a single bean 'redisConnectionFactory'; @ConditionalOnMissingBean (names: redisTemplate; SearchStrategy: all) did not find any beans (OnBeanCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)
      - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) did not find any beans (OnBeanCondition)

   TaskExecutorConfigurations.TaskExecutorConfiguration matched:
      - @ConditionalOnMissingBean (types: java.util.concurrent.Executor; SearchStrategy: all) did not find any beans (OnBeanCondition)

   TaskExecutorConfigurations.TaskExecutorConfiguration#applicationTaskExecutor matched:
      - @ConditionalOnThreading found PLATFORM (OnThreadingCondition)

   TaskSchedulingConfigurations.TaskSchedulerConfiguration matched:
      - @ConditionalOnBean (names: org.springframework.context.annotation.internalScheduledAnnotationProcessor; SearchStrategy: all) found bean 'org.springframework.context.annotation.internalScheduledAnnotationProcessor'; @ConditionalOnMissingBean (types: org.springframework.scheduling.TaskScheduler,java.util.concurrent.ScheduledExecutorService; SearchStrategy: all) did not find any beans (OnBeanCondition)

   TaskSchedulingConfigurations.TaskSchedulerConfiguration#taskScheduler matched:
      - @ConditionalOnThreading found PLATFORM (OnThreadingCondition)

   TransactionAutoConfiguration.EnableTransactionManagementConfiguration matched:
      - @ConditionalOnBean (types: org.springframework.transaction.TransactionManager; SearchStrategy: all) found bean 'transactionManager'; @ConditionalOnMissingBean (types: org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration; SearchStrategy: all) did not find any beans (OnBeanCondition)

   TransactionAutoConfiguration.EnableTransactionManagementConfiguration.CglibAutoProxyConfiguration matched:
      - @ConditionalOnProperty (spring.aop.proxy-target-class=true) matched (OnPropertyCondition)


Negative matches:
-----------------

   CacheMetricsAutoConfiguration:
      Did not match:
         - @ConditionalOnBean (types: org.springframework.cache.CacheManager; SearchStrategy: all) did not find any beans of type org.springframework.cache.CacheManager (OnBeanCondition)

   JpaRepositoriesAutoConfiguration#entityManagerFactoryBootstrapExecutorCustomizer:
      Did not match:
         - AnyNestedCondition 0 matched 2 did not; NestedCondition on JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition.LazyBootstrapMode @ConditionalOnProperty (spring.data.jpa.repositories.bootstrap-mode=lazy) did not find property 'bootstrap-mode'; NestedCondition on JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition.DeferredBootstrapMode @ConditionalOnProperty (spring.data.jpa.repositories.bootstrap-mode=deferred) did not find property 'bootstrap-mode' (JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition)

   TaskExecutorConfigurations.TaskExecutorConfiguration#applicationTaskExecutorVirtualThreads:
      Did not match:
         - @ConditionalOnThreading did not find VIRTUAL (OnThreadingCondition)

   TaskSchedulingConfigurations.TaskSchedulerConfiguration#taskSchedulerVirtualThreads:
      Did not match:
         - @ConditionalOnThreading did not find VIRTUAL (OnThreadingCondition)

   WebSocketMessagingAutoConfiguration.WebSocketMessageConverterConfiguration:
      Did not match:
         - @ConditionalOnBean (types: org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration,com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) did not find any beans of type org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required classes 'com.fasterxml.jackson.databind.ObjectMapper', 'org.springframework.messaging.simp.config.AbstractMessageBrokerConfiguration' (OnClassCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-07-11 00:35:49.467 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 187 class path changes (187 additions, 0 deletions, 0 modifications)
2025-07-11 00:35:49.469 [Thread-11] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 00:35:49.781 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:35:49.782 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-07-11 00:35:49.785 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-07-11 00:35:49.903 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 34764 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:35:49.903 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:35:50.096 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:35:50.098 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:35:50.127 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 00:35:50.197 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:35:50.197 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:35:50.210 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:50.210 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:50.210 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:50.212 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:50.212 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:50.212 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:50.213 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-07-11 00:35:50.346 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:35:50.346 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:35:50.346 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:35:50.347 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:35:50.347 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:35:50.347 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:35:50.372 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:35:50.373 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 468 ms
2025-07-11 00:35:50.459 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-07-11 00:35:50.471 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1f59c9a
2025-07-11 00:35:50.471 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-07-11 00:35:50.544 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:35:50.571 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.015s)
2025-07-11 00:35:50.586 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:35:50.588 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:35:50.618 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:35:50.621 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:35:50.626 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:35:50.702 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:35:50.721 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:35:50.922 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 00:35:51.171 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 00:35:51.197 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 00:35:51.197 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 00:35:51.209 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 14300 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:35:51.210 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:35:51.254 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 00:35:51.254 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 00:35:51.258 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 00:35:51.317 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 00:35:51.341 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 00:35:51.342 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 00:35:51.437 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 00:35:51.445 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 00:35:51.505 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 00:35:51.557 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 00:35:51.698 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 00:35:51.952 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:35:51.953 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:35:51.986 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 00:35:52.002 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 00:35:52.006 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 00:35:52.006 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 00:35:52.006 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6071c0d7]]
2025-07-11 00:35:52.007 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 00:35:52.014 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.133 seconds (process running for 745.406)
2025-07-11 00:35:52.015 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 00:35:52.030 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 00:35:52.045 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 00:35:52.063 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 00:35:52.077 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 00:35:52.091 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 00:35:52.105 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 00:35:52.111 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 151 ms. Found 6 JPA repository interfaces.
2025-07-11 00:35:52.133 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 00:35:52.134 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   CacheMetricsAutoConfiguration matched:
      - @ConditionalOnBean (types: org.springframework.cache.CacheManager; SearchStrategy: all) found bean 'cacheManager' (OnBeanCondition)

   CacheMetricsRegistrarConfiguration matched:
      - @ConditionalOnBean (types: org.springframework.boot.actuate.metrics.cache.CacheMeterBinderProvider,io.micrometer.core.instrument.MeterRegistry; SearchStrategy: all) found beans 'simpleMeterRegistry', 'redisCacheMeterBinderProvider' (OnBeanCondition)

   DataConsistencyMonitorTask matched:
      - @ConditionalOnProperty (app.data-consistency.monitor.enabled=true) matched (OnPropertyCondition)

   FileCleanupTask matched:
      - @ConditionalOnProperty (app.file.cleanup.enabled=true) matched (OnPropertyCondition)

   RealTimeDataConsistencyListener matched:
      - @ConditionalOnProperty (app.data-consistency.real-time.enabled=true) matched (OnPropertyCondition)

   WebSocketMessagingAutoConfiguration.WebSocketMessageConverterConfiguration matched:
      - @ConditionalOnClass found required classes 'com.fasterxml.jackson.databind.ObjectMapper', 'org.springframework.messaging.simp.config.AbstractMessageBrokerConfiguration' (OnClassCondition)
      - @ConditionalOnBean (types: org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration,com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) found beans 'jacksonObjectMapper', 'org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration' (OnBeanCondition)


Negative matches:
-----------------

   JpaRepositoriesAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean,org.springframework.data.jpa.repository.config.JpaRepositoryConfigExtension; SearchStrategy: all) found beans of type 'org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean' &loginDeviceRepository, &userSettingsRepository, &fileUploadRepository, &verificationCodeRepository, &userRepository, &userDeviceRepository and found beans of type 'org.springframework.data.jpa.repository.config.JpaRepositoryConfigExtension' org.springframework.data.jpa.repository.config.JpaRepositoryConfigExtension#0 (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.data.jpa.repository.JpaRepository' (OnClassCondition)
         - @ConditionalOnProperty (spring.data.jpa.repositories.enabled=true) matched (OnPropertyCondition)

   ManagementWebSecurityAutoConfiguration:
      Did not match:
         - AllNestedConditions 1 matched 1 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) found beans of type 'org.springframework.security.web.SecurityFilterChain' filterChain; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)
      Matched:
         - found 'session' scope (OnWebApplicationCondition)

   RedisAutoConfiguration#redisTemplate:
      Did not match:
         - @ConditionalOnMissingBean (names: redisTemplate; SearchStrategy: all) found beans named redisTemplate (OnBeanCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) found beans named springSecurityFilterChain (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)

   TaskExecutorConfigurations.TaskExecutorConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: java.util.concurrent.Executor; SearchStrategy: all) found beans of type 'java.util.concurrent.Executor' dataConsistencyExecutor, taskExecutor, clientInboundChannelExecutor, clientOutboundChannelExecutor, brokerChannelExecutor (OnBeanCondition)

   TaskSchedulingConfigurations.TaskSchedulerConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.scheduling.TaskScheduler,java.util.concurrent.ScheduledExecutorService; SearchStrategy: all) found beans of type 'org.springframework.scheduling.TaskScheduler' messageBrokerTaskScheduler (OnBeanCondition)

   TransactionAutoConfiguration.EnableTransactionManagementConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration; SearchStrategy: all) found beans of type 'org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration' org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration (OnBeanCondition)

   TransactionAutoConfiguration.EnableTransactionManagementConfiguration.CglibAutoProxyConfiguration:
      Did not match:
         - Ancestor org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration did not match (ConditionEvaluationReport.AncestorsMatchedCondition)
      Matched:
         - @ConditionalOnProperty (spring.aop.proxy-target-class=true) matched (OnPropertyCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-07-11 00:35:52.420 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:35:52.422 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:35:52.447 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:52.447 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:52.448 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:52.448 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:52.449 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:52.449 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:35:52.449 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-07-11 00:35:53.483 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:35:53.485 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:35:53.489 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:35:53.499 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:35:53.502 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:35:53.502 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:35:53.556 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:35:53.557 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2302 ms
2025-07-11 00:35:53.839 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 00:35:53.971 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@67e90a03
2025-07-11 00:35:53.973 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 00:35:54.018 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:35:54.075 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.034s)
2025-07-11 00:35:54.098 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:35:54.101 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:35:54.187 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:35:54.257 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 00:35:54.293 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:35:54.543 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:35:55.439 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:35:55.481 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:35:56.206 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 00:35:56.398 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 00:35:56.399 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 00:35:56.598 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 00:35:56.640 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 00:35:57.104 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 00:35:57.133 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 00:35:57.134 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 00:35:57.274 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 00:35:57.285 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 00:35:57.428 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 00:35:57.546 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 00:35:57.738 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 00:35:58.281 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 00:35:58.301 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:35:58.303 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 00:35:58.309 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 00:35:58.358 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 00:36:49.415 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 00:36:49.454 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 5040 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:36:49.455 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:36:49.492 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 00:36:49.492 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 00:36:50.074 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:36:50.074 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:36:50.197 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 117 ms. Found 6 JPA repository interfaces.
2025-07-11 00:36:50.471 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:36:50.472 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:36:50.494 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:36:50.494 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:36:50.495 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:36:50.495 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:36:50.496 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:36:50.496 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:36:50.496 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-07-11 00:36:51.228 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:36:51.230 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:36:51.233 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:36:51.243 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:36:51.245 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:36:51.245 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:36:51.293 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:36:51.294 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1800 ms
2025-07-11 00:36:51.567 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 00:36:51.684 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@67e90a03
2025-07-11 00:36:51.686 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 00:36:51.778 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:36:51.846 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.035s)
2025-07-11 00:36:51.870 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:36:51.873 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:36:51.950 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:36:51.990 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 00:36:52.018 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:36:52.225 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:36:52.949 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:36:52.992 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:36:53.641 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 00:36:53.789 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 00:36:53.789 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 00:36:53.968 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 00:36:54.003 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 00:36:54.390 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 00:36:54.423 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 00:36:54.424 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 00:36:54.542 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 00:36:54.550 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 00:36:54.683 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 00:36:54.812 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 00:36:55.004 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 00:36:55.456 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 00:36:55.502 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 00:36:55.521 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 00:36:55.523 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 00:36:55.523 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1032ac44]]
2025-07-11 00:36:55.524 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 00:36:55.541 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 6.473 seconds (process running for 6.829)
2025-07-11 00:36:55.601 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 00:36:55.618 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 00:36:55.630 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 00:36:55.645 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 00:36:55.657 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 00:36:55.669 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 00:36:55.680 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 00:36:55.709 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 00:37:35.642 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 00:37:35.642 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 00:37:35.645 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-11 00:37:38.893 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 00:37:38.894 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 00:37:38.978 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 00:37:39.482 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:37:39.483 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:37:39.566 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:37:39.589 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:37:39.590 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:37:39.590 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:37:39.590 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:37:39.591 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:37:39.591 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:37:39.591 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:37:39.600 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:37:39.601 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:37:39.601 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:37:41.432 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:37:41.433 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:37:41.442 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:37:41.450 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:37:41.451 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:37:41.451 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:37:41.451 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:37:41.451 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:37:41.452 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:37:41.452 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:37:41.455 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:37:41.455 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:37:41.455 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:37:44.186 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:37:44.186 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:37:44.197 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:37:44.210 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:37:44.210 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:37:44.210 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:37:44.211 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:37:44.211 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:37:44.211 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:37:44.211 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:37:44.217 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:37:44.218 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:37:44.218 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:37:45.234 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:37:45.236 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:37:45.245 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:37:45.255 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:37:45.255 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:37:45.256 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:37:45.256 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:37:45.256 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:37:45.257 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:37:45.257 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:37:45.263 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:37:45.263 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:37:45.266 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:37:45.855 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:37:45.856 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:37:45.866 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:37:45.875 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:37:45.877 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:37:45.877 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:37:45.878 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:37:45.878 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:37:45.878 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:37:45.878 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:37:45.883 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:37:45.884 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:37:45.884 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:37:47.501 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: VIDEO, 页码: 0, 大小: 20
2025-07-11 00:37:47.502 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: video, 页码: 0, 大小: 20
2025-07-11 00:37:47.513 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:37:47.523 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:37:47.524 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:37:47.525 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:37:47.525 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:37:47.525 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:37:47.526 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:37:47.528 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 按文件类型查询: video
2025-07-11 00:37:47.534 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 0, 当前页数量: 0
2025-07-11 00:37:47.535 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 0
2025-07-11 00:37:48.800 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: IMAGE, 页码: 0, 大小: 20
2025-07-11 00:37:48.800 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: image, 页码: 0, 大小: 20
2025-07-11 00:37:48.809 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:37:48.819 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:37:48.819 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:37:48.820 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:37:48.820 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:37:48.820 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:37:48.820 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:37:48.820 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 按文件类型查询: image
2025-07-11 00:37:48.824 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 2, 当前页数量: 2
2025-07-11 00:37:48.824 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 2
2025-07-11 00:37:48.826 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 2 个文件
2025-07-11 00:37:55.492 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 6, active threads = 1, queued tasks = 5, completed tasks = 0]
2025-07-11 00:40:38.983 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 184 class path changes (0 additions, 0 deletions, 184 modifications)
2025-07-11 00:40:38.987 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 00:40:38.988 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1032ac44]]
2025-07-11 00:40:38.988 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 00:40:38.989 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 00:40:39.268 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:40:39.271 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 00:40:39.276 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 00:40:39.397 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 5040 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:40:39.398 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:40:39.576 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:40:39.576 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:40:39.607 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 6 JPA repository interfaces.
2025-07-11 00:40:39.681 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:40:39.681 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:40:39.690 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:40:39.690 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:40:39.690 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:40:39.691 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:40:39.691 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:40:39.691 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:40:39.691 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 00:40:39.827 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:40:39.828 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:40:39.828 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:40:39.829 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:40:39.829 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:40:39.830 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:40:39.853 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:40:39.853 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 454 ms
2025-07-11 00:40:39.936 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-11 00:40:39.947 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@27724902
2025-07-11 00:40:39.948 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-11 00:40:40.013 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:40:40.046 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.018s)
2025-07-11 00:40:40.059 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:40:40.061 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:40:40.089 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:40:40.091 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:40:40.098 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:40:40.175 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:40:40.199 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:40:40.391 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 00:40:40.392 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 00:40:40.392 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 00:40:40.439 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 00:40:40.494 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 00:40:40.516 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 00:40:40.516 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 00:40:40.597 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 00:40:40.603 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 00:40:40.661 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 00:40:40.701 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 00:40:40.801 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 00:40:41.020 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 00:40:41.033 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 00:40:41.036 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 00:40:41.037 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 00:40:41.037 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5b8631d3]]
2025-07-11 00:40:41.037 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 00:40:41.045 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.674 seconds (process running for 232.333)
2025-07-11 00:40:41.046 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 00:40:41.059 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 00:40:41.077 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 00:40:41.095 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 00:40:41.114 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 00:40:41.137 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 00:40:41.156 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 00:40:41.182 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 00:40:41.184 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 00:40:42.465 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 18 class path changes (0 additions, 0 deletions, 18 modifications)
2025-07-11 00:40:42.467 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 00:40:42.467 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5b8631d3]]
2025-07-11 00:40:42.467 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 00:40:42.467 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 00:40:42.799 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:40:42.799 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-07-11 00:40:42.802 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-07-11 00:40:42.902 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 5040 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:40:42.902 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:40:43.077 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:40:43.078 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:40:43.106 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 6 JPA repository interfaces.
2025-07-11 00:40:43.167 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:40:43.167 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:40:43.177 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:40:43.177 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:40:43.177 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:40:43.177 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:40:43.178 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:40:43.178 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:40:43.179 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-07-11 00:40:43.327 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:40:43.328 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:40:43.328 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:40:43.328 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:40:43.329 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:40:43.329 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:40:43.351 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:40:43.352 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 448 ms
2025-07-11 00:40:43.431 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-11 00:40:43.439 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5d0e729
2025-07-11 00:40:43.439 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-11 00:40:43.444 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:40:43.464 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.010s)
2025-07-11 00:40:43.477 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:40:43.478 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:40:43.506 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:40:43.508 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:40:43.512 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:40:43.581 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:40:43.591 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:40:43.796 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 00:40:43.797 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 00:40:43.798 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 00:40:43.867 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 00:40:43.920 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 00:40:43.941 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 00:40:43.942 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 00:40:44.020 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 00:40:44.028 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 00:40:44.081 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 00:40:44.129 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 00:40:44.227 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 00:40:44.436 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 00:40:44.448 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 00:40:44.450 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 00:40:44.450 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 00:40:44.451 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@796ca0e3]]
2025-07-11 00:40:44.451 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 00:40:44.459 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.58 seconds (process running for 235.746)
2025-07-11 00:40:44.460 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 00:40:44.473 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 00:40:44.483 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 00:40:44.755 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 00:40:44.765 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 00:40:44.776 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 00:40:44.787 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 00:40:44.806 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 00:40:44.807 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 00:41:35.569 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 00:41:35.569 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 00:41:35.571 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 00:41:44.446 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 6, active threads = 1, queued tasks = 5, completed tasks = 0]
2025-07-11 00:43:06.510 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 00:43:06.512 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 00:43:06.556 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 00:43:07.061 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:43:07.061 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:43:07.071 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:43:07.080 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:43:07.080 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:43:07.081 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:43:07.081 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:43:07.081 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:43:07.082 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:43:07.082 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:43:07.088 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:43:07.089 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:43:07.090 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:43:08.865 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:43:08.865 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:43:08.874 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:43:08.880 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:43:08.880 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:43:08.881 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:43:08.881 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:43:08.881 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:43:08.881 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:43:08.882 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:43:08.885 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:43:08.885 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:43:08.885 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:43:09.654 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:43:09.654 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:43:09.664 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:43:09.672 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:43:09.672 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:43:09.672 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:43:09.672 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:43:09.672 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:43:09.672 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:43:09.672 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:43:09.676 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:43:09.676 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:43:09.676 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:43:25.331 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:43:25.331 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:43:25.342 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:43:25.350 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:43:25.350 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:43:25.350 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:43:25.350 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:43:25.350 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:43:25.350 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:43:25.350 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:43:25.353 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:43:25.353 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:43:25.353 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:43:48.701 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:43:48.701 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:43:48.708 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 5
2025-07-11 00:43:48.715 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 5
2025-07-11 00:43:48.715 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:43:48.715 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:43:48.715 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:43:48.715 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:43:48.715 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:43:48.715 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:43:48.721 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 4, 当前页数量: 4
2025-07-11 00:43:48.722 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 4
2025-07-11 00:43:48.722 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 4 个文件
2025-07-11 00:43:53.902 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始上传文件到MinIO，用户ID: 1, 文件名: 屏幕截图 2024-08-10 200902.png
2025-07-11 00:43:53.985 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功: im-private-images/image/2025/07/11/f0ce8f5f8ff246f090baad0c5b56f86e_1752165833902.png
2025-07-11 00:43:54.167 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件上传成功，文件ID: 10, MinIO路径: im-private-images/image/2025/07/11/f0ce8f5f8ff246f090baad0c5b56f86e_1752165833902.png
2025-07-11 00:43:54.182 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 文件上传成功，用户ID: 1, 文件ID: 10
2025-07-11 00:43:54.196 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:43:54.196 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:43:54.203 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 6
2025-07-11 00:43:54.212 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 6
2025-07-11 00:43:54.212 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:43:54.212 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:43:54.212 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:43:54.212 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:43:54.212 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:43:54.213 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:43:54.213 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:43:54.217 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 5, 当前页数量: 5
2025-07-11 00:43:54.217 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 5
2025-07-11 00:43:54.217 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 5 个文件
2025-07-11 00:43:55.171 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:43:55.171 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:43:55.184 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 6
2025-07-11 00:43:55.192 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 6
2025-07-11 00:43:55.193 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:43:55.193 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:43:55.193 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:43:55.193 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:43:55.193 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:43:55.193 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:43:55.194 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:43:55.197 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 5, 当前页数量: 5
2025-07-11 00:43:55.197 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 5
2025-07-11 00:43:55.198 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 5 个文件
2025-07-11 00:44:33.866 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 00:44:42.976 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=1, fileName=202302091675904140211711.jpg
2025-07-11 00:44:42.978 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=1, fileName=202302091675904140211711.jpg
2025-07-11 00:44:43.079 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 公开文件上传成功: userId=1, fileId=11, fileName=202302091675904140211711.jpg
2025-07-11 00:44:43.081 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=1, avatarUrl=http://localhost:9000/im-public-images/public/image/1/d0dbd33f-d6ab-4983-85e4-ceb133937ca8.jpg
2025-07-11 00:44:43.119 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 00:44:45.402 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 00:44:45.405 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 00:44:45.417 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 00:44:45.432 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 00:45:35.710 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 187 class path changes (0 additions, 187 deletions, 0 modifications)
2025-07-11 00:45:35.712 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 00:45:35.712 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@796ca0e3]]
2025-07-11 00:45:35.712 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 00:45:35.712 [Thread-11] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 00:45:36.026 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:45:36.027 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-07-11 00:45:36.029 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-07-11 00:45:36.143 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 5040 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:45:36.143 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:45:36.366 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:45:36.368 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:45:36.376 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-07-11 00:45:36.378 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:45:36.378 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:45:36.384 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-07-11 00:45:36.468 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:45:36.469 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:45:36.469 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:45:36.470 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:45:36.470 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:45:36.470 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:45:36.494 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:45:36.494 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 349 ms
2025-07-11 00:45:36.549 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-07-11 00:45:36.560 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@647adc43
2025-07-11 00:45:36.560 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-07-11 00:45:36.607 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:45:36.643 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.020s)
2025-07-11 00:45:36.664 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:45:36.665 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:45:36.693 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:45:36.695 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:45:36.703 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:45:36.722 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:45:36.723 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:45:36.751 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 00:45:36.931 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 00:45:36.962 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 00:45:37.010 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 00:45:37.017 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 00:45:37.020 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 00:45:37.026 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 0.912 seconds (process running for 528.314)
2025-07-11 00:45:37.029 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   JpaRepositoriesAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.data.jpa.repository.JpaRepository' (OnClassCondition)
      - @ConditionalOnProperty (spring.data.jpa.repositories.enabled=true) matched (OnPropertyCondition)
      - @ConditionalOnBean (types: javax.sql.DataSource; SearchStrategy: all) found bean 'dataSource'; @ConditionalOnMissingBean (types: org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean,org.springframework.data.jpa.repository.config.JpaRepositoryConfigExtension; SearchStrategy: all) did not find any beans (OnBeanCondition)

   ManagementWebSecurityAutoConfiguration matched:
      - found 'session' scope (OnWebApplicationCondition)
      - AllNestedConditions 2 matched 0 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) did not find any beans; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)

   RedisAutoConfiguration#redisTemplate matched:
      - @ConditionalOnSingleCandidate (types: org.springframework.data.redis.connection.RedisConnectionFactory; SearchStrategy: all) found a single bean 'redisConnectionFactory'; @ConditionalOnMissingBean (names: redisTemplate; SearchStrategy: all) did not find any beans (OnBeanCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)
      - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) did not find any beans (OnBeanCondition)

   TaskExecutorConfigurations.TaskExecutorConfiguration matched:
      - @ConditionalOnMissingBean (types: java.util.concurrent.Executor; SearchStrategy: all) did not find any beans (OnBeanCondition)

   TaskExecutorConfigurations.TaskExecutorConfiguration#applicationTaskExecutor matched:
      - @ConditionalOnThreading found PLATFORM (OnThreadingCondition)

   TaskSchedulingConfigurations.TaskSchedulerConfiguration matched:
      - @ConditionalOnBean (names: org.springframework.context.annotation.internalScheduledAnnotationProcessor; SearchStrategy: all) found bean 'org.springframework.context.annotation.internalScheduledAnnotationProcessor'; @ConditionalOnMissingBean (types: org.springframework.scheduling.TaskScheduler,java.util.concurrent.ScheduledExecutorService; SearchStrategy: all) did not find any beans (OnBeanCondition)

   TaskSchedulingConfigurations.TaskSchedulerConfiguration#taskScheduler matched:
      - @ConditionalOnThreading found PLATFORM (OnThreadingCondition)

   TransactionAutoConfiguration.EnableTransactionManagementConfiguration matched:
      - @ConditionalOnBean (types: org.springframework.transaction.TransactionManager; SearchStrategy: all) found bean 'transactionManager'; @ConditionalOnMissingBean (types: org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration; SearchStrategy: all) did not find any beans (OnBeanCondition)

   TransactionAutoConfiguration.EnableTransactionManagementConfiguration.CglibAutoProxyConfiguration matched:
      - @ConditionalOnProperty (spring.aop.proxy-target-class=true) matched (OnPropertyCondition)


Negative matches:
-----------------

   CacheMetricsAutoConfiguration:
      Did not match:
         - @ConditionalOnBean (types: org.springframework.cache.CacheManager; SearchStrategy: all) did not find any beans of type org.springframework.cache.CacheManager (OnBeanCondition)

   JpaRepositoriesAutoConfiguration#entityManagerFactoryBootstrapExecutorCustomizer:
      Did not match:
         - AnyNestedCondition 0 matched 2 did not; NestedCondition on JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition.LazyBootstrapMode @ConditionalOnProperty (spring.data.jpa.repositories.bootstrap-mode=lazy) did not find property 'bootstrap-mode'; NestedCondition on JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition.DeferredBootstrapMode @ConditionalOnProperty (spring.data.jpa.repositories.bootstrap-mode=deferred) did not find property 'bootstrap-mode' (JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition)

   TaskExecutorConfigurations.TaskExecutorConfiguration#applicationTaskExecutorVirtualThreads:
      Did not match:
         - @ConditionalOnThreading did not find VIRTUAL (OnThreadingCondition)

   TaskSchedulingConfigurations.TaskSchedulerConfiguration#taskSchedulerVirtualThreads:
      Did not match:
         - @ConditionalOnThreading did not find VIRTUAL (OnThreadingCondition)

   WebSocketMessagingAutoConfiguration.WebSocketMessageConverterConfiguration:
      Did not match:
         - @ConditionalOnBean (types: org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration,com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) did not find any beans of type org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required classes 'com.fasterxml.jackson.databind.ObjectMapper', 'org.springframework.messaging.simp.config.AbstractMessageBrokerConfiguration' (OnClassCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-07-11 00:45:41.501 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 187 class path changes (187 additions, 0 deletions, 0 modifications)
2025-07-11 00:45:41.503 [Thread-15] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 00:45:41.836 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:45:41.836 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-07-11 00:45:41.838 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-07-11 00:45:41.945 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 5040 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:45:41.946 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:45:42.217 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:45:42.217 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:45:42.252 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 6 JPA repository interfaces.
2025-07-11 00:45:42.316 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:45:42.317 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:45:42.325 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:45:42.325 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:45:42.325 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:45:42.326 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:45:42.326 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:45:42.326 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:45:42.326 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 00:45:42.456 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:45:42.456 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:45:42.457 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:45:42.457 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:45:42.457 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:45:42.458 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:45:42.485 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:45:42.485 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 538 ms
2025-07-11 00:45:42.570 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-07-11 00:45:42.579 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7a7758ac
2025-07-11 00:45:42.579 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-07-11 00:45:42.636 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:45:42.667 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.017s)
2025-07-11 00:45:42.683 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:45:42.684 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:45:42.712 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:45:42.714 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:45:42.719 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:45:42.779 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:45:42.799 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:45:42.986 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 00:45:42.995 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 00:45:42.995 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 00:45:43.048 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 00:45:43.101 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 00:45:43.120 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 00:45:43.130 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 00:45:43.130 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 00:45:43.162 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 34772 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:45:43.165 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:45:43.211 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 00:45:43.211 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 00:45:43.229 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 00:45:43.237 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 00:45:43.300 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 00:45:43.352 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 00:45:43.458 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 00:45:43.683 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 00:45:43.695 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 00:45:43.698 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 00:45:43.698 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 00:45:43.698 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@33bcf07c]]
2025-07-11 00:45:43.699 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 00:45:43.706 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.785 seconds (process running for 534.994)
2025-07-11 00:45:43.707 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 00:45:43.720 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 00:45:43.733 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 00:45:43.750 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 00:45:43.767 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 00:45:43.783 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 00:45:43.796 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 00:45:43.820 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 00:45:43.821 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   CacheMetricsAutoConfiguration matched:
      - @ConditionalOnBean (types: org.springframework.cache.CacheManager; SearchStrategy: all) found bean 'cacheManager' (OnBeanCondition)

   CacheMetricsRegistrarConfiguration matched:
      - @ConditionalOnBean (types: org.springframework.boot.actuate.metrics.cache.CacheMeterBinderProvider,io.micrometer.core.instrument.MeterRegistry; SearchStrategy: all) found beans 'simpleMeterRegistry', 'redisCacheMeterBinderProvider' (OnBeanCondition)

   DataConsistencyMonitorTask matched:
      - @ConditionalOnProperty (app.data-consistency.monitor.enabled=true) matched (OnPropertyCondition)

   FileCleanupTask matched:
      - @ConditionalOnProperty (app.file.cleanup.enabled=true) matched (OnPropertyCondition)

   RealTimeDataConsistencyListener matched:
      - @ConditionalOnProperty (app.data-consistency.real-time.enabled=true) matched (OnPropertyCondition)

   WebSocketMessagingAutoConfiguration.WebSocketMessageConverterConfiguration matched:
      - @ConditionalOnClass found required classes 'com.fasterxml.jackson.databind.ObjectMapper', 'org.springframework.messaging.simp.config.AbstractMessageBrokerConfiguration' (OnClassCondition)
      - @ConditionalOnBean (types: org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration,com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) found beans 'jacksonObjectMapper', 'org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration' (OnBeanCondition)


Negative matches:
-----------------

   JpaRepositoriesAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean,org.springframework.data.jpa.repository.config.JpaRepositoryConfigExtension; SearchStrategy: all) found beans of type 'org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean' &fileUploadRepository, &loginDeviceRepository, &userSettingsRepository, &userDeviceRepository, &verificationCodeRepository, &userRepository and found beans of type 'org.springframework.data.jpa.repository.config.JpaRepositoryConfigExtension' org.springframework.data.jpa.repository.config.JpaRepositoryConfigExtension#0 (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.data.jpa.repository.JpaRepository' (OnClassCondition)
         - @ConditionalOnProperty (spring.data.jpa.repositories.enabled=true) matched (OnPropertyCondition)

   ManagementWebSecurityAutoConfiguration:
      Did not match:
         - AllNestedConditions 1 matched 1 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) found beans of type 'org.springframework.security.web.SecurityFilterChain' filterChain; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)
      Matched:
         - found 'session' scope (OnWebApplicationCondition)

   RedisAutoConfiguration#redisTemplate:
      Did not match:
         - @ConditionalOnMissingBean (names: redisTemplate; SearchStrategy: all) found beans named redisTemplate (OnBeanCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) found beans named springSecurityFilterChain (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)

   TaskExecutorConfigurations.TaskExecutorConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: java.util.concurrent.Executor; SearchStrategy: all) found beans of type 'java.util.concurrent.Executor' dataConsistencyExecutor, taskExecutor, clientInboundChannelExecutor, clientOutboundChannelExecutor, brokerChannelExecutor (OnBeanCondition)

   TaskSchedulingConfigurations.TaskSchedulerConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.scheduling.TaskScheduler,java.util.concurrent.ScheduledExecutorService; SearchStrategy: all) found beans of type 'org.springframework.scheduling.TaskScheduler' messageBrokerTaskScheduler (OnBeanCondition)

   TransactionAutoConfiguration.EnableTransactionManagementConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration; SearchStrategy: all) found beans of type 'org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration' org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration (OnBeanCondition)

   TransactionAutoConfiguration.EnableTransactionManagementConfiguration.CglibAutoProxyConfiguration:
      Did not match:
         - Ancestor org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration did not match (ConditionEvaluationReport.AncestorsMatchedCondition)
      Matched:
         - @ConditionalOnProperty (spring.aop.proxy-target-class=true) matched (OnPropertyCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-07-11 00:45:43.851 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:45:43.851 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:45:43.991 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 132 ms. Found 6 JPA repository interfaces.
2025-07-11 00:45:44.294 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:45:44.295 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:45:44.326 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:45:44.327 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:45:44.328 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:45:44.328 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:45:44.329 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:45:44.330 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:45:44.331 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2025-07-11 00:45:45.137 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:45:45.140 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:45:45.144 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:45:45.154 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:45:45.157 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:45:45.158 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:45:45.212 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:45:45.213 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2001 ms
2025-07-11 00:45:45.526 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 00:45:45.661 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@67e90a03
2025-07-11 00:45:45.666 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 00:45:45.735 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:45:45.797 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.035s)
2025-07-11 00:45:45.818 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:45:45.829 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:45:45.905 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:45:45.964 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 00:45:45.999 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:45:46.260 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:45:47.290 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:45:47.330 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:45:48.012 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 00:45:48.200 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 00:45:48.201 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 00:45:48.380 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 00:45:48.420 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 00:45:48.811 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 00:45:48.839 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 00:45:48.839 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 00:45:48.963 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 00:45:48.970 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 00:45:49.123 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 00:45:49.262 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 00:45:49.460 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 00:45:49.999 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 00:45:50.018 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:45:50.020 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 00:45:50.026 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 00:45:50.077 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 00:46:10.793 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 00:46:10.794 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 00:46:10.795 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 00:46:10.867 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 00:46:10.868 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 00:46:10.899 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 00:46:11.406 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:46:11.407 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:46:11.416 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 7
2025-07-11 00:46:11.427 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 7
2025-07-11 00:46:11.428 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:46:11.428 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:46:11.428 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:46:11.428 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:46:11.428 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:46:11.428 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:46:11.428 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:46:11.428 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:46:11.437 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 6, 当前页数量: 6
2025-07-11 00:46:11.437 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 6
2025-07-11 00:46:11.437 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 6 个文件
2025-07-11 00:46:43.695 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 6, active threads = 1, queued tasks = 5, completed tasks = 0]
2025-07-11 00:47:13.352 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:47:13.352 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:47:13.363 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 7
2025-07-11 00:47:13.372 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 7
2025-07-11 00:47:13.372 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:47:13.372 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:47:13.372 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:47:13.373 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:47:13.373 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:47:13.373 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:47:13.373 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:47:13.373 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:47:13.376 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 6, 当前页数量: 6
2025-07-11 00:47:13.376 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 6
2025-07-11 00:47:13.376 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 6 个文件
2025-07-11 00:47:13.874 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:47:13.876 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:47:13.883 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 7
2025-07-11 00:47:13.891 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 7
2025-07-11 00:47:13.891 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:47:13.891 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:47:13.891 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:47:13.891 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:47:13.891 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:47:13.891 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:47:13.891 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:47:13.891 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:47:13.895 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 6, 当前页数量: 6
2025-07-11 00:47:13.895 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 6
2025-07-11 00:47:13.895 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 6 个文件
2025-07-11 00:47:14.316 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:47:14.317 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:47:14.325 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 7
2025-07-11 00:47:14.341 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 7
2025-07-11 00:47:14.342 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:47:14.343 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:47:14.343 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:47:14.343 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:47:14.343 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:47:14.344 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:47:14.344 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:47:14.345 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:47:14.350 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 6, 当前页数量: 6
2025-07-11 00:47:14.351 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 6
2025-07-11 00:47:14.351 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 6 个文件
2025-07-11 00:47:22.784 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:47:22.785 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:47:22.796 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 7
2025-07-11 00:47:22.802 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 7
2025-07-11 00:47:22.802 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:47:22.802 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:47:22.802 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:47:22.802 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:47:22.802 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:47:22.803 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:47:22.803 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:47:22.803 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:47:22.806 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 6, 当前页数量: 6
2025-07-11 00:47:22.806 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 6
2025-07-11 00:47:22.806 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 6 个文件
2025-07-11 00:47:24.323 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:47:24.324 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:47:24.339 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 7
2025-07-11 00:47:24.347 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 7
2025-07-11 00:47:24.347 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:47:24.348 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:47:24.348 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:47:24.348 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:47:24.348 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:47:24.348 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:47:24.349 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:47:24.350 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:47:24.353 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 6, 当前页数量: 6
2025-07-11 00:47:24.353 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 6
2025-07-11 00:47:24.353 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 6 个文件
2025-07-11 00:48:01.374 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:48:01.375 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:48:01.382 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 7
2025-07-11 00:48:01.391 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 7
2025-07-11 00:48:01.392 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:48:01.392 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:48:01.392 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:48:01.392 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:48:01.393 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:48:01.393 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:48:01.394 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:48:01.394 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:48:01.398 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 6, 当前页数量: 6
2025-07-11 00:48:01.399 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 6
2025-07-11 00:48:01.400 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 6 个文件
2025-07-11 00:48:02.059 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:48:02.059 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:48:02.069 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 7
2025-07-11 00:48:02.078 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 7
2025-07-11 00:48:02.079 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:48:02.079 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:48:02.079 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:48:02.079 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:48:02.079 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:48:02.080 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:48:02.080 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:48:02.080 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:48:02.085 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 6, 当前页数量: 6
2025-07-11 00:48:02.085 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 6
2025-07-11 00:48:02.086 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 6 个文件
2025-07-11 00:48:07.225 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:48:07.226 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:48:07.235 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 7
2025-07-11 00:48:07.245 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 7
2025-07-11 00:48:07.245 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:48:07.246 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:48:07.246 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:48:07.246 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:48:07.246 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:48:07.248 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:48:07.248 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:48:07.248 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:48:07.254 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 6, 当前页数量: 6
2025-07-11 00:48:07.255 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 6
2025-07-11 00:48:07.256 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 6 个文件
2025-07-11 00:48:10.167 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:48:10.168 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:48:10.178 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 7
2025-07-11 00:48:10.187 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 7
2025-07-11 00:48:10.188 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:48:10.188 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:48:10.188 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:48:10.188 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:48:10.188 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:48:10.188 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:48:10.188 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:48:10.188 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:48:10.193 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 6, 当前页数量: 6
2025-07-11 00:48:10.193 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 6
2025-07-11 00:48:10.193 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 6 个文件
2025-07-11 00:48:43.219 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 00:48:43.221 [Thread-19] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 00:48:43.221 [Thread-19] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@33bcf07c]]
2025-07-11 00:48:43.221 [Thread-19] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 00:48:43.221 [Thread-19] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 00:48:43.504 [Thread-19] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:48:43.505 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-07-11 00:48:43.506 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-07-11 00:48:43.624 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 5040 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:48:43.624 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:48:43.824 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:48:43.824 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:48:43.855 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 00:48:43.930 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:48:43.931 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:48:43.939 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:48:43.939 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:48:43.940 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:48:43.940 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:48:43.940 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:48:43.940 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:48:43.940 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 00:48:44.074 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:48:44.075 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:48:44.076 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:48:44.076 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:48:44.077 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:48:44.077 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:48:44.100 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:48:44.100 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 475 ms
2025-07-11 00:48:44.184 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-07-11 00:48:44.303 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8a68e6f
2025-07-11 00:48:44.312 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-07-11 00:48:44.376 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:48:44.405 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.011s)
2025-07-11 00:48:44.417 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:48:44.419 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:48:44.447 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:48:44.450 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:48:44.457 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:48:44.543 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:48:44.562 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:48:44.754 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 00:48:44.755 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 00:48:44.755 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 00:48:44.802 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 00:48:44.848 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 00:48:44.869 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 00:48:44.870 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 00:48:44.956 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 00:48:44.963 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 00:48:45.013 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 00:48:45.055 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 00:48:45.151 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 00:48:45.363 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 00:48:45.375 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 00:48:45.378 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 00:48:45.379 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 00:48:45.379 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1d242989]]
2025-07-11 00:48:45.379 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 00:48:45.386 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.784 seconds (process running for 716.674)
2025-07-11 00:48:45.387 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 00:48:45.397 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 00:48:45.409 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 00:48:45.418 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 00:48:45.426 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 00:48:45.439 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 00:48:45.457 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 00:48:45.492 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 00:48:45.494 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 00:49:07.609 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 00:49:07.644 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:49:07.644 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:49:07.678 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 00:49:07.678 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 00:49:08.237 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:49:08.238 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:49:08.356 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 112 ms. Found 6 JPA repository interfaces.
2025-07-11 00:49:08.623 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:49:08.624 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:49:08.647 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:49:08.647 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:49:08.648 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:49:08.648 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:49:08.648 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:49:08.648 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:49:08.649 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-07-11 00:49:09.373 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:49:09.376 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:49:09.379 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:49:09.388 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:49:09.390 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:49:09.391 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:49:09.440 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:49:09.441 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1762 ms
2025-07-11 00:49:09.717 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 00:49:09.828 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@67e90a03
2025-07-11 00:49:09.830 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 00:49:09.875 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:49:09.936 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.038s)
2025-07-11 00:49:09.954 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:49:09.957 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:49:10.027 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:49:10.066 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 00:49:10.089 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:49:10.284 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:49:11.005 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:49:11.040 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:49:11.737 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 00:49:11.884 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 00:49:11.884 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 00:49:12.075 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 00:49:12.121 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 00:49:12.511 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 00:49:12.540 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 00:49:12.540 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 00:49:12.668 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 00:49:12.674 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 00:49:12.795 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 00:49:12.946 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 00:49:13.141 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 00:49:13.586 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 00:49:13.628 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 00:49:13.646 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 00:49:13.648 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 00:49:13.648 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1032ac44]]
2025-07-11 00:49:13.648 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 00:49:13.661 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 6.404 seconds (process running for 6.763)
2025-07-11 00:49:13.708 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 00:49:13.728 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 00:49:13.745 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 00:49:13.759 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 00:49:13.772 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 00:49:13.784 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 00:49:13.795 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 00:49:13.823 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 00:49:35.599 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 00:49:35.600 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 00:49:35.602 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 00:50:07.389 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 00:50:07.941 [http-nio-8080-exec-5] INFO  c.i.i.a.service.AccountLockService - 成功清除用户 jiapei1219@gmail.com 的登录失败记录，之前失败次数: 2
2025-07-11 00:50:07.941 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 00:50:07.941 [http-nio-8080-exec-5] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 00:50:07.954 [http-nio-8080-exec-5] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 00:50:07.983 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 00:50:07.983 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 00:50:09.570 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 00:50:09.572 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 00:50:09.609 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 00:50:10.112 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 00:50:10.115 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:50:10.115 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:50:10.131 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 7
2025-07-11 00:50:10.145 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 7
2025-07-11 00:50:10.146 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:50:10.146 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:50:10.146 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:50:10.146 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:50:10.146 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:50:10.147 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:50:10.147 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:50:10.147 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 6
2025-07-11 00:50:10.147 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:50:10.147 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=11, 名称=202302091675904140211711.jpg, 类型=image, 大小=7125
2025-07-11 00:50:10.147 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 00:50:10.147 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=9, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 00:50:10.148 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 00:50:10.148 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 00:50:10.148 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 00:50:10.151 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=4, document=2}
2025-07-11 00:50:10.152 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=6, totalSize=1904015, typeStats={image=4, document=2}
2025-07-11 00:50:10.159 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 6, 当前页数量: 6
2025-07-11 00:50:10.159 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 6
2025-07-11 00:50:10.159 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 6 个文件
2025-07-11 00:50:13.610 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 6, active threads = 1, queued tasks = 5, completed tasks = 0]
2025-07-11 00:50:23.239 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 00:50:23.242 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 00:50:23.277 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 00:50:23.784 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 00:50:23.784 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:50:23.784 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:50:23.791 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 6
2025-07-11 00:50:23.792 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=11, 名称=202302091675904140211711.jpg, 类型=image, 大小=7125
2025-07-11 00:50:23.792 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 00:50:23.792 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=9, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 00:50:23.792 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 00:50:23.792 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 00:50:23.793 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 00:50:23.793 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=4, document=2}
2025-07-11 00:50:23.793 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=6, totalSize=1904015, typeStats={image=4, document=2}
2025-07-11 00:50:23.793 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 7
2025-07-11 00:50:23.803 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 7
2025-07-11 00:50:23.803 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:50:23.804 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:50:23.804 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:50:23.804 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:50:23.804 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:50:23.804 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:50:23.804 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:50:23.805 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:50:23.810 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 6, 当前页数量: 6
2025-07-11 00:50:23.810 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 6
2025-07-11 00:50:23.811 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 6 个文件
2025-07-11 00:50:31.132 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始上传文件到MinIO，用户ID: 1, 文件名: 202302091675904140211711.jpg
2025-07-11 00:50:31.159 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功: im-private-images/image/2025/07/11/e6edb926cab44fc781852b99f9c869ec_1752166231133.jpg
2025-07-11 00:50:31.220 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件上传成功，文件ID: 12, MinIO路径: im-private-images/image/2025/07/11/e6edb926cab44fc781852b99f9c869ec_1752166231133.jpg
2025-07-11 00:50:31.231 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 文件上传成功，用户ID: 1, 文件ID: 12
2025-07-11 00:50:31.247 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 00:50:31.248 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:50:31.248 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:50:31.255 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 00:50:31.256 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 00:50:31.256 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=11, 名称=202302091675904140211711.jpg, 类型=image, 大小=7125
2025-07-11 00:50:31.256 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 00:50:31.256 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=9, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 00:50:31.256 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 00:50:31.257 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 00:50:31.257 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 00:50:31.257 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 00:50:31.257 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1927671, typeStats={image=5, document=2}
2025-07-11 00:50:31.259 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 8
2025-07-11 00:50:31.269 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 8
2025-07-11 00:50:31.270 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:50:31.270 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:50:31.270 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:50:31.271 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:50:31.271 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:50:31.271 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:50:31.271 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:50:31.272 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:50:31.272 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:50:31.277 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 00:50:31.278 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 00:50:31.279 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 00:50:36.588 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 00:50:36.590 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 00:50:36.620 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 00:50:37.124 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:50:37.124 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 00:50:37.125 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:50:37.131 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 00:50:37.132 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 00:50:37.132 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=11, 名称=202302091675904140211711.jpg, 类型=image, 大小=7125
2025-07-11 00:50:37.132 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 00:50:37.133 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=9, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 00:50:37.133 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 00:50:37.134 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 00:50:37.134 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 00:50:37.134 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 8
2025-07-11 00:50:37.134 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 00:50:37.135 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1927671, typeStats={image=5, document=2}
2025-07-11 00:50:37.145 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 8
2025-07-11 00:50:37.145 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:50:37.145 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:50:37.146 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:50:37.146 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:50:37.146 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:50:37.146 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:50:37.147 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:50:37.147 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:50:37.147 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:50:37.153 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 00:50:37.153 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 00:50:37.153 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 00:51:11.510 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 00:51:11.510 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:51:11.511 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:51:11.516 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 00:51:11.516 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 00:51:11.516 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=11, 名称=202302091675904140211711.jpg, 类型=image, 大小=7125
2025-07-11 00:51:11.516 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 00:51:11.517 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=9, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 00:51:11.517 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 00:51:11.517 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 00:51:11.517 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 00:51:11.517 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 00:51:11.517 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1927671, typeStats={image=5, document=2}
2025-07-11 00:51:11.522 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 8
2025-07-11 00:51:11.530 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 8
2025-07-11 00:51:11.530 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:51:11.530 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:51:11.530 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:51:11.531 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:51:11.531 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:51:11.531 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:51:11.531 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:51:11.531 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:51:11.532 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:51:11.535 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 00:51:11.535 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 00:51:11.536 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 00:51:13.439 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 删除文件，文件ID: 9, 用户ID: 1
2025-07-11 00:51:13.452 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件删除成功: im-private-images/image/2025/07/11/0baceaafb6654642be86c2cde0d0e857_1752164927219.png
2025-07-11 00:51:13.453 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件删除成功: 9
2025-07-11 00:51:13.466 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 文件删除成功，用户ID: 1, 文件ID: 9
2025-07-11 00:51:13.481 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 00:51:13.481 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:51:13.482 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:51:13.488 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 6
2025-07-11 00:51:13.489 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 00:51:13.489 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=11, 名称=202302091675904140211711.jpg, 类型=image, 大小=7125
2025-07-11 00:51:13.489 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 00:51:13.489 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 00:51:13.489 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 00:51:13.490 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 00:51:13.490 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=4, document=2}
2025-07-11 00:51:13.490 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=6, totalSize=1039853, typeStats={image=4, document=2}
2025-07-11 00:51:13.493 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 8
2025-07-11 00:51:13.502 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 8
2025-07-11 00:51:13.503 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:51:13.503 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:51:13.503 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:51:13.503 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:51:13.503 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 00:51:13.503 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:51:13.503 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:51:13.504 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:51:13.504 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:51:13.508 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 6, 当前页数量: 6
2025-07-11 00:51:13.509 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 6
2025-07-11 00:51:13.509 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 6 个文件
2025-07-11 00:51:14.977 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 删除文件，文件ID: 11, 用户ID: 1
2025-07-11 00:51:14.988 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件删除成功: im-public-images/public/image/1/d0dbd33f-d6ab-4983-85e4-ceb133937ca8.jpg
2025-07-11 00:51:14.988 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件删除成功: 11
2025-07-11 00:51:15.002 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 文件删除成功，用户ID: 1, 文件ID: 11
2025-07-11 00:51:15.024 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 00:51:15.024 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:51:15.025 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 00:51:15.029 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 5
2025-07-11 00:51:15.029 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 00:51:15.029 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 00:51:15.030 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 00:51:15.030 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 00:51:15.030 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 00:51:15.031 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=3, document=2}
2025-07-11 00:51:15.031 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=5, totalSize=1032728, typeStats={image=3, document=2}
2025-07-11 00:51:15.033 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 8
2025-07-11 00:51:15.042 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 8
2025-07-11 00:51:15.042 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 00:51:15.042 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:51:15.042 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:51:15.043 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 00:51:15.043 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 00:51:15.043 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 00:51:15.043 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 00:51:15.043 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 00:51:15.044 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 00:51:15.048 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 5, 当前页数量: 5
2025-07-11 00:51:15.049 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 5
2025-07-11 00:51:15.049 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 5 个文件
2025-07-11 00:57:00.436 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 00:57:00.441 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 00:57:00.441 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1032ac44]]
2025-07-11 00:57:00.441 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 00:57:00.443 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 00:57:00.722 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:57:00.725 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 00:57:00.731 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 00:57:00.846 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:57:00.847 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:57:01.059 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:57:01.059 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:57:01.091 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 6 JPA repository interfaces.
2025-07-11 00:57:01.170 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:57:01.170 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:57:01.179 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:57:01.180 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:57:01.180 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:57:01.180 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:57:01.180 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:57:01.180 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:57:01.180 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 00:57:01.464 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:57:01.464 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:57:01.466 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:57:01.466 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:57:01.467 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:57:01.467 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:57:01.499 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:57:01.500 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 653 ms
2025-07-11 00:57:01.585 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-11 00:57:01.600 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@330a8aa2
2025-07-11 00:57:01.601 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-11 00:57:01.608 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:57:01.635 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.013s)
2025-07-11 00:57:01.649 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:57:01.650 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:57:01.680 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:57:01.684 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:57:01.692 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:57:01.773 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:57:01.788 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:57:01.995 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 00:57:01.996 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 00:57:01.997 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 00:57:02.042 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 00:57:02.103 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 00:57:02.124 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 00:57:02.125 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 00:57:02.206 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 00:57:02.214 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 00:57:02.274 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 00:57:02.319 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 00:57:02.424 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 00:57:02.661 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 00:57:02.673 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 00:57:02.675 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 00:57:02.676 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 00:57:02.676 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@302064e3]]
2025-07-11 00:57:02.676 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 00:57:02.683 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.865 seconds (process running for 475.786)
2025-07-11 00:57:02.684 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 00:57:02.698 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 00:57:02.708 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 00:57:02.719 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 00:57:02.729 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 00:57:02.740 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 00:57:02.753 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 00:57:02.772 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 00:57:02.774 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 00:57:35.525 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 00:57:35.525 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 00:57:35.527 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 00:57:36.891 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 18 class path changes (1 addition, 0 deletions, 17 modifications)
2025-07-11 00:57:36.893 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 00:57:36.893 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@302064e3]]
2025-07-11 00:57:36.893 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 00:57:36.894 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 00:57:37.201 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 00:57:37.202 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-07-11 00:57:37.205 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-07-11 00:57:37.314 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:57:37.314 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:57:37.486 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:57:37.486 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:57:37.516 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 6 JPA repository interfaces.
2025-07-11 00:57:37.581 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:57:37.581 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:57:37.589 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:57:37.590 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:57:37.590 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:57:37.590 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:57:37.590 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:57:37.590 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:57:37.590 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 00:57:37.718 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:57:37.718 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:57:37.719 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:57:37.719 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:57:37.719 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:57:37.719 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:57:37.743 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:57:37.743 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 428 ms
2025-07-11 00:57:37.833 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-11 00:57:37.913 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@51c9c1e6
2025-07-11 00:57:37.914 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-11 00:57:38.164 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:57:38.187 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.011s)
2025-07-11 00:57:38.199 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:57:38.200 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:57:38.229 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:57:38.231 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:57:38.237 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:57:38.322 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:57:38.347 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-07-11 00:57:38.383 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-07-11 00:57:38.383 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 00:57:38.446 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 00:58:03.499 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:58:03.499 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:58:03.670 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:58:03.670 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:58:03.701 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 6 JPA repository interfaces.
2025-07-11 00:58:03.765 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:58:03.765 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:58:03.775 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:03.775 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:03.775 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:03.775 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:03.775 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:03.776 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:03.776 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 00:58:03.905 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:58:03.906 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:58:03.907 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:58:03.907 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:58:03.907 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:58:03.907 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:58:03.929 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:58:03.930 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 429 ms
2025-07-11 00:58:04.013 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-07-11 00:58:04.024 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@71bc3bb3
2025-07-11 00:58:04.024 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-07-11 00:58:04.073 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:58:04.098 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.013s)
2025-07-11 00:58:04.115 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:58:04.117 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:58:04.148 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:58:04.150 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:58:04.154 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:58:04.211 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:58:04.231 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-07-11 00:58:04.272 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-07-11 00:58:04.273 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 00:58:04.345 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 00:58:37.086 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:58:37.087 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:58:37.476 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:58:37.477 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:58:37.543 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 65 ms. Found 6 JPA repository interfaces.
2025-07-11 00:58:37.679 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:58:37.679 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:58:37.702 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:37.703 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:37.704 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:37.704 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:37.705 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:37.705 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:37.705 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-07-11 00:58:37.968 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:58:37.970 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:58:37.972 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:58:37.972 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:58:37.972 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:58:37.972 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:58:38.057 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:58:38.059 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 969 ms
2025-07-11 00:58:38.259 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-07-11 00:58:38.275 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5687c776
2025-07-11 00:58:38.275 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-07-11 00:58:38.326 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:58:38.389 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.034s)
2025-07-11 00:58:38.415 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:58:38.416 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:58:38.477 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:58:38.480 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:58:38.489 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:58:38.624 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:58:38.649 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-07-11 00:58:38.658 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-07-11 00:58:38.658 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 00:58:38.733 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 00:58:43.397 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:58:43.397 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:58:43.810 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:58:43.810 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:58:43.876 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 65 ms. Found 6 JPA repository interfaces.
2025-07-11 00:58:44.022 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:58:44.022 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:58:44.057 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:44.057 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:44.058 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:44.058 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:44.058 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:44.059 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:44.059 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-07-11 00:58:44.338 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:58:44.339 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:58:44.340 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:58:44.341 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:58:44.342 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:58:44.342 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:58:44.427 [restartedMain] INFO  o.a.c.c.C.[Tomcat-3].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:58:44.433 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1035 ms
2025-07-11 00:58:44.910 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-07-11 00:58:44.921 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6e4253b6
2025-07-11 00:58:44.922 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-07-11 00:58:44.931 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:58:44.960 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.015s)
2025-07-11 00:58:44.979 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:58:44.981 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:58:45.048 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:58:45.051 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:58:45.063 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:58:45.194 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:58:45.223 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-07-11 00:58:45.227 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-07-11 00:58:45.228 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 00:58:45.312 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 00:58:46.879 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:58:46.879 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:58:47.278 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:58:47.278 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:58:47.343 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 6 JPA repository interfaces.
2025-07-11 00:58:47.490 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:58:47.491 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:58:47.511 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:47.512 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:47.512 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:47.513 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:47.513 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:47.514 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:58:47.514 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-07-11 00:58:47.856 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:58:47.857 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:58:47.858 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:58:47.858 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:58:47.859 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:58:47.860 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:58:47.918 [restartedMain] INFO  o.a.c.c.C.[Tomcat-4].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:58:47.918 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1037 ms
2025-07-11 00:58:48.115 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-07-11 00:58:48.125 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@afc9edf
2025-07-11 00:58:48.126 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-07-11 00:58:48.135 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:58:48.175 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.017s)
2025-07-11 00:58:48.195 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:58:48.197 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:58:48.263 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:58:48.267 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:58:48.278 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:58:48.406 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:58:48.422 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-07-11 00:58:48.465 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-07-11 00:58:48.465 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 00:58:48.537 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 00:59:22.567 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:59:22.568 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:59:23.036 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:59:23.036 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:59:23.105 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 68 ms. Found 6 JPA repository interfaces.
2025-07-11 00:59:23.245 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:59:23.245 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:59:23.266 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:23.267 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:23.268 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:23.268 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:23.269 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:23.269 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:23.269 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-07-11 00:59:23.633 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:59:23.634 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:59:23.635 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:59:23.636 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:59:23.636 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:59:23.636 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:59:23.711 [restartedMain] INFO  o.a.c.c.C.[Tomcat-5].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:59:23.712 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1143 ms
2025-07-11 00:59:24.026 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Starting...
2025-07-11 00:59:24.057 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7954ac6d
2025-07-11 00:59:24.057 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Start completed.
2025-07-11 00:59:24.075 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:59:24.142 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.023s)
2025-07-11 00:59:24.233 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:59:24.238 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:59:24.323 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:59:24.327 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:59:24.336 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:59:24.522 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:59:24.559 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
2025-07-11 00:59:24.617 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
2025-07-11 00:59:24.621 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 00:59:24.728 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 00:59:26.279 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:59:26.280 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:59:26.742 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:59:26.742 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:59:26.808 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 65 ms. Found 6 JPA repository interfaces.
2025-07-11 00:59:26.970 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:59:26.970 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:59:26.994 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:26.995 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:26.996 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:26.996 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:26.996 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:26.997 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:26.997 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-07-11 00:59:27.272 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:59:27.273 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:59:27.273 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:59:27.274 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:59:27.274 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:59:27.275 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:59:27.331 [restartedMain] INFO  o.a.c.c.C.[Tomcat-6].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:59:27.332 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1050 ms
2025-07-11 00:59:27.665 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Starting...
2025-07-11 00:59:27.722 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@33f8cbdb
2025-07-11 00:59:27.722 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Start completed.
2025-07-11 00:59:28.027 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:59:28.064 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.019s)
2025-07-11 00:59:28.081 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:59:28.083 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 00:59:28.147 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:59:28.150 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:59:28.158 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:59:28.280 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:59:28.301 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown initiated...
2025-07-11 00:59:28.310 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown completed.
2025-07-11 00:59:28.310 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 00:59:28.398 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 00:59:39.400 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:59:39.400 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:59:39.777 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:59:39.779 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:59:39.883 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 102 ms. Found 6 JPA repository interfaces.
2025-07-11 00:59:40.029 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:59:40.029 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:59:40.051 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:40.051 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:40.051 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:40.052 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:40.053 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:40.053 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:40.054 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-07-11 00:59:40.302 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:59:40.302 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:59:40.303 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:59:40.304 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:59:40.304 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:59:40.304 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:59:40.358 [restartedMain] INFO  o.a.c.c.C.[Tomcat-7].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:59:40.358 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 954 ms
2025-07-11 00:59:40.557 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Starting...
2025-07-11 00:59:40.570 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-10 - Added connection com.mysql.cj.jdbc.ConnectionImpl@74c0b400
2025-07-11 00:59:40.571 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Start completed.
2025-07-11 00:59:40.683 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:59:40.718 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 7 migrations (execution time 00:00.019s)
2025-07-11 00:59:40.736 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 00:59:40.761 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Migrating schema `im_db` to version "1.8 - Add file purpose column" [out of order]
2025-07-11 00:59:40.815 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 1 migration to schema `im_db`, now at version v1.8 (execution time 00:00.012s)
2025-07-11 00:59:40.882 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 00:59:40.886 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 00:59:40.895 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 00:59:41.004 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 00:59:41.030 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown initiated...
2025-07-11 00:59:41.053 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown completed.
2025-07-11 00:59:41.054 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 00:59:41.131 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 00:59:43.740 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:59:43.740 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:59:44.138 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:59:44.139 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:59:44.204 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 65 ms. Found 6 JPA repository interfaces.
2025-07-11 00:59:44.432 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:59:44.436 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:59:44.480 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:44.480 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:44.481 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:44.482 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:44.482 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:44.482 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:44.483 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 42 ms. Found 0 Redis repository interfaces.
2025-07-11 00:59:44.761 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:59:44.761 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:59:44.762 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:59:44.763 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:59:44.763 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:59:44.764 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:59:44.818 [restartedMain] INFO  o.a.c.c.C.[Tomcat-8].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:59:44.819 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1076 ms
2025-07-11 00:59:45.053 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Starting...
2025-07-11 00:59:45.066 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-11 - Added connection com.mysql.cj.jdbc.ConnectionImpl@496dbe0a
2025-07-11 00:59:45.067 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Start completed.
2025-07-11 00:59:45.077 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:59:45.121 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown initiated...
2025-07-11 00:59:45.123 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown completed.
2025-07-11 00:59:45.123 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 00:59:45.199 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 00:59:46.745 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 00:59:46.745 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 00:59:47.126 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:59:47.126 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 00:59:47.208 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 81 ms. Found 6 JPA repository interfaces.
2025-07-11 00:59:47.436 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 00:59:47.437 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 00:59:47.468 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:47.472 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:47.474 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:47.474 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:47.474 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:47.475 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 00:59:47.475 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 0 Redis repository interfaces.
2025-07-11 00:59:47.731 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 00:59:47.731 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 00:59:47.732 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 00:59:47.733 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 00:59:47.733 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 00:59:47.734 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 00:59:47.785 [restartedMain] INFO  o.a.c.c.C.[Tomcat-9].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 00:59:47.786 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1039 ms
2025-07-11 00:59:47.985 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Starting...
2025-07-11 00:59:47.996 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-12 - Added connection com.mysql.cj.jdbc.ConnectionImpl@18f7bb51
2025-07-11 00:59:47.996 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Start completed.
2025-07-11 00:59:48.004 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 00:59:48.046 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Shutdown initiated...
2025-07-11 00:59:48.047 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Shutdown completed.
2025-07-11 00:59:48.048 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 00:59:48.124 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:00:02.177 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:00:02.177 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:00:02.374 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:00:02.375 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:00:02.406 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 6 JPA repository interfaces.
2025-07-11 01:00:02.471 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:00:02.472 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:00:02.481 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:02.481 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:02.481 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:02.481 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:02.481 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:02.481 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:02.481 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 01:00:02.611 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:00:02.611 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:00:02.612 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:00:02.612 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:00:02.613 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:00:02.613 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:00:02.639 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:00:02.639 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 458 ms
2025-07-11 01:00:02.729 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Starting...
2025-07-11 01:00:02.739 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-13 - Added connection com.mysql.cj.jdbc.ConnectionImpl@118d2641
2025-07-11 01:00:02.740 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Start completed.
2025-07-11 01:00:02.779 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:00:02.806 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Shutdown initiated...
2025-07-11 01:00:02.808 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Shutdown completed.
2025-07-11 01:00:02.808 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:00:02.864 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:00:04.351 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:00:04.352 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:00:04.575 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:00:04.575 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:00:04.609 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 6 JPA repository interfaces.
2025-07-11 01:00:04.683 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:00:04.683 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:00:04.694 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:04.694 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:04.694 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:04.695 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:04.695 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:04.695 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:04.695 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-07-11 01:00:04.838 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:00:04.839 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:00:04.840 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:00:04.840 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:00:04.841 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:00:04.841 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:00:04.865 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:00:04.865 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 512 ms
2025-07-11 01:00:04.959 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Starting...
2025-07-11 01:00:04.969 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-14 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c0151a6
2025-07-11 01:00:04.970 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Start completed.
2025-07-11 01:00:04.985 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:00:05.022 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Shutdown initiated...
2025-07-11 01:00:05.023 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Shutdown completed.
2025-07-11 01:00:05.023 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:00:05.081 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:00:21.949 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:00:21.949 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:00:22.159 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:00:22.160 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:00:22.201 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 41 ms. Found 6 JPA repository interfaces.
2025-07-11 01:00:22.274 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:00:22.275 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:00:22.284 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:22.285 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:22.285 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:22.285 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:22.285 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:22.286 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:22.286 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 01:00:22.408 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:00:22.409 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:00:22.409 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:00:22.409 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:00:22.410 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:00:22.410 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:00:22.432 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:00:22.433 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 483 ms
2025-07-11 01:00:22.529 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Starting...
2025-07-11 01:00:22.540 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-15 - Added connection com.mysql.cj.jdbc.ConnectionImpl@252d83f
2025-07-11 01:00:22.540 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Start completed.
2025-07-11 01:00:22.547 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:00:22.576 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Shutdown initiated...
2025-07-11 01:00:22.577 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Shutdown completed.
2025-07-11 01:00:22.577 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:00:22.628 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:00:24.114 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:00:24.114 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:00:24.299 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:00:24.300 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:00:24.330 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 6 JPA repository interfaces.
2025-07-11 01:00:24.395 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:00:24.395 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:00:24.405 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:24.405 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:24.405 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:24.406 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:24.406 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:24.406 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:24.406 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 01:00:24.549 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:00:24.549 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:00:24.550 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:00:24.550 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:00:24.550 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:00:24.550 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:00:24.576 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:00:24.576 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 461 ms
2025-07-11 01:00:24.671 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Starting...
2025-07-11 01:00:24.684 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-16 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6e5e6cee
2025-07-11 01:00:24.684 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Start completed.
2025-07-11 01:00:24.720 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:00:24.756 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Shutdown initiated...
2025-07-11 01:00:24.757 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Shutdown completed.
2025-07-11 01:00:24.758 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:00:24.824 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:00:45.333 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:00:45.334 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:00:45.878 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:00:45.878 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:00:45.945 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 67 ms. Found 6 JPA repository interfaces.
2025-07-11 01:00:46.082 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:00:46.083 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:00:46.105 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:46.105 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:46.107 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:46.107 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:46.107 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:46.108 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:46.109 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-07-11 01:00:46.425 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:00:46.426 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:00:46.428 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:00:46.428 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:00:46.428 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:00:46.429 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:00:46.484 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:00:46.484 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1148 ms
2025-07-11 01:00:46.800 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Starting...
2025-07-11 01:00:46.814 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-17 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3808934a
2025-07-11 01:00:46.815 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Start completed.
2025-07-11 01:00:46.837 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:00:46.884 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Shutdown initiated...
2025-07-11 01:00:46.885 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Shutdown completed.
2025-07-11 01:00:46.886 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:00:46.975 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:00:49.591 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:00:49.591 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:00:50.037 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:00:50.039 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:00:50.120 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 80 ms. Found 6 JPA repository interfaces.
2025-07-11 01:00:50.255 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:00:50.255 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:00:50.277 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:50.277 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:50.278 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:50.278 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:50.278 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:50.279 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:00:50.279 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-07-11 01:00:50.519 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:00:50.521 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:00:50.522 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:00:50.523 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:00:50.523 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:00:50.523 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:00:50.571 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:00:50.572 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 979 ms
2025-07-11 01:00:50.784 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Starting...
2025-07-11 01:00:50.794 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-18 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5f6dd733
2025-07-11 01:00:50.794 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Start completed.
2025-07-11 01:00:50.804 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:00:50.833 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Shutdown initiated...
2025-07-11 01:00:50.834 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Shutdown completed.
2025-07-11 01:00:50.835 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:00:50.916 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:01:31.496 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:01:31.497 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:01:32.374 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:01:32.376 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:01:32.480 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 104 ms. Found 6 JPA repository interfaces.
2025-07-11 01:01:32.789 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:01:32.790 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:01:32.812 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-07-11 01:01:32.979 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:01:35.336 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:01:35.336 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:01:35.512 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:01:35.513 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:01:35.543 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 01:01:35.607 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:01:35.607 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:01:35.616 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:01:35.616 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:01:35.616 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:01:35.617 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:01:35.617 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:01:35.617 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:01:35.617 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 01:01:35.841 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:01:35.842 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:01:35.843 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:01:35.843 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:01:35.843 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:01:35.843 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:01:35.871 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:01:35.872 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 534 ms
2025-07-11 01:01:35.973 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Starting...
2025-07-11 01:01:35.996 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-19 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26e67136
2025-07-11 01:01:35.997 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Start completed.
2025-07-11 01:01:36.015 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:01:36.060 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Shutdown initiated...
2025-07-11 01:01:36.061 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Shutdown completed.
2025-07-11 01:01:36.062 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:01:36.147 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:04:33.793 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:04:33.794 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:04:33.974 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:04:33.974 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:04:34.004 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 6 JPA repository interfaces.
2025-07-11 01:04:34.071 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:04:34.071 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:04:34.079 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:34.079 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:34.081 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:34.081 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:34.081 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:34.081 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:34.081 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 01:04:34.206 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:04:34.206 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:04:34.207 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:04:34.207 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:04:34.207 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:04:34.208 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:04:34.230 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:04:34.231 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 436 ms
2025-07-11 01:04:34.318 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Starting...
2025-07-11 01:04:34.340 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-20 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1f1cc84e
2025-07-11 01:04:34.341 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Start completed.
2025-07-11 01:04:34.365 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:04:34.406 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Shutdown initiated...
2025-07-11 01:04:34.407 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Shutdown completed.
2025-07-11 01:04:34.407 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:04:34.472 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:04:41.100 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:04:41.101 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:04:41.277 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:04:41.278 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:04:41.311 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 6 JPA repository interfaces.
2025-07-11 01:04:41.371 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:04:41.371 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:04:41.381 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:41.382 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:41.382 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:41.383 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:41.383 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:41.384 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:41.384 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-07-11 01:04:41.503 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:04:41.503 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:04:41.504 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:04:41.504 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:04:41.505 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:04:41.505 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:04:41.530 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:04:41.530 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 428 ms
2025-07-11 01:04:41.616 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Starting...
2025-07-11 01:04:41.627 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-21 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c815691
2025-07-11 01:04:41.628 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Start completed.
2025-07-11 01:04:41.668 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:04:41.697 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Shutdown initiated...
2025-07-11 01:04:41.697 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Shutdown completed.
2025-07-11 01:04:41.698 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:04:41.758 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:04:50.532 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:04:50.532 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:04:50.692 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:04:50.692 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:04:50.721 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 01:04:50.784 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:04:50.785 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:04:50.794 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:50.794 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:50.794 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:50.795 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:50.795 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:50.795 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:04:50.795 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 01:04:50.911 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:04:50.912 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:04:50.913 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:04:50.913 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:04:50.914 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:04:50.914 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:04:50.939 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:04:50.939 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 406 ms
2025-07-11 01:04:51.025 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-22 - Starting...
2025-07-11 01:04:51.036 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-22 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2f6ed82d
2025-07-11 01:04:51.036 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-22 - Start completed.
2025-07-11 01:04:51.054 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:04:51.080 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-22 - Shutdown initiated...
2025-07-11 01:04:51.080 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-22 - Shutdown completed.
2025-07-11 01:04:51.081 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:04:51.147 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:04:59.800 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:04:59.801 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:04:59.993 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:04:59.993 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:05:00.021 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 6 JPA repository interfaces.
2025-07-11 01:05:00.083 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:05:00.083 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:05:00.091 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:00.092 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:00.092 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:00.092 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:00.092 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:00.093 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:00.093 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 01:05:00.216 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:05:00.216 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:05:00.217 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:05:00.217 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:05:00.218 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:05:00.218 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:05:00.242 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:05:00.242 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 440 ms
2025-07-11 01:05:00.328 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-23 - Starting...
2025-07-11 01:05:00.338 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-23 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7d52f969
2025-07-11 01:05:00.339 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-23 - Start completed.
2025-07-11 01:05:00.351 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:05:00.376 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-23 - Shutdown initiated...
2025-07-11 01:05:00.376 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-23 - Shutdown completed.
2025-07-11 01:05:00.377 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:05:00.439 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:05:07.067 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:05:07.067 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:05:07.228 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:05:07.228 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:05:07.258 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 01:05:07.317 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:05:07.318 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:05:07.326 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:07.326 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:07.326 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:07.326 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:07.327 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:07.327 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:07.327 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 01:05:07.446 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:05:07.447 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:05:07.448 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:05:07.448 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:05:07.448 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:05:07.448 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:05:07.478 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:05:07.478 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 410 ms
2025-07-11 01:05:07.570 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-24 - Starting...
2025-07-11 01:05:07.579 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-24 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1af59aae
2025-07-11 01:05:07.579 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-24 - Start completed.
2025-07-11 01:05:07.593 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:05:07.618 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-24 - Shutdown initiated...
2025-07-11 01:05:07.618 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-24 - Shutdown completed.
2025-07-11 01:05:07.619 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:05:07.683 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:05:09.153 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:05:09.153 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:05:09.319 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:05:09.319 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:05:09.347 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2025-07-11 01:05:09.407 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:05:09.408 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:05:09.416 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:09.417 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:09.417 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:09.417 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:09.417 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:09.417 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:09.417 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 01:05:09.529 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:05:09.529 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:05:09.529 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:05:09.530 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:05:09.530 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:05:09.530 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:05:09.555 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:05:09.556 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 402 ms
2025-07-11 01:05:09.646 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-25 - Starting...
2025-07-11 01:05:09.656 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-25 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5000585e
2025-07-11 01:05:09.656 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-25 - Start completed.
2025-07-11 01:05:09.669 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:05:09.697 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-25 - Shutdown initiated...
2025-07-11 01:05:09.697 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-25 - Shutdown completed.
2025-07-11 01:05:09.698 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:05:09.752 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:05:20.510 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:05:20.510 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:05:20.688 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:05:20.688 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:05:20.717 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 01:05:20.775 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:05:20.775 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:05:20.784 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:20.785 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:20.785 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:20.785 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:20.785 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:20.785 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:20.785 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 01:05:20.900 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:05:20.900 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:05:20.902 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:05:20.902 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:05:20.902 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:05:20.903 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:05:20.925 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:05:20.925 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 414 ms
2025-07-11 01:05:21.009 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-26 - Starting...
2025-07-11 01:05:21.023 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-26 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3163d6b0
2025-07-11 01:05:21.023 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-26 - Start completed.
2025-07-11 01:05:21.034 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:05:21.059 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-26 - Shutdown initiated...
2025-07-11 01:05:21.059 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-26 - Shutdown completed.
2025-07-11 01:05:21.060 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:05:21.128 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:05:34.926 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:05:34.926 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:05:35.145 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:05:35.145 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:05:35.186 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 6 JPA repository interfaces.
2025-07-11 01:05:35.252 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:05:35.254 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:05:35.262 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:35.263 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:35.263 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:35.263 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:35.263 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:35.263 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:05:35.263 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 01:05:35.388 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:05:35.389 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:05:35.389 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:05:35.390 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:05:35.390 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:05:35.390 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:05:35.415 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:05:35.415 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 488 ms
2025-07-11 01:05:35.502 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-27 - Starting...
2025-07-11 01:05:35.510 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-27 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2344a6fc
2025-07-11 01:05:35.510 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-27 - Start completed.
2025-07-11 01:05:35.521 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:05:35.552 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-27 - Shutdown initiated...
2025-07-11 01:05:35.553 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-27 - Shutdown completed.
2025-07-11 01:05:35.554 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:05:35.621 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:06:05.192 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:06:05.192 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:06:05.383 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:06:05.384 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:06:05.420 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 6 JPA repository interfaces.
2025-07-11 01:06:05.485 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:06:05.485 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:06:05.495 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:05.496 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:05.496 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:05.496 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:05.496 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:05.496 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:05.497 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 01:06:05.618 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:06:05.620 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:06:05.620 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:06:05.621 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:06:05.621 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:06:05.621 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:06:05.646 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:06:05.646 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 452 ms
2025-07-11 01:06:05.732 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-28 - Starting...
2025-07-11 01:06:05.742 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-28 - Added connection com.mysql.cj.jdbc.ConnectionImpl@286c762c
2025-07-11 01:06:05.742 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-28 - Start completed.
2025-07-11 01:06:05.750 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:06:05.774 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-28 - Shutdown initiated...
2025-07-11 01:06:05.775 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-28 - Shutdown completed.
2025-07-11 01:06:05.775 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:06:05.851 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:06:36.079 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:06:36.080 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:06:36.294 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:06:36.295 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:06:36.328 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 6 JPA repository interfaces.
2025-07-11 01:06:36.399 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:06:36.399 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:06:36.407 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:36.408 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:36.408 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:36.409 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:36.409 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:36.409 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:36.409 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 01:06:36.538 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:06:36.539 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:06:36.539 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:06:36.540 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:06:36.540 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:06:36.540 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:06:36.567 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:06:36.567 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 486 ms
2025-07-11 01:06:36.650 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-29 - Starting...
2025-07-11 01:06:36.660 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-29 - Added connection com.mysql.cj.jdbc.ConnectionImpl@53653253
2025-07-11 01:06:36.660 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-29 - Start completed.
2025-07-11 01:06:36.668 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:06:36.695 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-29 - Shutdown initiated...
2025-07-11 01:06:36.697 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-29 - Shutdown completed.
2025-07-11 01:06:36.697 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:06:36.774 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:06:38.674 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:06:38.675 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:06:38.840 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:06:38.841 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:06:38.868 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2025-07-11 01:06:38.931 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:06:38.931 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:06:38.939 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:38.940 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:38.940 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:38.940 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:38.940 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:38.941 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:06:38.941 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 01:06:39.082 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:06:39.083 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:06:39.084 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:06:39.084 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:06:39.085 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:06:39.085 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:06:39.111 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:06:39.111 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 435 ms
2025-07-11 01:06:39.196 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-30 - Starting...
2025-07-11 01:06:39.206 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-30 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6e6f1716
2025-07-11 01:06:39.207 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-30 - Start completed.
2025-07-11 01:06:39.216 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:06:39.255 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-30 - Shutdown initiated...
2025-07-11 01:06:39.255 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-30 - Shutdown completed.
2025-07-11 01:06:39.256 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:06:39.318 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:07:11.581 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:07:11.581 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:07:11.760 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:07:11.760 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:07:11.790 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 01:07:11.859 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:07:11.859 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:07:11.867 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:11.868 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:11.868 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:11.868 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:11.868 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:11.868 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:11.868 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 01:07:11.997 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:07:11.997 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:07:11.997 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:07:11.998 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:07:11.998 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:07:11.998 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:07:12.030 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:07:12.030 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 448 ms
2025-07-11 01:07:12.121 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-31 - Starting...
2025-07-11 01:07:12.134 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-31 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1faa909c
2025-07-11 01:07:12.134 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-31 - Start completed.
2025-07-11 01:07:12.140 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:07:12.169 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-31 - Shutdown initiated...
2025-07-11 01:07:12.171 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-31 - Shutdown completed.
2025-07-11 01:07:12.171 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:07:12.242 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:07:26.068 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:07:26.068 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:07:26.255 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:07:26.256 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:07:26.292 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 6 JPA repository interfaces.
2025-07-11 01:07:26.358 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:07:26.358 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:07:26.368 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:26.369 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:26.369 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:26.369 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:26.369 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:26.369 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:26.369 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-07-11 01:07:26.518 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:07:26.519 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:07:26.520 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:07:26.520 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:07:26.520 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:07:26.521 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:07:26.552 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:07:26.552 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 483 ms
2025-07-11 01:07:26.671 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-32 - Starting...
2025-07-11 01:07:26.685 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-32 - Added connection com.mysql.cj.jdbc.ConnectionImpl@72d0a26e
2025-07-11 01:07:26.685 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-32 - Start completed.
2025-07-11 01:07:26.694 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:07:26.733 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-32 - Shutdown initiated...
2025-07-11 01:07:26.734 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-32 - Shutdown completed.
2025-07-11 01:07:26.735 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:07:26.804 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:07:28.748 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:07:28.749 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:07:29.418 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:07:29.419 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:07:29.475 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 6 JPA repository interfaces.
2025-07-11 01:07:29.591 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:07:29.591 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:07:29.605 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:29.605 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:29.606 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:29.606 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:29.606 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:29.607 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:07:29.607 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-07-11 01:07:29.828 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:07:29.829 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:07:29.829 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:07:29.830 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:07:29.830 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:07:29.830 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:07:29.871 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:07:29.872 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1118 ms
2025-07-11 01:07:30.028 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-33 - Starting...
2025-07-11 01:07:30.045 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-33 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8533edf
2025-07-11 01:07:30.045 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-33 - Start completed.
2025-07-11 01:07:30.052 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:07:30.112 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-33 - Shutdown initiated...
2025-07-11 01:07:30.113 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-33 - Shutdown completed.
2025-07-11 01:07:30.114 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:07:30.296 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:08:05.064 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:08:05.065 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:08:05.647 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:08:05.647 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:08:05.730 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 82 ms. Found 6 JPA repository interfaces.
2025-07-11 01:08:05.971 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:08:05.971 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:08:05.994 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:05.995 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:05.995 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:05.996 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:05.996 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:05.997 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:05.997 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-07-11 01:08:06.244 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:08:06.246 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:08:06.247 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:08:06.248 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:08:06.248 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:08:06.248 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:08:06.297 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:08:06.298 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1231 ms
2025-07-11 01:08:06.487 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-34 - Starting...
2025-07-11 01:08:06.509 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-34 - Added connection com.mysql.cj.jdbc.ConnectionImpl@10ff1126
2025-07-11 01:08:06.510 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-34 - Start completed.
2025-07-11 01:08:06.522 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:08:06.576 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-34 - Shutdown initiated...
2025-07-11 01:08:06.578 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-34 - Shutdown completed.
2025-07-11 01:08:06.578 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:08:06.654 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:08:08.142 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:08:08.142 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:08:08.334 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:08:08.335 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:08:08.368 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 6 JPA repository interfaces.
2025-07-11 01:08:08.436 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:08:08.436 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:08:08.451 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:08.452 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:08.452 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:08.452 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:08.453 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:08.453 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:08.453 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-07-11 01:08:08.570 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:08:08.570 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:08:08.571 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:08:08.571 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:08:08.572 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:08:08.572 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:08:08.594 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:08:08.594 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 451 ms
2025-07-11 01:08:08.683 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-35 - Starting...
2025-07-11 01:08:08.692 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-35 - Added connection com.mysql.cj.jdbc.ConnectionImpl@46166018
2025-07-11 01:08:08.692 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-35 - Start completed.
2025-07-11 01:08:08.698 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:08:08.719 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-35 - Shutdown initiated...
2025-07-11 01:08:08.720 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-35 - Shutdown completed.
2025-07-11 01:08:08.721 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:08:08.790 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:08:24.774 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:08:24.775 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:08:24.981 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:08:24.981 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:08:25.012 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 6 JPA repository interfaces.
2025-07-11 01:08:25.076 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:08:25.076 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:08:25.086 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:25.087 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:25.087 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:25.087 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:25.088 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:25.088 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:25.088 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 01:08:25.217 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:08:25.217 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:08:25.218 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:08:25.219 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:08:25.220 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:08:25.220 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:08:25.251 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:08:25.252 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 476 ms
2025-07-11 01:08:25.356 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-36 - Starting...
2025-07-11 01:08:25.365 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-36 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7ad779f7
2025-07-11 01:08:25.365 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-36 - Start completed.
2025-07-11 01:08:25.370 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:08:25.390 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-36 - Shutdown initiated...
2025-07-11 01:08:25.391 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-36 - Shutdown completed.
2025-07-11 01:08:25.391 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:08:25.446 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:08:57.905 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:08:57.905 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:08:58.105 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:08:58.106 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:08:58.135 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 01:08:58.234 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:08:58.234 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:08:58.251 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:58.251 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:58.252 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:58.252 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:58.252 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:58.253 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:08:58.253 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-07-11 01:08:58.418 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:08:58.419 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:08:58.420 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:08:58.420 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:08:58.421 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:08:58.421 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:08:58.447 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:08:58.448 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 541 ms
2025-07-11 01:08:58.552 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-37 - Starting...
2025-07-11 01:08:58.568 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-37 - Added connection com.mysql.cj.jdbc.ConnectionImpl@33c8cea7
2025-07-11 01:08:58.568 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-37 - Start completed.
2025-07-11 01:08:58.577 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:08:58.616 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-37 - Shutdown initiated...
2025-07-11 01:08:58.617 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-37 - Shutdown completed.
2025-07-11 01:08:58.618 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:08:58.735 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:09:31.727 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:09:31.727 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:09:31.920 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:09:31.920 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:09:31.951 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 6 JPA repository interfaces.
2025-07-11 01:09:32.011 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:09:32.011 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:09:32.021 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:09:32.021 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:09:32.021 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:09:32.022 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:09:32.022 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:09:32.022 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:09:32.022 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 01:09:32.147 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:09:32.147 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:09:32.148 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:09:32.148 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:09:32.149 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:09:32.149 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:09:32.177 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:09:32.177 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 448 ms
2025-07-11 01:09:32.267 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-38 - Starting...
2025-07-11 01:09:32.278 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-38 - Added connection com.mysql.cj.jdbc.ConnectionImpl@58d8c98b
2025-07-11 01:09:32.278 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-38 - Start completed.
2025-07-11 01:09:32.285 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:09:32.311 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-38 - Shutdown initiated...
2025-07-11 01:09:32.312 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-38 - Shutdown completed.
2025-07-11 01:09:32.313 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:09:32.378 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:10:03.061 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:10:03.061 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:10:03.260 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:10:03.260 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:10:03.299 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 6 JPA repository interfaces.
2025-07-11 01:10:03.363 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:10:03.363 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:10:03.373 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:03.373 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:03.374 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:03.375 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:03.375 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:03.375 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:03.375 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-07-11 01:10:03.546 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:10:03.547 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:10:03.548 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:10:03.548 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:10:03.549 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:10:03.549 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:10:03.583 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:10:03.584 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 522 ms
2025-07-11 01:10:03.745 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-39 - Starting...
2025-07-11 01:10:03.769 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-39 - Added connection com.mysql.cj.jdbc.ConnectionImpl@e36cef5
2025-07-11 01:10:03.770 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-39 - Start completed.
2025-07-11 01:10:03.804 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:10:03.867 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-39 - Shutdown initiated...
2025-07-11 01:10:03.868 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-39 - Shutdown completed.
2025-07-11 01:10:03.869 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:10:04.002 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:10:17.991 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:10:17.992 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:10:18.195 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:10:18.195 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:10:18.235 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 6 JPA repository interfaces.
2025-07-11 01:10:18.322 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:10:18.322 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:10:18.333 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:18.333 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:18.334 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:18.334 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:18.334 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:18.334 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:18.334 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-07-11 01:10:18.463 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:10:18.463 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:10:18.465 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:10:18.465 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:10:18.465 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:10:18.465 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:10:18.489 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:10:18.490 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 496 ms
2025-07-11 01:10:18.575 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-40 - Starting...
2025-07-11 01:10:18.586 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-40 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5127172
2025-07-11 01:10:18.587 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-40 - Start completed.
2025-07-11 01:10:18.591 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:10:18.615 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-40 - Shutdown initiated...
2025-07-11 01:10:18.616 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-40 - Shutdown completed.
2025-07-11 01:10:18.616 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:10:18.707 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:10:20.271 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:10:20.272 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:10:20.541 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:10:20.541 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:10:20.593 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 6 JPA repository interfaces.
2025-07-11 01:10:20.708 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:10:20.708 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:10:20.722 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:20.722 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:20.722 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:20.722 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:20.723 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:20.723 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:20.723 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-07-11 01:10:20.946 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:10:20.946 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:10:20.947 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:10:20.947 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:10:20.947 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:10:20.948 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:10:20.983 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:10:20.983 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 708 ms
2025-07-11 01:10:21.106 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-41 - Starting...
2025-07-11 01:10:21.126 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-41 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3d6d7a73
2025-07-11 01:10:21.126 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-41 - Start completed.
2025-07-11 01:10:21.141 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:10:21.208 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-41 - Shutdown initiated...
2025-07-11 01:10:21.209 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-41 - Shutdown completed.
2025-07-11 01:10:21.210 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:10:21.349 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:10:34.347 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:10:34.347 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:10:34.529 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:10:34.530 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:10:34.562 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 6 JPA repository interfaces.
2025-07-11 01:10:34.636 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:10:34.636 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:10:34.645 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:34.645 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:34.646 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:34.646 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:34.646 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:34.646 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:34.647 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 01:10:34.765 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:10:34.765 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:10:34.766 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:10:34.766 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:10:34.766 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:10:34.766 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:10:34.790 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:10:34.790 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 441 ms
2025-07-11 01:10:34.876 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-42 - Starting...
2025-07-11 01:10:34.886 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-42 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5d4619f5
2025-07-11 01:10:34.887 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-42 - Start completed.
2025-07-11 01:10:34.891 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:10:34.917 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-42 - Shutdown initiated...
2025-07-11 01:10:34.919 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-42 - Shutdown completed.
2025-07-11 01:10:34.919 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:10:34.980 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:10:44.093 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:10:44.094 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:10:44.425 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:10:44.426 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:10:44.484 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 58 ms. Found 6 JPA repository interfaces.
2025-07-11 01:10:44.653 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:10:44.654 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:10:44.677 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:44.678 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:44.678 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:44.679 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:44.680 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:44.680 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:10:44.681 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-07-11 01:10:44.931 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:10:44.932 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:10:44.932 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:10:44.933 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:10:44.933 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:10:44.934 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:10:44.979 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:10:44.979 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 882 ms
2025-07-11 01:10:45.134 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-43 - Starting...
2025-07-11 01:10:45.150 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-43 - Added connection com.mysql.cj.jdbc.ConnectionImpl@17af3cd9
2025-07-11 01:10:45.150 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-43 - Start completed.
2025-07-11 01:10:45.160 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:10:45.211 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-43 - Shutdown initiated...
2025-07-11 01:10:45.212 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-43 - Shutdown completed.
2025-07-11 01:10:45.213 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:10:45.352 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:11:03.289 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:11:03.289 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:11:03.468 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:11:03.469 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:11:03.497 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2025-07-11 01:11:03.557 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:11:03.558 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:11:03.566 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:03.566 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:03.568 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:03.568 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:03.568 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:03.568 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:03.569 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 01:11:03.742 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:11:03.743 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:11:03.743 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:11:03.743 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:11:03.744 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:11:03.744 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:11:03.776 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:11:03.777 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 487 ms
2025-07-11 01:11:03.873 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-44 - Starting...
2025-07-11 01:11:03.883 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-44 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1eba73ec
2025-07-11 01:11:03.884 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-44 - Start completed.
2025-07-11 01:11:03.889 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:11:03.915 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-44 - Shutdown initiated...
2025-07-11 01:11:03.915 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-44 - Shutdown completed.
2025-07-11 01:11:03.916 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:11:03.985 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:11:05.492 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:11:05.493 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:11:05.787 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:11:05.788 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:11:05.835 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 6 JPA repository interfaces.
2025-07-11 01:11:05.918 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:11:05.918 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:11:05.932 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:05.932 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:05.933 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:05.933 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:05.933 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:05.934 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:05.934 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-07-11 01:11:06.218 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:11:06.218 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:11:06.220 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:11:06.221 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:11:06.221 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:11:06.221 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:11:06.273 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:11:06.274 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 780 ms
2025-07-11 01:11:06.402 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-45 - Starting...
2025-07-11 01:11:06.415 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-45 - Added connection com.mysql.cj.jdbc.ConnectionImpl@706f26bc
2025-07-11 01:11:06.415 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-45 - Start completed.
2025-07-11 01:11:06.423 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:11:06.458 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-45 - Shutdown initiated...
2025-07-11 01:11:06.459 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-45 - Shutdown completed.
2025-07-11 01:11:06.459 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:11:06.603 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:11:58.505 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:11:58.505 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:11:58.697 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:11:58.697 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:11:58.732 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 6 JPA repository interfaces.
2025-07-11 01:11:58.803 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:11:58.804 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:11:58.813 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:58.813 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:58.813 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:58.813 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:58.813 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:58.813 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:11:58.814 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 01:11:58.938 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:11:58.938 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:11:58.939 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:11:58.939 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:11:58.939 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:11:58.940 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:11:58.964 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:11:58.965 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 458 ms
2025-07-11 01:11:59.065 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-46 - Starting...
2025-07-11 01:11:59.075 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-46 - Added connection com.mysql.cj.jdbc.ConnectionImpl@309852cb
2025-07-11 01:11:59.076 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-46 - Start completed.
2025-07-11 01:11:59.082 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:11:59.109 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-46 - Shutdown initiated...
2025-07-11 01:11:59.110 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-46 - Shutdown completed.
2025-07-11 01:11:59.110 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:11:59.177 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:12:22.285 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:12:22.285 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:12:22.454 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:12:22.454 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:12:22.484 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 01:12:22.550 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:12:22.550 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:12:22.558 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:22.558 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:22.558 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:22.559 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:22.560 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:22.560 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:22.560 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 01:12:22.685 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:12:22.686 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:12:22.687 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:12:22.687 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:12:22.687 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:12:22.687 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:12:22.710 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:12:22.711 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 425 ms
2025-07-11 01:12:22.795 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-47 - Starting...
2025-07-11 01:12:22.803 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-47 - Added connection com.mysql.cj.jdbc.ConnectionImpl@453995d5
2025-07-11 01:12:22.803 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-47 - Start completed.
2025-07-11 01:12:22.811 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:12:22.832 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-47 - Shutdown initiated...
2025-07-11 01:12:22.833 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-47 - Shutdown completed.
2025-07-11 01:12:22.834 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:12:22.901 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:12:41.878 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:12:41.879 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:12:42.038 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:12:42.038 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:12:42.067 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 01:12:42.136 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:12:42.137 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:12:42.146 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:42.146 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:42.146 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:42.146 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:42.147 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:42.147 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:42.147 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 01:12:42.262 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:12:42.263 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:12:42.264 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:12:42.264 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:12:42.264 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:12:42.264 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:12:42.288 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:12:42.288 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 408 ms
2025-07-11 01:12:42.379 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-48 - Starting...
2025-07-11 01:12:42.389 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-48 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4286e028
2025-07-11 01:12:42.390 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-48 - Start completed.
2025-07-11 01:12:42.399 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:12:42.422 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-48 - Shutdown initiated...
2025-07-11 01:12:42.422 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-48 - Shutdown completed.
2025-07-11 01:12:42.423 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:12:42.492 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:12:48.074 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:12:48.074 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:12:48.245 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:12:48.245 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:12:48.275 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 01:12:48.344 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:12:48.345 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:12:48.355 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:48.355 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:48.356 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:48.356 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:48.356 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:48.356 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:12:48.356 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 01:12:48.475 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:12:48.476 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:12:48.476 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:12:48.477 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:12:48.477 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:12:48.477 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:12:48.504 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:12:48.504 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 429 ms
2025-07-11 01:12:48.585 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-49 - Starting...
2025-07-11 01:12:48.593 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-49 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3e452f4e
2025-07-11 01:12:48.594 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-49 - Start completed.
2025-07-11 01:12:48.597 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:12:48.638 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-49 - Shutdown initiated...
2025-07-11 01:12:48.639 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-49 - Shutdown completed.
2025-07-11 01:12:48.639 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:12:48.722 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:13:01.635 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:13:01.636 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:13:01.820 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:13:01.820 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:13:01.852 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 6 JPA repository interfaces.
2025-07-11 01:13:01.918 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:13:01.918 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:13:01.926 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:01.927 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:01.927 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:01.927 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:01.927 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:01.927 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:01.928 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 01:13:02.046 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:13:02.046 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:13:02.047 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:13:02.047 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:13:02.047 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:13:02.047 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:13:02.074 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:13:02.074 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 437 ms
2025-07-11 01:13:02.159 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-50 - Starting...
2025-07-11 01:13:02.168 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-50 - Added connection com.mysql.cj.jdbc.ConnectionImpl@786fe3f8
2025-07-11 01:13:02.168 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-50 - Start completed.
2025-07-11 01:13:02.175 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:13:02.199 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-50 - Shutdown initiated...
2025-07-11 01:13:02.200 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-50 - Shutdown completed.
2025-07-11 01:13:02.200 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:13:02.273 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:13:09.268 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:13:09.268 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:13:09.444 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:13:09.444 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:13:09.477 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 6 JPA repository interfaces.
2025-07-11 01:13:09.544 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:13:09.544 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:13:09.555 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:09.555 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:09.555 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:09.555 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:09.555 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:09.555 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:09.556 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-07-11 01:13:09.675 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:13:09.676 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:13:09.676 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:13:09.676 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:13:09.676 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:13:09.677 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:13:09.700 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:13:09.700 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 431 ms
2025-07-11 01:13:09.785 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-51 - Starting...
2025-07-11 01:13:09.795 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-51 - Added connection com.mysql.cj.jdbc.ConnectionImpl@575614f0
2025-07-11 01:13:09.796 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-51 - Start completed.
2025-07-11 01:13:09.801 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:13:09.821 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-51 - Shutdown initiated...
2025-07-11 01:13:09.822 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-51 - Shutdown completed.
2025-07-11 01:13:09.823 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:13:09.893 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:13:16.633 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22880 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:13:16.633 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:13:17.111 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:13:17.111 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:13:17.225 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 114 ms. Found 6 JPA repository interfaces.
2025-07-11 01:13:17.542 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:13:17.542 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:13:17.566 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:17.566 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:17.567 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:17.568 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:17.568 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:17.568 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:13:17.568 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-07-11 01:13:17.712 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:13:17.712 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:13:17.713 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:13:17.714 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:13:17.714 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:13:17.714 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:13:17.740 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:13:17.740 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1104 ms
2025-07-11 01:13:17.830 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-52 - Starting...
2025-07-11 01:13:17.841 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-52 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36df50b2
2025-07-11 01:13:17.842 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-52 - Start completed.
2025-07-11 01:13:17.847 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:13:17.879 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-52 - Shutdown initiated...
2025-07-11 01:13:17.880 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-52 - Shutdown completed.
2025-07-11 01:13:17.881 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:13:17.953 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:34:20.811 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 01:34:20.849 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22212 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:34:20.850 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:34:20.888 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 01:34:20.889 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 01:34:21.614 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:34:21.616 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:34:21.798 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 174 ms. Found 6 JPA repository interfaces.
2025-07-11 01:34:22.134 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:34:22.135 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:34:22.162 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:34:22.162 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:34:22.163 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:34:22.163 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:34:22.164 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:34:22.164 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:34:22.164 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-07-11 01:34:23.119 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:34:23.122 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:34:23.127 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:34:23.137 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:34:23.140 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:34:23.141 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:34:23.194 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:34:23.195 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2306 ms
2025-07-11 01:34:23.618 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 01:34:23.779 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a901fa8
2025-07-11 01:34:23.781 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 01:34:23.842 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:34:23.931 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 01:34:23.940 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 01:34:23.943 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:34:23.980 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:39:50.637 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 01:39:50.673 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 23792 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:39:50.674 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:39:50.711 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 01:39:50.711 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 01:39:51.301 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:39:51.302 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:39:51.427 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 120 ms. Found 6 JPA repository interfaces.
2025-07-11 01:39:51.707 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:39:51.709 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:39:51.733 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:39:51.733 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:39:51.734 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:39:51.734 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:39:51.736 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:39:51.736 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:39:51.736 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-07-11 01:39:52.506 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:39:52.508 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:39:52.514 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:39:52.522 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:39:52.524 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:39:52.524 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:39:52.572 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:39:52.574 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1860 ms
2025-07-11 01:39:52.911 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 01:39:53.042 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@148982d5
2025-07-11 01:39:53.043 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 01:39:53.095 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:39:53.178 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 01:39:53.201 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 01:39:53.205 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 01:39:53.241 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 01:40:37.266 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 01:40:37.305 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 23240 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:40:37.306 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:40:37.345 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 01:40:37.345 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 01:40:37.987 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:40:37.988 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:40:38.118 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 124 ms. Found 6 JPA repository interfaces.
2025-07-11 01:40:38.390 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:40:38.391 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:40:38.416 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:40:38.416 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:40:38.417 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:40:38.417 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:40:38.417 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:40:38.417 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:40:38.418 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-07-11 01:40:39.182 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:40:39.185 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:40:39.189 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:40:39.198 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:40:39.200 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:40:39.200 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:40:39.254 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:40:39.255 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1909 ms
2025-07-11 01:40:39.540 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 01:40:39.668 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1ddb219
2025-07-11 01:40:39.670 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 01:40:39.719 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:40:39.786 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.041s)
2025-07-11 01:40:39.809 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250111.001
2025-07-11 01:40:39.828 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Migrating schema `im_db` to version "20250112.001 - add file tag and expires at"
2025-07-11 01:40:40.259 [restartedMain] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - +-----------------------------------------------------------------+
| status                                                          |
+-----------------------------------------------------------------+
| File tag and expires_at fields migration completed successfully |
+-----------------------------------------------------------------+

2025-07-11 01:40:40.299 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 1 migration to schema `im_db`, now at version v20250112.001 (execution time 00:00.435s)
2025-07-11 01:40:40.381 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 01:40:40.437 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 01:40:40.470 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 01:40:40.798 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 01:40:41.690 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 01:40:41.735 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 01:40:42.618 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 01:40:42.830 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 01:40:42.831 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 01:40:43.043 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 01:40:43.083 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 01:40:43.587 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 01:40:43.624 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 01:40:43.624 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 01:40:43.669 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 01:40:43.669 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:40:43.747 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:40:43.760 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:40:43.769 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:40:43.783 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 01:40:43.951 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 01:40:43.959 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 01:40:44.102 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 01:40:44.275 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 01:40:44.492 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 01:40:44.978 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 01:40:45.028 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 01:40:45.049 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 01:40:45.051 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 01:40:45.051 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@748c736a]]
2025-07-11 01:40:45.052 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 01:40:45.066 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 8.181 seconds (process running for 8.619)
2025-07-11 01:40:45.109 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 01:40:45.126 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 01:40:45.139 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 01:40:45.152 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 01:40:45.165 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 01:40:45.176 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 01:40:45.188 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 01:40:45.217 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 01:41:35.426 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 01:41:35.427 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 01:41:35.429 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 01:41:45.008 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 7, completed tasks = 0]
2025-07-11 01:42:29.027 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 01:42:29.032 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 01:42:29.032 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@748c736a]]
2025-07-11 01:42:29.032 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 01:42:29.033 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 01:42:29.516 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 01:42:29.520 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 01:42:29.526 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 01:42:29.704 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 23240 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:42:29.704 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:42:29.916 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:42:29.916 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:42:29.952 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 6 JPA repository interfaces.
2025-07-11 01:42:30.037 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:42:30.037 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:42:30.049 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:30.049 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:30.050 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:30.050 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:30.050 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:30.050 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:30.051 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-07-11 01:42:30.219 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:42:30.220 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:42:30.220 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:42:30.220 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:42:30.221 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:42:30.221 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:42:30.246 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:42:30.247 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 541 ms
2025-07-11 01:42:30.343 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-11 01:42:30.356 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@38e82dd5
2025-07-11 01:42:30.357 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-11 01:42:30.377 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:42:30.404 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.014s)
2025-07-11 01:42:30.418 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 01:42:30.420 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 01:42:30.451 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 01:42:30.453 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 01:42:30.461 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 01:42:30.542 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 01:42:30.564 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 01:42:30.778 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 01:42:30.780 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 01:42:30.780 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 01:42:30.831 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 01:42:30.896 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 01:42:30.922 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 01:42:30.922 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 01:42:30.946 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 01:42:30.946 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:42:30.955 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:42:30.964 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:42:30.971 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:42:30.988 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 01:42:31.059 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 01:42:31.066 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 01:42:31.126 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 01:42:31.173 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 01:42:31.277 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 01:42:31.492 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 01:42:31.506 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 01:42:31.509 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 01:42:31.510 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 01:42:31.510 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@328c6043]]
2025-07-11 01:42:31.510 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 01:42:31.517 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.842 seconds (process running for 115.07)
2025-07-11 01:42:31.519 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 01:42:31.532 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 01:42:31.544 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 01:42:31.555 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 01:42:31.568 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 01:42:31.580 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 01:42:31.591 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 01:42:31.624 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 01:42:31.627 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 01:42:35.376 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 01:42:35.376 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 01:42:35.377 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 01:42:41.044 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 01:42:41.046 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 01:42:41.047 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@328c6043]]
2025-07-11 01:42:41.047 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 01:42:41.047 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 01:42:41.310 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 01:42:41.311 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-07-11 01:42:41.314 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-07-11 01:42:41.412 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 23240 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:42:41.413 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:42:41.587 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:42:41.587 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:42:41.620 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 6 JPA repository interfaces.
2025-07-11 01:42:41.686 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:42:41.686 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:42:41.694 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:41.694 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:41.694 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:41.695 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:41.695 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:41.695 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:41.695 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 01:42:41.825 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:42:41.826 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:42:41.826 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:42:41.827 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:42:41.827 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:42:41.827 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:42:41.850 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:42:41.850 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 436 ms
2025-07-11 01:42:41.933 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-11 01:42:41.943 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@bf29587
2025-07-11 01:42:41.943 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-11 01:42:41.959 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:42:41.988 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.016s)
2025-07-11 01:42:42.003 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 01:42:42.004 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 01:42:42.032 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 01:42:42.033 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 01:42:42.039 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 01:42:42.113 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 01:42:42.130 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 01:42:42.322 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 01:42:42.324 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 01:42:42.324 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 01:42:42.383 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 01:42:42.444 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 01:42:42.467 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 01:42:42.467 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 01:42:42.487 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 01:42:42.487 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:42:42.496 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:42:42.503 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:42:42.509 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:42:42.515 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 01:42:42.585 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 01:42:42.592 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 01:42:42.651 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 01:42:42.698 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 01:42:42.804 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 01:42:43.022 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 01:42:43.034 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 01:42:43.038 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 01:42:43.038 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 01:42:43.038 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@c6774e4]]
2025-07-11 01:42:43.039 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 01:42:43.046 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.655 seconds (process running for 126.599)
2025-07-11 01:42:43.047 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 01:42:43.062 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 01:42:43.075 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 01:42:43.091 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 01:42:43.114 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 01:42:43.133 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 01:42:43.148 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 01:42:43.181 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 01:42:43.182 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 01:42:51.556 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 01:42:51.558 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 01:42:51.559 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@c6774e4]]
2025-07-11 01:42:51.559 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 01:42:51.559 [Thread-11] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 01:42:51.821 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 01:42:51.822 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-07-11 01:42:51.824 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-07-11 01:42:51.920 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 23240 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:42:51.920 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:42:52.077 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:42:52.077 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:42:52.107 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 01:42:52.171 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:42:52.171 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:42:52.180 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:52.180 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:52.180 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:52.180 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:52.181 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:52.181 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:52.181 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 01:42:52.303 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:42:52.304 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:42:52.305 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:42:52.305 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:42:52.305 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:42:52.305 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:42:52.328 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:42:52.328 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 406 ms
2025-07-11 01:42:52.412 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-07-11 01:42:52.423 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6040e696
2025-07-11 01:42:52.423 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-07-11 01:42:52.429 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:42:52.454 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.012s)
2025-07-11 01:42:52.469 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 01:42:52.471 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 01:42:52.498 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 01:42:52.501 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 01:42:52.505 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 01:42:52.561 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 01:42:52.574 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 01:42:52.809 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 01:42:52.810 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 01:42:52.810 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 01:42:52.862 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 01:42:52.923 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 01:42:52.950 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 01:42:52.950 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 01:42:52.974 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 01:42:52.974 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:42:52.982 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:42:52.990 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:42:52.997 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:42:53.004 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 01:42:53.077 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 01:42:53.083 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 01:42:53.148 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 01:42:53.200 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 01:42:53.310 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 01:42:53.519 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 01:42:53.528 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 01:42:53.531 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 01:42:53.531 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 01:42:53.531 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4e7f9019]]
2025-07-11 01:42:53.531 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 01:42:53.539 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.64 seconds (process running for 137.092)
2025-07-11 01:42:53.540 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 01:42:53.557 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 01:42:53.572 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 01:42:53.585 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 01:42:53.598 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 01:42:53.614 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 01:42:53.627 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 01:42:53.653 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 01:42:53.654 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 01:42:54.950 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 01:42:54.951 [Thread-15] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 01:42:54.951 [Thread-15] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4e7f9019]]
2025-07-11 01:42:54.952 [Thread-15] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 01:42:54.952 [Thread-15] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 01:42:55.299 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 01:42:55.299 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-07-11 01:42:55.301 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-07-11 01:42:55.395 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 23240 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 01:42:55.396 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 01:42:55.618 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:42:55.619 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 01:42:55.657 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 6 JPA repository interfaces.
2025-07-11 01:42:55.732 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 01:42:55.733 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 01:42:55.747 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:55.748 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:55.748 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:55.748 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:55.748 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:55.749 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 01:42:55.749 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-07-11 01:42:55.876 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 01:42:55.877 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 01:42:55.878 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 01:42:55.878 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 01:42:55.878 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 01:42:55.879 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 01:42:55.906 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 01:42:55.906 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 509 ms
2025-07-11 01:42:55.997 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-07-11 01:42:56.006 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@24373743
2025-07-11 01:42:56.007 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-07-11 01:42:56.015 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 01:42:56.042 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.015s)
2025-07-11 01:42:56.059 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 01:42:56.060 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 01:42:56.093 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 01:42:56.095 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 01:42:56.101 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 01:42:56.178 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 01:42:56.196 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 01:42:56.394 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 01:42:56.395 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 01:42:56.395 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 01:42:56.452 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 01:42:56.507 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 01:42:56.536 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 01:42:56.537 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 01:42:56.560 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 01:42:56.560 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:42:56.567 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:42:56.573 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:42:56.579 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 01:42:56.586 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 01:42:56.659 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 01:42:56.666 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 01:42:56.724 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 01:42:56.771 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 01:42:56.879 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 01:42:57.141 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 01:42:57.154 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 01:42:57.157 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 01:42:57.157 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 01:42:57.158 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6aeb0d6c]]
2025-07-11 01:42:57.158 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 01:42:57.165 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.79 seconds (process running for 140.718)
2025-07-11 01:42:57.167 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 01:42:57.182 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 01:42:57.195 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 01:42:57.211 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 01:42:57.224 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 01:42:57.238 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 01:42:57.251 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 01:42:57.277 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 01:42:57.278 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 01:43:20.916 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 01:43:20.917 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 01:43:20.918 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 01:43:21.103 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 01:43:21.105 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 01:43:21.197 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:43:21.696 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 01:43:21.696 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:43:21.697 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:43:21.745 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 8
2025-07-11 01:43:21.752 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 5
2025-07-11 01:43:21.753 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 01:43:21.753 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 01:43:21.753 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 01:43:21.753 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 01:43:21.753 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 01:43:21.758 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=3, document=2}
2025-07-11 01:43:21.758 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=5, totalSize=1032728, typeStats={image=3, document=2}
2025-07-11 01:43:21.768 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 8
2025-07-11 01:43:21.768 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 01:43:21.769 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 01:43:21.769 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:43:21.769 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 01:43:21.769 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 01:43:21.769 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 01:43:21.769 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 01:43:21.769 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:43:21.769 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 01:43:21.778 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 5, 当前页数量: 5
2025-07-11 01:43:21.779 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 5
2025-07-11 01:43:21.779 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 5 个文件
2025-07-11 01:43:23.699 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:43:27.061 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 01:43:27.063 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:43:27.063 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:43:27.069 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 5
2025-07-11 01:43:27.070 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 01:43:27.070 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 01:43:27.070 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 01:43:27.070 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 01:43:27.071 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 01:43:27.072 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=3, document=2}
2025-07-11 01:43:27.072 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=5, totalSize=1032728, typeStats={image=3, document=2}
2025-07-11 01:43:27.078 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 8
2025-07-11 01:43:27.092 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 8
2025-07-11 01:43:27.092 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 01:43:27.093 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 01:43:27.093 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:43:27.093 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 01:43:27.094 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 01:43:27.094 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 01:43:27.094 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 01:43:27.094 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:43:27.094 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 01:43:27.100 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 5, 当前页数量: 5
2025-07-11 01:43:27.100 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 5
2025-07-11 01:43:27.100 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 5 个文件
2025-07-11 01:43:31.235 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始上传文件到MinIO，用户ID: 1, 文件名: 202302091675904138327528.jpg
2025-07-11 01:43:31.264 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功: im-private-images/image/2025/07/11/ab9d3d59b77e4fe68808b02c2fdbed04_1752169411236.jpg
2025-07-11 01:43:31.345 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件上传成功，文件ID: 13, MinIO路径: im-private-images/image/2025/07/11/ab9d3d59b77e4fe68808b02c2fdbed04_1752169411236.jpg
2025-07-11 01:43:31.361 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 文件上传成功，用户ID: 1, 文件ID: 13
2025-07-11 01:43:31.382 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 01:43:31.382 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:43:31.386 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:43:31.390 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 6
2025-07-11 01:43:31.392 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 01:43:31.392 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 01:43:31.392 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 01:43:31.394 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 01:43:31.394 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 01:43:31.394 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 01:43:31.394 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=4, document=2}
2025-07-11 01:43:31.398 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=6, totalSize=1071967, typeStats={image=4, document=2}
2025-07-11 01:43:31.399 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 9
2025-07-11 01:43:31.417 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 9
2025-07-11 01:43:31.418 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 01:43:31.418 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 01:43:31.418 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:43:31.419 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 01:43:31.419 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 01:43:31.420 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 01:43:31.420 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 01:43:31.421 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:43:31.421 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:43:31.422 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 01:43:31.432 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 6, 当前页数量: 6
2025-07-11 01:43:31.433 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 6
2025-07-11 01:43:31.434 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 6 个文件
2025-07-11 01:43:32.168 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 01:43:32.168 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:43:32.169 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:43:32.174 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 6
2025-07-11 01:43:32.175 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 01:43:32.175 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 01:43:32.175 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 01:43:32.177 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 01:43:32.177 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 01:43:32.178 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 01:43:32.178 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=4, document=2}
2025-07-11 01:43:32.178 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=6, totalSize=1071967, typeStats={image=4, document=2}
2025-07-11 01:43:32.179 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 9
2025-07-11 01:43:32.193 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 9
2025-07-11 01:43:32.194 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 01:43:32.194 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 01:43:32.194 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:43:32.195 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 01:43:32.196 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 01:43:32.196 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 01:43:32.196 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 01:43:32.196 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:43:32.196 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:43:32.197 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 01:43:32.203 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 6, 当前页数量: 6
2025-07-11 01:43:32.205 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 6
2025-07-11 01:43:32.206 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 6 个文件
2025-07-11 01:43:57.151 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 7, completed tasks = 0]
2025-07-11 01:44:09.484 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:44:12.762 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=1, fileName=202302091675904140726704.jpg
2025-07-11 01:44:12.766 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=1, fileName=202302091675904140726704.jpg
2025-07-11 01:44:12.837 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/1/a3b6680e-e1a0-4429-8f78-687558edd63d.jpg
2025-07-11 01:44:12.841 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=1, fileId=14, fileName=202302091675904140726704.jpg
2025-07-11 01:44:12.844 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=1, avatarUrl=http://localhost:9000/im-public-images/public/image/1/a3b6680e-e1a0-4429-8f78-687558edd63d.jpg
2025-07-11 01:44:12.902 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:44:15.135 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:44:18.399 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=1, fileName=202302091675904138327528.jpg
2025-07-11 01:44:18.402 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=1, fileName=202302091675904138327528.jpg
2025-07-11 01:44:18.419 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 公开文件物理删除成功: fileId=14, userId=1
2025-07-11 01:44:18.419 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 删除用户旧头像: userId=1, fileId=14
2025-07-11 01:44:18.450 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/1/f619da6e-785b-443a-a6a7-a51b50093cc9.jpg
2025-07-11 01:44:18.454 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=1, fileId=15, fileName=202302091675904138327528.jpg
2025-07-11 01:44:18.456 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=1, avatarUrl=http://localhost:9000/im-public-images/public/image/1/f619da6e-785b-443a-a6a7-a51b50093cc9.jpg
2025-07-11 01:44:18.511 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:44:20.764 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:44:23.625 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=1, fileName=202302091675904140211711.jpg
2025-07-11 01:44:23.627 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=1, fileName=202302091675904140211711.jpg
2025-07-11 01:44:23.636 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 公开文件物理删除成功: fileId=15, userId=1
2025-07-11 01:44:23.636 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 删除用户旧头像: userId=1, fileId=15
2025-07-11 01:44:23.676 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/1/29c7a344-265a-4b5a-9340-d33e3916575c.jpg
2025-07-11 01:44:23.680 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=1, fileId=16, fileName=202302091675904140211711.jpg
2025-07-11 01:44:23.681 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=1, avatarUrl=http://localhost:9000/im-public-images/public/image/1/29c7a344-265a-4b5a-9340-d33e3916575c.jpg
2025-07-11 01:44:23.728 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:44:53.447 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 01:44:53.447 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:44:53.447 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:44:53.453 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 01:44:53.453 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=16, 名称=202302091675904140211711.jpg, 类型=image, 大小=7125
2025-07-11 01:44:53.454 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 01:44:53.454 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 01:44:53.454 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 01:44:53.454 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 01:44:53.454 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 01:44:53.455 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 01:44:53.456 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 01:44:53.456 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1079092, typeStats={image=5, document=2}
2025-07-11 01:44:53.460 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 10
2025-07-11 01:44:53.469 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 10
2025-07-11 01:44:53.470 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 01:44:53.470 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 01:44:53.470 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:44:53.470 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 01:44:53.470 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 01:44:53.470 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 01:44:53.470 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 01:44:53.470 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:44:53.470 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:44:53.471 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=16, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:44:53.471 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 01:44:53.474 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 01:44:53.474 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 01:44:53.474 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 01:47:09.372 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:47:13.973 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=1, fileName=202302091675904138327528.jpg
2025-07-11 01:47:13.976 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=1, fileName=202302091675904138327528.jpg
2025-07-11 01:47:13.995 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 公开文件物理删除成功: fileId=16, userId=1
2025-07-11 01:47:13.995 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 删除用户旧头像: userId=1, fileId=16
2025-07-11 01:47:14.026 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/1/e41e9f47-2bfd-48fb-b592-b6d95f348581.jpg
2025-07-11 01:47:14.033 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=1, fileId=17, fileName=202302091675904138327528.jpg
2025-07-11 01:47:14.033 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=1, avatarUrl=http://localhost:9000/im-public-images/public/image/1/e41e9f47-2bfd-48fb-b592-b6d95f348581.jpg
2025-07-11 01:47:14.076 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:47:45.185 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:47:48.886 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=1, fileName=202302091675904140726704.jpg
2025-07-11 01:47:48.888 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=1, fileName=202302091675904140726704.jpg
2025-07-11 01:47:48.895 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 公开文件物理删除成功: fileId=17, userId=1
2025-07-11 01:47:48.895 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 删除用户旧头像: userId=1, fileId=17
2025-07-11 01:47:48.915 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/1/88592a05-76c0-4c2d-8d1d-9a16de5238ec.jpg
2025-07-11 01:47:48.918 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=1, fileId=18, fileName=202302091675904140726704.jpg
2025-07-11 01:47:48.919 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=1, avatarUrl=http://localhost:9000/im-public-images/public/image/1/88592a05-76c0-4c2d-8d1d-9a16de5238ec.jpg
2025-07-11 01:47:48.943 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:48:18.581 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:49:00.468 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:49:51.569 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:49:54.685 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=1, fileName=202302091675904140726704.jpg
2025-07-11 01:49:54.695 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=1, fileName=202302091675904140726704.jpg
2025-07-11 01:49:54.725 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 公开文件物理删除成功: fileId=18, userId=1
2025-07-11 01:49:54.729 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 删除用户旧头像: userId=1, fileId=18
2025-07-11 01:49:54.798 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/1/77c7f252-ba17-43b0-a4e4-8d9c01f9d3a1.jpg
2025-07-11 01:49:54.805 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=1, fileId=19, fileName=202302091675904140726704.jpg
2025-07-11 01:49:54.805 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=1, avatarUrl=http://localhost:9000/im-public-images/public/image/1/77c7f252-ba17-43b0-a4e4-8d9c01f9d3a1.jpg
2025-07-11 01:49:54.838 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:50:28.292 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:50:33.579 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=1, fileName=202302091675904138327528.jpg
2025-07-11 01:50:33.582 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=1, fileName=202302091675904138327528.jpg
2025-07-11 01:50:33.594 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 公开文件物理删除成功: fileId=19, userId=1
2025-07-11 01:50:33.594 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 删除用户旧头像: userId=1, fileId=19
2025-07-11 01:50:33.622 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/1/5ac33d78-f0be-4fe8-ac08-639b3349ec8e.jpg
2025-07-11 01:50:33.627 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=1, fileId=20, fileName=202302091675904138327528.jpg
2025-07-11 01:50:33.628 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=1, avatarUrl=http://localhost:9000/im-public-images/public/image/1/5ac33d78-f0be-4fe8-ac08-639b3349ec8e.jpg
2025-07-11 01:50:33.660 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 01:51:10.720 [http-nio-8080-exec-1] INFO  c.i.i.a.s.i.VerificationServiceImpl - 开始发送注册验证码到: 3280164803@qq.com
2025-07-11 01:51:10.752 [http-nio-8080-exec-1] INFO  c.i.i.c.s.impl.EmailServiceImpl - 开始发送验证码邮件到: 3280164803@qq.com
2025-07-11 01:51:12.231 [http-nio-8080-exec-1] INFO  c.i.i.c.s.impl.EmailServiceImpl - 验证码邮件发送成功: 3280164803@qq.com, 验证码: 003749
2025-07-11 01:51:12.235 [http-nio-8080-exec-1] INFO  c.i.i.a.s.i.VerificationServiceImpl - 注册验证码邮件发送成功: email=3280164803@qq.com, code=003749, expiresAt=2025-07-11T01:56:10.745772700
2025-07-11 01:51:34.610 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理邮箱注册请求: 3280164803@qq.com
2025-07-11 01:51:34.614 [http-nio-8080-exec-9] INFO  c.i.i.a.s.i.VerificationServiceImpl - 开始验证验证码: email=3280164803@qq.com, codeType=register
2025-07-11 01:51:34.630 [http-nio-8080-exec-9] INFO  c.i.i.a.s.i.VerificationServiceImpl - 验证码验证成功: email=3280164803@qq.com, codeType=register
2025-07-11 01:51:34.741 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户注册成功: userId=2, email=3280164803@qq.com
2025-07-11 01:51:34.741 [http-nio-8080-exec-9] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=2, deviceType=Web, ipAddress=null
2025-07-11 01:51:34.750 [http-nio-8080-exec-9] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 创建新设备记录
2025-07-11 01:51:37.872 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 01:51:37.874 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=2
2025-07-11 01:51:37.928 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 01:51:38.420 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:51:38.420 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 2
2025-07-11 01:51:38.421 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:51:38.425 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 0
2025-07-11 01:51:38.425 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {}
2025-07-11 01:51:38.426 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=0, totalSize=0, typeStats={}
2025-07-11 01:51:38.429 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 10
2025-07-11 01:51:38.437 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 2 的所有文件记录数（包括已删除）: 0
2025-07-11 01:51:38.438 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 01:51:38.442 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 0, 当前页数量: 0
2025-07-11 01:51:38.442 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 0
2025-07-11 01:51:41.804 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 01:51:45.196 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=2, fileName=202302091675904140726704.jpg
2025-07-11 01:51:45.199 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=2, fileName=202302091675904140726704.jpg
2025-07-11 01:51:45.236 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/2/5254acb1-6b34-4bf3-884b-634bfbb7fd28.jpg
2025-07-11 01:51:45.241 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=2, fileId=21, fileName=202302091675904140726704.jpg
2025-07-11 01:51:45.241 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=2, avatarUrl=http://localhost:9000/im-public-images/public/image/2/5254acb1-6b34-4bf3-884b-634bfbb7fd28.jpg
2025-07-11 01:51:45.272 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 01:51:53.311 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 01:52:03.622 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 2
2025-07-11 01:52:03.627 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 2
2025-07-11 01:52:03.658 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 01:52:03.684 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置个人ID，用户ID: 2, 个人ID: test_004
2025-07-11 01:52:03.693 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 个人ID设置成功，用户ID: 2, 个人ID: test_004
2025-07-11 01:52:03.721 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 01:52:10.013 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 01:52:12.844 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=2, fileName=202302091675904138327528.jpg
2025-07-11 01:52:12.846 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=2, fileName=202302091675904138327528.jpg
2025-07-11 01:52:12.857 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 公开文件物理删除成功: fileId=21, userId=2
2025-07-11 01:52:12.857 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 删除用户旧头像: userId=2, fileId=21
2025-07-11 01:52:12.887 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/2/b0660a50-f20f-42b6-9349-e8dea9d5c786.jpg
2025-07-11 01:52:12.892 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=2, fileId=22, fileName=202302091675904138327528.jpg
2025-07-11 01:52:12.892 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=2, avatarUrl=http://localhost:9000/im-public-images/public/image/2/b0660a50-f20f-42b6-9349-e8dea9d5c786.jpg
2025-07-11 01:52:12.929 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 01:52:48.146 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 01:52:51.501 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=2, fileName=202302091675904140726704.jpg
2025-07-11 01:52:51.504 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=2, fileName=202302091675904140726704.jpg
2025-07-11 01:52:51.515 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 公开文件物理删除成功: fileId=22, userId=2
2025-07-11 01:52:51.516 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 删除用户旧头像: userId=2, fileId=22
2025-07-11 01:52:51.546 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/2/d1bf82dc-02a5-4cb4-b522-54272e7cd322.jpg
2025-07-11 01:52:51.548 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=2, fileId=23, fileName=202302091675904140726704.jpg
2025-07-11 01:52:51.550 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=2, avatarUrl=http://localhost:9000/im-public-images/public/image/2/d1bf82dc-02a5-4cb4-b522-54272e7cd322.jpg
2025-07-11 01:52:51.581 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 01:55:55.733 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 2
2025-07-11 01:55:55.733 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:55:55.733 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:55:55.737 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 01:55:55.738 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=23, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 01:55:55.738 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 01:55:55.738 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 01:55:55.741 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 01:55:55.753 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 2 的所有文件记录数（包括已删除）: 1
2025-07-11 01:55:55.754 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=23, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:55:55.754 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 01:55:55.757 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 01:55:55.757 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 01:55:55.758 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 用户 2 找到 1 个文件
2025-07-11 01:55:56.395 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 2
2025-07-11 01:55:56.395 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:55:56.396 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:55:56.399 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 01:55:56.400 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=23, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 01:55:56.400 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 01:55:56.400 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 01:55:56.405 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 01:55:56.414 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 2 的所有文件记录数（包括已删除）: 1
2025-07-11 01:55:56.414 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=23, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:55:56.414 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 01:55:56.419 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 01:55:56.419 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 01:55:56.419 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 2 找到 1 个文件
2025-07-11 01:55:58.109 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 2
2025-07-11 01:55:58.109 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:55:58.110 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:55:58.113 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 01:55:58.113 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=23, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 01:55:58.113 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 01:55:58.113 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 01:55:58.119 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 01:55:58.129 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 2 的所有文件记录数（包括已删除）: 1
2025-07-11 01:55:58.129 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=23, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:55:58.129 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 01:55:58.134 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 01:55:58.134 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 01:55:58.135 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 用户 2 找到 1 个文件
2025-07-11 01:56:02.787 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:56:02.788 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:56:02.791 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 2
2025-07-11 01:56:02.797 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 01:56:02.797 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=23, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 01:56:02.797 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 01:56:02.797 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 01:56:02.797 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 01:56:02.805 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 2 的所有文件记录数（包括已删除）: 1
2025-07-11 01:56:02.805 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=23, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:56:02.806 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 01:56:02.811 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 01:56:02.812 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 01:56:02.813 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 用户 2 找到 1 个文件
2025-07-11 01:56:43.645 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 01:56:51.290 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=2, fileName=202302091675904140211711.jpg
2025-07-11 01:56:51.292 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=2, fileName=202302091675904140211711.jpg
2025-07-11 01:56:51.305 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 公开文件物理删除成功: fileId=23, userId=2
2025-07-11 01:56:51.305 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 删除用户旧头像: userId=2, fileId=23
2025-07-11 01:56:51.345 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/2/229a1152-4cc6-4569-a7d6-9f3f69b61880.jpg
2025-07-11 01:56:51.349 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=2, fileId=24, fileName=202302091675904140211711.jpg
2025-07-11 01:56:51.350 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=2, avatarUrl=http://localhost:9000/im-public-images/public/image/2/229a1152-4cc6-4569-a7d6-9f3f69b61880.jpg
2025-07-11 01:56:51.382 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 01:57:00.131 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 2
2025-07-11 01:57:00.134 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 2
2025-07-11 01:57:00.155 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 01:57:00.178 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 01:57:12.576 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 2
2025-07-11 01:57:12.576 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:57:12.577 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 01:57:12.583 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 01:57:12.583 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=24, 名称=202302091675904140211711.jpg, 类型=image, 大小=7125
2025-07-11 01:57:12.583 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 01:57:12.583 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=7125, typeStats={image=1}
2025-07-11 01:57:12.586 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 01:57:12.601 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 2 的所有文件记录数（包括已删除）: 1
2025-07-11 01:57:12.602 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=24, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 01:57:12.602 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 01:57:12.607 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 01:57:12.608 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 01:57:12.609 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 用户 2 找到 1 个文件
2025-07-11 02:00:00.011 [MessageBroker-5] INFO  c.i.i.user.task.FileCleanupTask - 开始执行定时文件清理任务，清理30天前的文件
2025-07-11 02:00:00.011 [MessageBroker-4] INFO  c.i.i.u.t.DataConsistencyMonitorTask - 开始执行每天数据一致性检查和自动修复
2025-07-11 02:00:00.012 [MessageBroker-3] INFO  c.i.i.u.s.DataConsistencyService - 开始执行数据一致性检查
2025-07-11 02:00:00.012 [MessageBroker-4] INFO  c.i.i.u.s.DataConsistencyService - 开始执行数据一致性检查
2025-07-11 02:00:00.016 [MessageBroker-2] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 开始执行过期临时文件清理任务
2025-07-11 02:00:00.016 [MessageBroker-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始清理30天前的已删除文件
2025-07-11 02:00:00.020 [MessageBroker-2] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 没有发现过期的临时文件
2025-07-11 02:00:00.037 [MessageBroker-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 清理完成，MinIO删除: 0个文件，数据库删除: 0条记录
2025-07-11 02:00:00.040 [MessageBroker-5] INFO  c.i.i.user.task.FileCleanupTask - 定时文件清理任务完成，清理了 0 个过期文件
2025-07-11 02:00:00.063 [MessageBroker-4] INFO  c.i.i.u.s.DataConsistencyService - 数据一致性检查完成，发现 1 个不一致项
2025-07-11 02:00:00.063 [MessageBroker-3] INFO  c.i.i.u.s.DataConsistencyService - 数据一致性检查完成，发现 1 个不一致项
2025-07-11 02:00:00.063 [MessageBroker-4] INFO  c.i.i.u.t.DataConsistencyMonitorTask - 发现数据不一致问题，开始自动修复
2025-07-11 02:00:00.063 [MessageBroker-3] INFO  c.i.i.u.t.DataConsistencyMonitorTask - 快速检查发现数据不一致: 1 个问题
2025-07-11 02:00:00.064 [MessageBroker-4] INFO  c.i.i.u.s.DataConsistencyService - 开始执行数据一致性修复，修复孤立数据库记录: true
2025-07-11 02:00:00.064 [MessageBroker-4] INFO  c.i.i.u.s.DataConsistencyService - 开始执行数据一致性检查
2025-07-11 02:00:00.087 [MessageBroker-4] INFO  c.i.i.u.s.DataConsistencyService - 数据一致性检查完成，发现 1 个不一致项
2025-07-11 02:00:00.105 [MessageBroker-4] INFO  c.i.i.u.s.DataConsistencyService - 数据一致性修复完成，修复了 0 个数据库记录，失败 0 个
2025-07-11 02:00:00.108 [MessageBroker-4] INFO  c.i.i.u.t.DataConsistencyMonitorTask - 每天数据一致性自动修复完成：
2025-07-11 02:00:00.108 [MessageBroker-4] INFO  c.i.i.u.t.DataConsistencyMonitorTask - - 修复的数据库记录: 0 个
2025-07-11 02:00:00.108 [MessageBroker-4] INFO  c.i.i.u.t.DataConsistencyMonitorTask - - 修复失败: 0 个
2025-07-11 02:00:00.108 [MessageBroker-4] INFO  c.i.i.u.t.DataConsistencyMonitorTask - - 总计修复: 0 个
2025-07-11 02:00:00.108 [MessageBroker-4] INFO  c.i.i.u.t.DataConsistencyMonitorTask - 每天数据一致性检查和自动修复完成
2025-07-11 11:46:01.497 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 11:46:01.548 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 9576 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 11:46:01.549 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 11:46:01.592 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 11:46:01.592 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 11:46:02.539 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 11:46:02.539 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 11:46:02.816 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 263 ms. Found 6 JPA repository interfaces.
2025-07-11 11:46:03.592 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 11:46:03.593 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 11:46:03.632 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:46:03.633 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:46:03.634 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:46:03.634 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:46:03.635 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:46:03.635 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:46:03.636 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-07-11 11:46:04.885 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 11:46:04.889 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 11:46:04.916 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 11:46:04.927 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 11:46:04.929 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 11:46:04.929 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 11:46:04.992 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 11:46:04.993 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3399 ms
2025-07-11 11:46:05.319 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 11:46:05.614 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4dd5c903
2025-07-11 11:46:05.616 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 11:46:05.698 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 11:46:05.807 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.060s)
2025-07-11 11:46:05.828 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 11:46:05.832 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 11:46:05.920 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 11:46:05.985 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 11:46:06.027 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 11:46:06.300 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 11:46:07.208 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 11:46:07.284 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 11:46:08.290 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 11:46:08.484 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 11:46:08.484 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 11:46:09.354 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 11:46:09.395 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 11:46:09.914 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 11:46:09.951 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 11:46:09.951 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 11:46:09.988 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 11:46:09.988 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 11:46:10.037 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 11:46:10.047 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 11:46:10.057 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 11:46:10.070 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 11:46:10.169 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 11:46:10.179 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 11:46:10.323 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 11:46:10.469 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 11:46:10.677 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 11:46:11.168 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 11:46:11.219 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 11:46:11.240 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 11:46:11.242 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 11:46:11.243 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@113d5f78]]
2025-07-11 11:46:11.243 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 11:46:11.258 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 10.243 seconds (process running for 10.714)
2025-07-11 11:46:11.304 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 11:46:11.338 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 11:46:11.351 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 11:46:11.367 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 11:46:11.380 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 11:46:11.394 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 11:46:11.406 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 11:46:11.440 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 11:46:35.960 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 11:46:35.960 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 11:46:35.962 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 11:47:11.212 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 7, completed tasks = 0]
2025-07-11 11:56:19.994 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 11:56:20.028 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 11:56:20.029 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 11:56:20.067 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 11:56:20.067 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 11:56:20.633 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 11:56:20.633 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 11:56:20.757 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 117 ms. Found 6 JPA repository interfaces.
2025-07-11 11:56:21.016 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 11:56:21.017 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 11:56:21.043 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:56:21.044 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:56:21.044 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:56:21.044 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:56:21.045 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:56:21.045 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:56:21.045 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-07-11 11:56:21.794 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 11:56:21.797 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 11:56:21.804 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 11:56:21.813 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 11:56:21.815 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 11:56:21.816 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 11:56:21.873 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 11:56:21.874 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1806 ms
2025-07-11 11:56:22.160 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 11:56:22.312 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@674c469b
2025-07-11 11:56:22.313 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 11:56:22.370 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 11:56:22.452 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.043s)
2025-07-11 11:56:22.473 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 11:56:22.477 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 11:56:22.549 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 11:56:22.588 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 11:56:22.614 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 11:56:22.823 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 11:56:23.575 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 11:56:23.618 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 11:56:24.284 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 11:56:24.709 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 11:56:24.709 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 11:56:24.906 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 11:56:24.951 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 11:56:25.311 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 11:56:25.338 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 11:56:25.338 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 11:56:25.370 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 11:56:25.370 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 11:56:25.405 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 11:56:25.417 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 11:56:25.425 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 11:56:25.434 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 11:56:25.527 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 11:56:25.534 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 11:56:25.660 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 11:56:25.778 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 11:56:25.968 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 11:56:26.392 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 11:56:26.435 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 11:56:26.451 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 11:56:26.454 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 11:56:26.454 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@42b97ee0]]
2025-07-11 11:56:26.454 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 11:56:26.467 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 6.806 seconds (process running for 7.173)
2025-07-11 11:56:26.498 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 11:56:26.518 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 11:56:26.533 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 11:56:26.550 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 11:56:26.564 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 11:56:26.576 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 11:56:26.589 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 11:56:26.617 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 11:56:35.921 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 11:56:35.921 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 11:56:35.923 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 11:57:26.423 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 7, completed tasks = 0]
2025-07-11 11:57:51.114 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 11:57:51.116 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=2
2025-07-11 11:58:04.766 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 11:58:05.444 [http-nio-8080-exec-1] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 11:58:05.444 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 11:58:05.447 [http-nio-8080-exec-1] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 11:58:05.473 [http-nio-8080-exec-1] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 11:58:05.496 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 11:58:05.497 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 11:58:07.140 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 11:58:07.143 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 11:58:24.721 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 11:58:24.829 [http-nio-8080-exec-9] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 11:58:24.830 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 11:58:24.831 [http-nio-8080-exec-9] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 11:58:24.835 [http-nio-8080-exec-9] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 11:58:24.838 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 11:58:24.839 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 11:58:26.441 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 11:58:26.443 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 11:58:34.697 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 11:58:34.810 [http-nio-8080-exec-8] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 11:58:34.810 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 11:58:34.811 [http-nio-8080-exec-8] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 11:58:34.817 [http-nio-8080-exec-8] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 11:58:34.818 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 11:58:34.821 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 11:58:36.419 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 11:58:36.421 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 11:59:37.621 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 189 class path changes (0 additions, 0 deletions, 189 modifications)
2025-07-11 11:59:37.631 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 11:59:37.631 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@42b97ee0]]
2025-07-11 11:59:37.631 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 11:59:37.634 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 11:59:38.060 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 11:59:38.064 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 11:59:38.074 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 11:59:38.203 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 11:59:38.204 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 11:59:38.485 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 11:59:38.485 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 11:59:38.530 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 6 JPA repository interfaces.
2025-07-11 11:59:38.653 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 11:59:38.654 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 11:59:38.664 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:59:38.665 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:59:38.666 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:59:38.666 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:59:38.667 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:59:38.667 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:59:38.668 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-07-11 11:59:38.901 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 11:59:38.901 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 11:59:38.904 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 11:59:38.904 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 11:59:38.905 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 11:59:38.905 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 11:59:38.931 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 11:59:38.932 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 727 ms
2025-07-11 11:59:39.086 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-11 11:59:39.116 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@277665be
2025-07-11 11:59:39.116 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-11 11:59:39.136 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 11:59:39.182 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.020s)
2025-07-11 11:59:39.206 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 11:59:39.208 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 11:59:39.273 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 11:59:39.279 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 11:59:39.296 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 11:59:39.429 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 11:59:39.448 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 11:59:39.695 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 11:59:40.099 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 11:59:40.099 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 11:59:40.205 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 11:59:40.696 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 11:59:40.889 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 11:59:40.893 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 11:59:41.020 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 11:59:41.023 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-07-11 11:59:41.039 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-07-11 11:59:41.047 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 11:59:41.162 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 11:59:45.058 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 11:59:45.059 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 11:59:45.470 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 11:59:45.470 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 11:59:45.544 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 73 ms. Found 6 JPA repository interfaces.
2025-07-11 11:59:45.690 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 11:59:45.690 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 11:59:45.713 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:59:45.714 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:59:45.714 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:59:45.714 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:59:45.715 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:59:45.715 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 11:59:45.715 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-07-11 11:59:45.959 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 11:59:45.961 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 11:59:45.962 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 11:59:45.963 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 11:59:45.963 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 11:59:45.965 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 11:59:46.024 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 11:59:46.024 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 962 ms
2025-07-11 11:59:46.211 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-11 11:59:46.223 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@48cf1047
2025-07-11 11:59:46.223 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-11 11:59:46.233 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 11:59:46.264 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.017s)
2025-07-11 11:59:46.286 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 11:59:46.288 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 11:59:46.350 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 11:59:46.354 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 11:59:46.364 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 11:59:46.514 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 11:59:46.537 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 11:59:46.768 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 11:59:47.050 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 11:59:47.051 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 11:59:47.125 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 11:59:47.181 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 11:59:47.205 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 11:59:47.205 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 11:59:47.232 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 11:59:47.233 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 11:59:47.244 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 11:59:47.252 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 11:59:47.258 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 11:59:47.271 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 11:59:47.344 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 11:59:47.351 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 11:59:47.412 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 11:59:47.462 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 11:59:47.592 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 11:59:47.805 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 11:59:47.816 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 11:59:47.820 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 11:59:47.820 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 11:59:47.820 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@44ba3de8]]
2025-07-11 11:59:47.820 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 11:59:47.828 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.82 seconds (process running for 208.527)
2025-07-11 11:59:47.828 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 11:59:47.856 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 11:59:47.870 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 11:59:47.886 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 11:59:47.901 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 11:59:47.914 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 11:59:47.929 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 11:59:47.962 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 11:59:47.965 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 11:59:55.089 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 11:59:55.089 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 11:59:55.091 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 11:59:57.056 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 11:59:57.243 [http-nio-8080-exec-2] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 11:59:57.243 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 11:59:57.244 [http-nio-8080-exec-2] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 11:59:57.256 [http-nio-8080-exec-2] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 11:59:57.261 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 11:59:57.262 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 11:59:58.929 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 11:59:58.931 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 11:59:58.970 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 11:59:59.467 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 11:59:59.469 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 11:59:59.470 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 11:59:59.505 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 11:59:59.522 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 10
2025-07-11 11:59:59.523 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 11:59:59.523 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 11:59:59.524 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 11:59:59.524 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 11:59:59.524 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 11:59:59.525 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 11:59:59.525 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 11:59:59.525 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 11:59:59.525 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 11:59:59.526 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=20, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 11:59:59.526 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 11:59:59.538 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 11:59:59.538 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=20, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 11:59:59.539 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 11:59:59.539 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 11:59:59.539 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 11:59:59.539 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 11:59:59.539 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 11:59:59.539 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 11:59:59.541 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 11:59:59.542 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 11:59:59.542 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 11:59:59.542 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 11:59:59.543 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1081488, typeStats={image=5, document=2}
2025-07-11 12:00:00.008 [MessageBroker-3] INFO  c.i.i.u.s.DataConsistencyService - 开始执行数据一致性检查
2025-07-11 12:00:00.010 [MessageBroker-2] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 开始执行过期临时文件清理任务
2025-07-11 12:00:00.019 [MessageBroker-2] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 没有发现过期的临时文件
2025-07-11 12:00:00.123 [MessageBroker-3] INFO  c.i.i.u.s.DataConsistencyService - 数据一致性检查完成，发现 1 个不一致项
2025-07-11 12:00:00.129 [MessageBroker-3] INFO  c.i.i.u.t.DataConsistencyMonitorTask - 快速检查发现数据不一致: 1 个问题
2025-07-11 12:00:08.999 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:00:14.634 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=1, fileName=202302091675904140726704.jpg
2025-07-11 12:00:14.637 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=1, fileName=202302091675904140726704.jpg
2025-07-11 12:00:14.666 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 公开文件物理删除成功: fileId=20, userId=1
2025-07-11 12:00:14.666 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 删除用户旧头像: userId=1, fileId=20
2025-07-11 12:00:14.738 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/1/179d0146-44ac-41d8-b0f6-ebf8d0a2a607.jpg
2025-07-11 12:00:14.766 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=1, fileId=25, fileName=202302091675904140726704.jpg
2025-07-11 12:00:14.767 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=1, avatarUrl=http://localhost:9000/im-public-images/public/image/1/179d0146-44ac-41d8-b0f6-ebf8d0a2a607.jpg
2025-07-11 12:00:14.821 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:00:47.823 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 10, active threads = 1, queued tasks = 7, completed tasks = 2]
2025-07-11 12:04:45.314 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 191 class path changes (0 additions, 0 deletions, 191 modifications)
2025-07-11 12:04:45.315 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 12:04:45.315 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@44ba3de8]]
2025-07-11 12:04:45.317 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 12:04:45.317 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 12:04:45.602 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:04:45.602 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-07-11 12:04:45.605 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-07-11 12:04:45.728 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:04:45.728 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:04:45.930 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:04:45.930 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:04:45.969 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 6 JPA repository interfaces.
2025-07-11 12:04:46.051 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:04:46.052 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:04:46.061 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:04:46.061 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:04:46.062 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:04:46.062 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:04:46.062 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:04:46.062 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:04:46.062 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-07-11 12:04:46.217 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:04:46.218 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:04:46.219 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:04:46.219 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:04:46.220 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:04:46.220 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:04:46.244 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:04:46.244 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 514 ms
2025-07-11 12:04:46.339 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-07-11 12:04:46.353 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@478de151
2025-07-11 12:04:46.354 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-07-11 12:04:46.361 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:04:46.385 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.012s)
2025-07-11 12:04:46.402 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:04:46.404 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:04:46.438 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:04:46.441 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:04:46.447 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:04:46.522 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:04:46.545 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:04:46.755 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:04:47.039 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:04:47.039 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:04:47.094 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:04:47.157 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:04:47.189 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:04:47.189 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:04:47.216 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 12:04:47.217 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:04:47.226 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:04:47.234 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:04:47.244 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:04:47.252 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 12:04:47.326 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 12:04:47.333 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 12:04:47.393 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 12:04:47.439 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 12:04:47.543 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 12:04:47.780 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 12:04:47.793 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 12:04:47.796 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 12:04:47.797 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 12:04:47.797 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2c13fea4]]
2025-07-11 12:04:47.797 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 12:04:47.807 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.112 seconds (process running for 508.496)
2025-07-11 12:04:47.808 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 12:04:47.824 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 12:04:47.836 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 12:04:47.847 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 12:04:47.858 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 12:04:47.871 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 12:04:47.883 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 12:04:47.905 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 12:04:47.906 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 12:05:35.867 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 12:05:35.868 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 12:05:35.872 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-07-11 12:05:47.794 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 7, completed tasks = 0]
2025-07-11 12:05:53.203 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 12:05:53.211 [Thread-14] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 12:05:53.212 [Thread-14] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2c13fea4]]
2025-07-11 12:05:53.212 [Thread-14] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 12:05:53.215 [Thread-14] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 12:05:53.512 [Thread-14] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:05:53.519 [Thread-14] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-07-11 12:05:53.527 [Thread-14] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-07-11 12:05:53.800 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:05:53.801 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:05:54.035 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:05:54.035 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:05:54.067 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 6 JPA repository interfaces.
2025-07-11 12:05:54.144 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:05:54.144 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:05:54.156 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:05:54.156 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:05:54.157 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:05:54.157 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:05:54.158 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:05:54.158 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:05:54.158 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-07-11 12:05:54.312 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:05:54.312 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:05:54.313 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:05:54.313 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:05:54.313 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:05:54.313 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:05:54.337 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:05:54.338 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 536 ms
2025-07-11 12:05:54.422 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-07-11 12:05:54.446 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2f5b65f6
2025-07-11 12:05:54.447 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-07-11 12:05:54.470 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:05:54.529 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.028s)
2025-07-11 12:05:54.543 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:05:54.544 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:05:54.573 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:05:54.575 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:05:54.580 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:05:54.665 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:05:54.685 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:05:54.878 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:05:55.170 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:05:55.170 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:05:55.254 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:05:55.307 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:05:55.338 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:05:55.338 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:05:55.361 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 12:05:55.361 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:05:55.370 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:05:55.375 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:05:55.382 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:05:55.388 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 12:05:55.457 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 12:05:55.463 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 12:05:55.516 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 12:05:55.561 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 12:05:55.672 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 12:05:55.905 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 12:05:55.917 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 12:05:55.919 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 12:05:55.920 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 12:05:55.920 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6abb4ff7]]
2025-07-11 12:05:55.920 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 12:05:55.928 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.159 seconds (process running for 576.615)
2025-07-11 12:05:55.929 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 12:05:55.957 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 12:05:55.973 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 12:05:55.990 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 12:05:56.004 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 12:05:56.019 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 12:05:56.033 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 12:05:56.061 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 12:05:56.063 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 12:06:35.851 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 12:06:35.851 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 12:06:35.853 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 12:06:41.054 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 12:06:41.057 [Thread-18] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 12:06:41.057 [Thread-18] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6abb4ff7]]
2025-07-11 12:06:41.057 [Thread-18] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 12:06:41.058 [Thread-18] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 12:06:41.322 [Thread-18] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:06:41.323 [Thread-18] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-07-11 12:06:41.324 [Thread-18] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-07-11 12:06:41.442 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:06:41.442 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:06:41.608 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:06:41.608 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:06:41.637 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 12:06:41.705 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:06:41.705 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:06:41.714 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:06:41.714 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:06:41.715 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:06:41.715 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:06:41.715 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:06:41.716 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:06:41.716 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 12:06:41.861 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:06:41.862 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:06:41.863 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:06:41.863 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:06:41.863 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:06:41.863 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:06:41.887 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:06:41.887 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 444 ms
2025-07-11 12:06:41.973 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-07-11 12:06:41.983 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@65f68c7
2025-07-11 12:06:41.983 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-07-11 12:06:41.988 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:06:42.005 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.008s)
2025-07-11 12:06:42.019 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:06:42.019 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:06:42.047 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:06:42.048 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:06:42.054 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:06:42.104 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:06:42.115 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:06:42.291 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:06:42.556 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:06:42.556 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:06:42.606 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:06:42.658 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:06:42.682 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:06:42.682 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:06:42.702 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 12:06:42.703 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:06:42.712 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:06:42.719 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:06:42.726 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:06:42.734 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 12:06:42.813 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 12:06:42.821 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 12:06:42.877 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 12:06:42.925 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 12:06:43.045 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 12:06:43.276 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 12:06:43.288 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 12:06:43.290 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 12:06:43.291 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 12:06:43.291 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6915446]]
2025-07-11 12:06:43.291 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 12:06:43.298 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.877 seconds (process running for 623.984)
2025-07-11 12:06:43.299 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 12:06:43.313 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 12:06:43.327 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 12:06:43.340 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 12:06:43.353 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 12:06:43.368 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 12:06:43.382 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 12:06:43.402 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 12:06:43.403 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 12:07:01.973 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 12:07:01.975 [Thread-22] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 12:07:01.976 [Thread-22] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6915446]]
2025-07-11 12:07:01.976 [Thread-22] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 12:07:01.976 [Thread-22] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 12:07:02.268 [Thread-22] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:07:02.269 [Thread-22] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-07-11 12:07:02.271 [Thread-22] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-07-11 12:07:02.391 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:07:02.391 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:07:02.557 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:07:02.557 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:07:02.586 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 12:07:02.649 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:07:02.649 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:07:02.658 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:07:02.658 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:07:02.658 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:07:02.658 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:07:02.658 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:07:02.659 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:07:02.659 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 12:07:02.776 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:07:02.776 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:07:02.777 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:07:02.778 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:07:02.779 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:07:02.779 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:07:02.804 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:07:02.804 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 412 ms
2025-07-11 12:07:02.890 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-07-11 12:07:02.900 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@c953003
2025-07-11 12:07:02.900 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-07-11 12:07:02.906 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:07:02.928 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.010s)
2025-07-11 12:07:02.943 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:07:02.945 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:07:02.973 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:07:02.975 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:07:02.979 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:07:03.048 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:07:03.059 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:07:03.240 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:07:03.518 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:07:03.518 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:07:03.581 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:07:03.656 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:07:03.682 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:07:03.682 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:07:03.701 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 12:07:03.702 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:07:03.708 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:07:03.713 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:07:03.719 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:07:03.727 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 12:07:03.791 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 12:07:03.799 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 12:07:03.848 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 12:07:03.890 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 12:07:03.991 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 12:07:04.188 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 12:07:04.199 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 12:07:04.203 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 12:07:04.203 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 12:07:04.203 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38c14fe]]
2025-07-11 12:07:04.203 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 12:07:04.211 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.84 seconds (process running for 644.895)
2025-07-11 12:07:04.211 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 12:07:04.233 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 12:07:04.248 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 12:07:04.261 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 12:07:04.274 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 12:07:04.292 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 12:07:04.305 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 12:07:04.323 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 12:07:04.324 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 12:07:35.838 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 12:07:35.838 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 12:07:35.839 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 12:08:04.201 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 7, completed tasks = 0]
2025-07-11 12:08:35.866 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 189 class path changes (0 additions, 189 deletions, 0 modifications)
2025-07-11 12:08:35.869 [Thread-26] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 12:08:35.869 [Thread-26] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@38c14fe]]
2025-07-11 12:08:35.869 [Thread-26] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 12:08:35.870 [Thread-26] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 12:08:36.215 [Thread-26] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:08:36.216 [Thread-26] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-07-11 12:08:36.221 [Thread-26] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-07-11 12:08:36.343 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:08:36.343 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:08:36.548 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:08:36.548 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:08:36.556 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2025-07-11 12:08:36.559 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:08:36.559 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:08:36.566 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-07-11 12:08:36.637 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:08:36.637 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:08:36.639 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:08:36.639 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:08:36.639 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:08:36.639 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:08:36.666 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:08:36.666 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 322 ms
2025-07-11 12:08:36.720 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Starting...
2025-07-11 12:08:36.730 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@54a5734b
2025-07-11 12:08:36.730 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Start completed.
2025-07-11 12:08:36.736 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:08:36.760 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.013s)
2025-07-11 12:08:36.777 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:08:36.779 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:08:36.801 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:08:36.803 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:08:36.807 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:08:36.824 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:08:36.824 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:08:36.845 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 12:08:36.965 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 12:08:36.987 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 12:08:37.025 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 12:08:37.032 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 12:08:37.036 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 12:08:37.043 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 0.726 seconds (process running for 737.726)
2025-07-11 12:08:37.047 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   JpaRepositoriesAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.data.jpa.repository.JpaRepository' (OnClassCondition)
      - @ConditionalOnProperty (spring.data.jpa.repositories.enabled=true) matched (OnPropertyCondition)
      - @ConditionalOnBean (types: javax.sql.DataSource; SearchStrategy: all) found bean 'dataSource'; @ConditionalOnMissingBean (types: org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean,org.springframework.data.jpa.repository.config.JpaRepositoryConfigExtension; SearchStrategy: all) did not find any beans (OnBeanCondition)

   ManagementWebSecurityAutoConfiguration matched:
      - found 'session' scope (OnWebApplicationCondition)
      - AllNestedConditions 2 matched 0 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) did not find any beans; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)

   RedisAutoConfiguration#redisTemplate matched:
      - @ConditionalOnSingleCandidate (types: org.springframework.data.redis.connection.RedisConnectionFactory; SearchStrategy: all) found a single bean 'redisConnectionFactory'; @ConditionalOnMissingBean (names: redisTemplate; SearchStrategy: all) did not find any beans (OnBeanCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)
      - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) did not find any beans (OnBeanCondition)

   TaskExecutorConfigurations.TaskExecutorConfiguration matched:
      - @ConditionalOnMissingBean (types: java.util.concurrent.Executor; SearchStrategy: all) did not find any beans (OnBeanCondition)

   TaskExecutorConfigurations.TaskExecutorConfiguration#applicationTaskExecutor matched:
      - @ConditionalOnThreading found PLATFORM (OnThreadingCondition)

   TaskSchedulingConfigurations.TaskSchedulerConfiguration matched:
      - @ConditionalOnBean (names: org.springframework.context.annotation.internalScheduledAnnotationProcessor; SearchStrategy: all) found bean 'org.springframework.context.annotation.internalScheduledAnnotationProcessor'; @ConditionalOnMissingBean (types: org.springframework.scheduling.TaskScheduler,java.util.concurrent.ScheduledExecutorService; SearchStrategy: all) did not find any beans (OnBeanCondition)

   TaskSchedulingConfigurations.TaskSchedulerConfiguration#taskScheduler matched:
      - @ConditionalOnThreading found PLATFORM (OnThreadingCondition)

   TransactionAutoConfiguration.EnableTransactionManagementConfiguration matched:
      - @ConditionalOnBean (types: org.springframework.transaction.TransactionManager; SearchStrategy: all) found bean 'transactionManager'; @ConditionalOnMissingBean (types: org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration; SearchStrategy: all) did not find any beans (OnBeanCondition)

   TransactionAutoConfiguration.EnableTransactionManagementConfiguration.CglibAutoProxyConfiguration matched:
      - @ConditionalOnProperty (spring.aop.proxy-target-class=true) matched (OnPropertyCondition)


Negative matches:
-----------------

   CacheMetricsAutoConfiguration:
      Did not match:
         - @ConditionalOnBean (types: org.springframework.cache.CacheManager; SearchStrategy: all) did not find any beans of type org.springframework.cache.CacheManager (OnBeanCondition)

   JpaRepositoriesAutoConfiguration#entityManagerFactoryBootstrapExecutorCustomizer:
      Did not match:
         - AnyNestedCondition 0 matched 2 did not; NestedCondition on JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition.LazyBootstrapMode @ConditionalOnProperty (spring.data.jpa.repositories.bootstrap-mode=lazy) did not find property 'bootstrap-mode'; NestedCondition on JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition.DeferredBootstrapMode @ConditionalOnProperty (spring.data.jpa.repositories.bootstrap-mode=deferred) did not find property 'bootstrap-mode' (JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition)

   TaskExecutorConfigurations.TaskExecutorConfiguration#applicationTaskExecutorVirtualThreads:
      Did not match:
         - @ConditionalOnThreading did not find VIRTUAL (OnThreadingCondition)

   TaskSchedulingConfigurations.TaskSchedulerConfiguration#taskSchedulerVirtualThreads:
      Did not match:
         - @ConditionalOnThreading did not find VIRTUAL (OnThreadingCondition)

   WebSocketMessagingAutoConfiguration.WebSocketMessageConverterConfiguration:
      Did not match:
         - @ConditionalOnBean (types: org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration,com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) did not find any beans of type org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required classes 'com.fasterxml.jackson.databind.ObjectMapper', 'org.springframework.messaging.simp.config.AbstractMessageBrokerConfiguration' (OnClassCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-07-11 12:08:41.110 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 160 class path changes (160 additions, 0 deletions, 0 modifications)
2025-07-11 12:08:41.112 [Thread-30] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 12:08:41.419 [Thread-30] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:08:41.420 [Thread-30] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
2025-07-11 12:08:41.422 [Thread-30] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
2025-07-11 12:08:41.548 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:08:41.549 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:08:41.706 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:08:41.708 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:08:41.737 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 4 JPA repository interfaces.
2025-07-11 12:08:41.795 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:08:41.795 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:08:41.803 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:08:41.803 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:08:41.803 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:08:41.803 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:08:41.803 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-07-11 12:08:41.922 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:08:41.923 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:08:41.924 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:08:41.924 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:08:41.924 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:08:41.925 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:08:41.948 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:08:41.948 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 398 ms
2025-07-11 12:08:42.030 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Starting...
2025-07-11 12:08:42.040 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4e7b3add
2025-07-11 12:08:42.040 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Start completed.
2025-07-11 12:08:42.046 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:08:42.065 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.008s)
2025-07-11 12:08:42.076 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:08:42.077 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:08:42.105 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:08:42.108 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:08:42.112 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:08:42.164 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:08:42.175 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:08:42.343 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:08:42.612 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:08:42.613 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:08:42.657 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:08:42.707 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:08:42.725 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:08:42.726 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:08:42.735 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:08:42.735 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown initiated...
2025-07-11 12:08:42.737 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown completed.
2025-07-11 12:08:42.738 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 12:08:42.801 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 12:08:55.424 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:08:55.424 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:08:55.584 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:08:55.584 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:08:55.612 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 4 JPA repository interfaces.
2025-07-11 12:08:55.685 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:08:55.685 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:08:55.696 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:08:55.696 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:08:55.697 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:08:55.697 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:08:55.697 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-07-11 12:08:55.814 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:08:55.814 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:08:55.815 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:08:55.815 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:08:55.815 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:08:55.815 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:08:55.839 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:08:55.839 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 414 ms
2025-07-11 12:08:55.923 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Starting...
2025-07-11 12:08:55.934 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-10 - Added connection com.mysql.cj.jdbc.ConnectionImpl@460f44f0
2025-07-11 12:08:55.934 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Start completed.
2025-07-11 12:08:55.940 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:08:55.965 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.015s)
2025-07-11 12:08:55.982 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:08:55.983 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:08:56.013 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:08:56.015 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:08:56.020 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:08:56.074 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:08:56.084 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:08:56.252 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:08:56.519 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:08:56.519 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:08:56.563 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:08:56.608 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:08:56.626 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:08:56.626 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:08:56.636 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:08:56.637 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown initiated...
2025-07-11 12:08:56.638 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown completed.
2025-07-11 12:08:56.639 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 12:08:56.698 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 12:09:05.238 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:09:05.238 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:09:05.457 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:09:05.458 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:09:05.467 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.
2025-07-11 12:09:05.469 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:09:05.469 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:09:05.479 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 12:09:05.548 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:09:05.548 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:09:05.549 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:09:05.549 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:09:05.549 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:09:05.550 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:09:05.577 [restartedMain] INFO  o.a.c.c.C.[Tomcat-3].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:09:05.578 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 338 ms
2025-07-11 12:09:05.628 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Starting...
2025-07-11 12:09:05.638 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-11 - Added connection com.mysql.cj.jdbc.ConnectionImpl@244fc7c6
2025-07-11 12:09:05.638 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Start completed.
2025-07-11 12:09:05.644 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:09:05.669 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.011s)
2025-07-11 12:09:05.685 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:09:05.687 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:09:05.714 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:09:05.716 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:09:05.721 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:09:05.739 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:09:05.739 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:09:05.744 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:09:05.744 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown initiated...
2025-07-11 12:09:05.780 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown completed.
2025-07-11 12:09:05.781 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 12:09:05.854 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 12:09:10.142 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:09:10.142 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:09:10.299 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:09:10.300 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:09:10.327 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 4 JPA repository interfaces.
2025-07-11 12:09:10.392 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:09:10.392 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:09:10.404 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:09:10.404 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:09:10.404 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:09:10.405 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:09:10.405 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-07-11 12:09:10.521 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:09:10.521 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:09:10.522 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:09:10.523 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:09:10.523 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:09:10.523 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:09:10.547 [restartedMain] INFO  o.a.c.c.C.[Tomcat-4].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:09:10.547 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 403 ms
2025-07-11 12:09:10.636 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Starting...
2025-07-11 12:09:10.646 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-12 - Added connection com.mysql.cj.jdbc.ConnectionImpl@552c9b43
2025-07-11 12:09:10.647 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Start completed.
2025-07-11 12:09:10.653 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:09:10.671 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.009s)
2025-07-11 12:09:10.685 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:09:10.686 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:09:10.713 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:09:10.716 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:09:10.720 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:09:10.764 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:09:10.776 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:09:10.944 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:09:11.238 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:09:11.238 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:09:11.278 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:09:11.321 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:09:11.337 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:09:11.338 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:09:11.347 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:09:11.347 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Shutdown initiated...
2025-07-11 12:09:11.349 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Shutdown completed.
2025-07-11 12:09:11.350 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 12:09:11.415 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 12:09:31.164 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:09:31.166 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:09:31.353 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:09:31.353 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:09:31.386 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 4 JPA repository interfaces.
2025-07-11 12:09:31.449 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:09:31.449 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:09:31.458 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:09:31.458 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:09:31.458 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:09:31.458 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:09:31.459 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 12:09:31.574 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:09:31.579 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:09:31.580 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:09:31.580 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:09:31.580 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:09:31.580 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:09:31.606 [restartedMain] INFO  o.a.c.c.C.[Tomcat-5].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:09:31.606 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 439 ms
2025-07-11 12:09:31.688 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Starting...
2025-07-11 12:09:31.697 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-13 - Added connection com.mysql.cj.jdbc.ConnectionImpl@56acf577
2025-07-11 12:09:31.697 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Start completed.
2025-07-11 12:09:31.702 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:09:31.720 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.009s)
2025-07-11 12:09:31.732 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:09:31.733 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:09:31.763 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:09:31.766 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:09:31.771 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:09:31.819 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:09:31.830 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:09:32.003 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:09:32.274 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:09:32.274 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:09:32.321 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:09:32.368 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:09:32.391 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:09:32.391 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:09:32.400 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:09:32.401 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Shutdown initiated...
2025-07-11 12:09:32.402 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Shutdown completed.
2025-07-11 12:09:32.402 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 12:09:32.466 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 12:09:47.088 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:09:47.088 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:09:47.289 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:09:47.289 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:09:47.298 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.
2025-07-11 12:09:47.300 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:09:47.300 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:09:47.308 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-07-11 12:09:47.390 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:09:47.391 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:09:47.392 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:09:47.393 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:09:47.393 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:09:47.393 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:09:47.424 [restartedMain] INFO  o.a.c.c.C.[Tomcat-6].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:09:47.424 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 335 ms
2025-07-11 12:09:47.487 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Starting...
2025-07-11 12:09:47.497 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-14 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7d586d2d
2025-07-11 12:09:47.497 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Start completed.
2025-07-11 12:09:47.505 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:09:47.532 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.013s)
2025-07-11 12:09:47.552 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:09:47.554 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:09:47.585 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:09:47.587 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:09:47.591 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:09:47.610 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:09:47.610 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:09:47.615 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:09:47.615 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Shutdown initiated...
2025-07-11 12:09:47.639 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Shutdown completed.
2025-07-11 12:09:47.639 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 12:09:47.708 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 12:09:52.410 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:09:52.410 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:09:52.567 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:09:52.568 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:09:52.594 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 4 JPA repository interfaces.
2025-07-11 12:09:52.653 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:09:52.653 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:09:52.663 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:09:52.663 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:09:52.663 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:09:52.663 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:09:52.664 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 12:09:52.780 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:09:52.780 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:09:52.781 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:09:52.781 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:09:52.782 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:09:52.782 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:09:52.805 [restartedMain] INFO  o.a.c.c.C.[Tomcat-7].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:09:52.807 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 397 ms
2025-07-11 12:09:52.887 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Starting...
2025-07-11 12:09:52.895 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-15 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1880c6ae
2025-07-11 12:09:52.895 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Start completed.
2025-07-11 12:09:52.898 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:09:52.915 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.008s)
2025-07-11 12:09:52.930 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:09:52.930 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:09:52.959 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:09:52.961 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:09:52.965 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:09:53.011 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:09:53.021 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:09:53.195 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:09:53.457 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:09:53.457 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:09:53.502 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:09:53.548 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:09:53.564 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:09:53.564 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:09:53.573 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:09:53.574 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Shutdown initiated...
2025-07-11 12:09:53.575 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Shutdown completed.
2025-07-11 12:09:53.577 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 12:09:53.641 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 12:10:12.388 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:10:12.389 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:10:12.552 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:10:12.552 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:10:12.579 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 4 JPA repository interfaces.
2025-07-11 12:10:12.638 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:10:12.639 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:10:12.648 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:10:12.648 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:10:12.648 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:10:12.649 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:10:12.649 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 12:10:12.768 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:10:12.769 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:10:12.770 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:10:12.771 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:10:12.771 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:10:12.771 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:10:12.793 [restartedMain] INFO  o.a.c.c.C.[Tomcat-8].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:10:12.794 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 404 ms
2025-07-11 12:10:12.881 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Starting...
2025-07-11 12:10:12.889 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-16 - Added connection com.mysql.cj.jdbc.ConnectionImpl@65ee5c4
2025-07-11 12:10:12.890 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Start completed.
2025-07-11 12:10:12.902 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:10:12.917 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.008s)
2025-07-11 12:10:12.928 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:10:12.929 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:10:12.956 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:10:12.958 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:10:12.962 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:10:13.009 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:10:13.023 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:10:13.195 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:10:13.463 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:10:13.463 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:10:13.502 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:10:13.544 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:10:13.563 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:10:13.563 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:10:13.572 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:10:13.572 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Shutdown initiated...
2025-07-11 12:10:13.574 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Shutdown completed.
2025-07-11 12:10:13.575 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 12:10:13.641 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 12:10:41.510 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:10:41.511 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:10:41.731 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:10:41.731 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:10:41.738 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 JPA repository interfaces.
2025-07-11 12:10:41.740 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:10:41.740 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:10:41.747 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-07-11 12:10:41.841 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:10:41.841 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:10:41.843 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:10:41.843 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:10:41.844 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:10:41.844 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:10:41.870 [restartedMain] INFO  o.a.c.c.C.[Tomcat-9].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:10:41.870 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 359 ms
2025-07-11 12:10:41.919 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Starting...
2025-07-11 12:10:41.929 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-17 - Added connection com.mysql.cj.jdbc.ConnectionImpl@795b148e
2025-07-11 12:10:41.930 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Start completed.
2025-07-11 12:10:41.935 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:10:41.955 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.011s)
2025-07-11 12:10:41.973 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:10:41.975 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:10:41.998 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:10:42.000 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:10:42.004 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:10:42.019 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:10:42.019 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:10:42.023 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:10:42.023 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Shutdown initiated...
2025-07-11 12:10:42.024 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Shutdown completed.
2025-07-11 12:10:42.024 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 12:10:42.102 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 12:10:46.387 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:10:46.387 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:10:46.552 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:10:46.553 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:10:46.577 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 4 JPA repository interfaces.
2025-07-11 12:10:46.637 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:10:46.638 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:10:46.647 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:10:46.647 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:10:46.647 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:10:46.647 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:10:46.648 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 12:10:46.760 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:10:46.760 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:10:46.761 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:10:46.761 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:10:46.761 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:10:46.762 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:10:46.785 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:10:46.785 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 397 ms
2025-07-11 12:10:46.869 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Starting...
2025-07-11 12:10:46.878 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-18 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3962cd60
2025-07-11 12:10:46.878 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Start completed.
2025-07-11 12:10:46.883 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:10:46.900 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.008s)
2025-07-11 12:10:46.912 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:10:46.913 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:10:46.939 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:10:46.943 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:10:46.947 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:10:46.992 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:10:47.002 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:10:47.168 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:10:47.428 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:10:47.429 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:10:47.471 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:10:47.513 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:10:47.532 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:10:47.533 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:10:47.542 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:10:47.543 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Shutdown initiated...
2025-07-11 12:10:47.544 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Shutdown completed.
2025-07-11 12:10:47.545 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 12:10:47.614 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 12:11:26.658 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:11:26.659 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:11:26.826 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:11:26.826 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:11:26.854 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 4 JPA repository interfaces.
2025-07-11 12:11:26.912 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:11:26.913 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:11:26.923 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:11:26.923 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:11:26.923 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:11:26.923 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:11:26.924 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 12:11:27.051 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:11:27.052 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:11:27.054 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:11:27.054 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:11:27.054 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:11:27.054 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:11:27.078 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:11:27.078 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 418 ms
2025-07-11 12:11:27.170 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Starting...
2025-07-11 12:11:27.178 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-19 - Added connection com.mysql.cj.jdbc.ConnectionImpl@60c5d5b6
2025-07-11 12:11:27.179 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Start completed.
2025-07-11 12:11:27.184 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:11:27.200 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.008s)
2025-07-11 12:11:27.210 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:11:27.210 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:11:27.241 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:11:27.243 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:11:27.247 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:11:27.291 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:11:27.301 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:11:27.463 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:11:27.757 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:11:27.758 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:11:27.804 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:11:27.844 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:11:27.869 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:11:27.869 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:11:27.878 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:11:27.879 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Shutdown initiated...
2025-07-11 12:11:27.880 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Shutdown completed.
2025-07-11 12:11:27.881 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 12:11:27.966 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 12:11:39.735 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:11:39.735 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:11:39.913 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:11:39.913 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:11:39.922 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 JPA repository interfaces.
2025-07-11 12:11:39.924 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:11:39.924 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:11:39.933 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-07-11 12:11:40.007 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:11:40.008 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:11:40.009 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:11:40.009 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:11:40.009 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:11:40.010 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:11:40.032 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:11:40.032 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 296 ms
2025-07-11 12:11:40.081 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Starting...
2025-07-11 12:11:40.091 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-20 - Added connection com.mysql.cj.jdbc.ConnectionImpl@785bb270
2025-07-11 12:11:40.092 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Start completed.
2025-07-11 12:11:40.099 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:11:40.124 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.013s)
2025-07-11 12:11:40.144 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:11:40.146 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:11:40.172 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:11:40.174 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:11:40.180 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:11:40.196 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:11:40.196 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:11:40.199 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:11:40.200 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Shutdown initiated...
2025-07-11 12:11:40.201 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Shutdown completed.
2025-07-11 12:11:40.201 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 12:11:40.280 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 12:11:45.459 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 21512 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:11:45.460 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:11:45.679 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:11:45.679 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:11:45.716 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 6 JPA repository interfaces.
2025-07-11 12:11:45.791 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:11:45.791 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:11:45.803 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:11:45.803 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:11:45.804 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:11:45.804 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:11:45.804 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:11:45.804 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:11:45.805 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-07-11 12:11:45.957 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:11:45.957 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:11:45.958 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:11:45.959 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:11:45.959 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:11:45.959 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:11:45.990 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:11:45.990 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 529 ms
2025-07-11 12:11:46.087 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Starting...
2025-07-11 12:11:46.097 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-21 - Added connection com.mysql.cj.jdbc.ConnectionImpl@75bf7887
2025-07-11 12:11:46.097 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Start completed.
2025-07-11 12:11:46.103 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:11:46.125 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.011s)
2025-07-11 12:11:46.140 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:11:46.142 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:11:46.177 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:11:46.179 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:11:46.183 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:11:46.243 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:11:46.254 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:11:46.452 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:11:46.735 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:11:46.736 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:11:46.788 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:11:46.840 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:11:46.865 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:11:46.866 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:11:46.893 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 12:11:46.893 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:11:46.902 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:11:46.911 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:11:46.921 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:11:46.931 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 12:11:47.004 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 12:11:47.012 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 12:11:47.070 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 12:11:47.121 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 12:11:47.186 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 12:11:47.226 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 23784 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:11:47.228 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:11:47.235 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 12:11:47.270 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 12:11:47.270 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 12:11:47.481 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 12:11:47.499 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 12:11:47.504 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 12:11:47.504 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 12:11:47.505 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@63e627d7]]
2025-07-11 12:11:47.505 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 12:11:47.517 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.077 seconds (process running for 928.194)
2025-07-11 12:11:47.518 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 12:11:47.532 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 12:11:47.546 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 12:11:47.560 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 12:11:47.573 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 12:11:47.588 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 12:11:47.602 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 12:11:47.622 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 12:11:47.624 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   CacheMetricsAutoConfiguration matched:
      - @ConditionalOnBean (types: org.springframework.cache.CacheManager; SearchStrategy: all) found bean 'cacheManager' (OnBeanCondition)

   CacheMetricsRegistrarConfiguration matched:
      - @ConditionalOnBean (types: org.springframework.boot.actuate.metrics.cache.CacheMeterBinderProvider,io.micrometer.core.instrument.MeterRegistry; SearchStrategy: all) found beans 'simpleMeterRegistry', 'redisCacheMeterBinderProvider' (OnBeanCondition)

   DataConsistencyMonitorTask matched:
      - @ConditionalOnProperty (app.data-consistency.monitor.enabled=true) matched (OnPropertyCondition)

   FileCleanupTask matched:
      - @ConditionalOnProperty (app.file.cleanup.enabled=true) matched (OnPropertyCondition)

   RealTimeDataConsistencyListener matched:
      - @ConditionalOnProperty (app.data-consistency.real-time.enabled=true) matched (OnPropertyCondition)

   TemporaryFileCleanupTask matched:
      - @ConditionalOnProperty (app.file.temporary-cleanup.enabled=true) matched (OnPropertyCondition)

   WebSocketMessagingAutoConfiguration.WebSocketMessageConverterConfiguration matched:
      - @ConditionalOnClass found required classes 'com.fasterxml.jackson.databind.ObjectMapper', 'org.springframework.messaging.simp.config.AbstractMessageBrokerConfiguration' (OnClassCondition)
      - @ConditionalOnBean (types: org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration,com.fasterxml.jackson.databind.ObjectMapper; SearchStrategy: all) found beans 'jacksonObjectMapper', 'org.springframework.web.socket.config.annotation.DelegatingWebSocketMessageBrokerConfiguration' (OnBeanCondition)


Negative matches:
-----------------

   JpaRepositoriesAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean,org.springframework.data.jpa.repository.config.JpaRepositoryConfigExtension; SearchStrategy: all) found beans of type 'org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean' &userDeviceRepository, &userSettingsRepository, &loginDeviceRepository, &userRepository, &fileUploadRepository, &verificationCodeRepository and found beans of type 'org.springframework.data.jpa.repository.config.JpaRepositoryConfigExtension' org.springframework.data.jpa.repository.config.JpaRepositoryConfigExtension#0 (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.data.jpa.repository.JpaRepository' (OnClassCondition)
         - @ConditionalOnProperty (spring.data.jpa.repositories.enabled=true) matched (OnPropertyCondition)

   ManagementWebSecurityAutoConfiguration:
      Did not match:
         - AllNestedConditions 1 matched 1 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) found beans of type 'org.springframework.security.web.SecurityFilterChain' filterChain; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)
      Matched:
         - found 'session' scope (OnWebApplicationCondition)

   RedisAutoConfiguration#redisTemplate:
      Did not match:
         - @ConditionalOnMissingBean (names: redisTemplate; SearchStrategy: all) found beans named redisTemplate (OnBeanCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) found beans named springSecurityFilterChain (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)

   TaskExecutorConfigurations.TaskExecutorConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: java.util.concurrent.Executor; SearchStrategy: all) found beans of type 'java.util.concurrent.Executor' dataConsistencyExecutor, taskExecutor, clientInboundChannelExecutor, clientOutboundChannelExecutor, brokerChannelExecutor (OnBeanCondition)

   TaskSchedulingConfigurations.TaskSchedulerConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.scheduling.TaskScheduler,java.util.concurrent.ScheduledExecutorService; SearchStrategy: all) found beans of type 'org.springframework.scheduling.TaskScheduler' messageBrokerTaskScheduler (OnBeanCondition)

   TransactionAutoConfiguration.EnableTransactionManagementConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration; SearchStrategy: all) found beans of type 'org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration' org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration (OnBeanCondition)

   TransactionAutoConfiguration.EnableTransactionManagementConfiguration.CglibAutoProxyConfiguration:
      Did not match:
         - Ancestor org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration did not match (ConditionEvaluationReport.AncestorsMatchedCondition)
      Matched:
         - @ConditionalOnProperty (spring.aop.proxy-target-class=true) matched (OnPropertyCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-07-11 12:11:47.957 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:11:47.957 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:11:48.106 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 141 ms. Found 6 JPA repository interfaces.
2025-07-11 12:11:48.390 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:11:48.391 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:11:48.416 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:11:48.416 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:11:48.417 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:11:48.417 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:11:48.418 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:11:48.418 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:11:48.418 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-07-11 12:11:49.197 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:11:49.200 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:11:49.203 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:11:49.211 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:11:49.214 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:11:49.214 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:11:49.266 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:11:49.267 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1997 ms
2025-07-11 12:11:49.549 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 12:11:49.679 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@54de1183
2025-07-11 12:11:49.680 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 12:11:49.720 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:11:49.779 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.035s)
2025-07-11 12:11:49.813 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:11:49.816 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:11:49.894 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:11:49.933 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 12:11:49.959 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:11:50.187 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:11:50.973 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:11:51.008 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:11:51.683 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:11:51.852 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:11:51.853 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:11:52.049 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:11:52.092 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 12:11:52.472 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:11:52.500 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:11:52.500 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:11:52.536 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 12:11:52.537 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:11:52.570 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:11:52.579 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:11:52.589 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:11:52.601 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 12:11:52.701 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 12:11:52.707 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 12:11:52.842 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 12:11:52.974 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 12:11:53.173 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 12:11:53.663 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 12:11:53.681 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:11:53.684 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 12:11:53.689 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 12:11:53.744 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 12:12:33.394 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 12:12:33.429 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 25480 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:12:33.430 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:12:33.464 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 12:12:33.464 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 12:12:34.051 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:12:34.052 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:12:34.176 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 118 ms. Found 6 JPA repository interfaces.
2025-07-11 12:12:34.449 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:12:34.450 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:12:34.475 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:12:34.476 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:12:34.476 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:12:34.477 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:12:34.477 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:12:34.477 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:12:34.478 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-07-11 12:12:35.252 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:12:35.255 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:12:35.258 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:12:35.268 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:12:35.269 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:12:35.270 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:12:35.323 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:12:35.325 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1860 ms
2025-07-11 12:12:35.613 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 12:12:35.746 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5c7cad80
2025-07-11 12:12:35.748 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 12:12:35.789 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:12:35.847 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.035s)
2025-07-11 12:12:35.869 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:12:35.873 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:12:35.947 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:12:35.988 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 12:12:36.014 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:12:36.217 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:12:36.942 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:12:36.987 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:12:37.658 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:12:37.799 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:12:37.799 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:12:37.971 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:12:38.012 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 12:12:38.390 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:12:38.419 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:12:38.419 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:12:38.453 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 12:12:38.453 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:12:38.483 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:12:38.492 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:12:38.501 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:12:38.510 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 12:12:38.606 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 12:12:38.614 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 12:12:38.745 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 12:12:38.874 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 12:12:39.071 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 12:12:39.504 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 12:12:39.548 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 12:12:39.564 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 12:12:39.566 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 12:12:39.567 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6f1c3dd6]]
2025-07-11 12:12:39.567 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 12:12:39.582 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 6.546 seconds (process running for 6.908)
2025-07-11 12:12:39.614 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 12:12:39.628 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 12:12:39.640 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 12:12:39.654 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 12:12:39.674 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 12:12:39.693 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 12:12:39.705 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 12:12:39.732 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 12:13:00.845 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 12:13:00.845 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 12:13:00.847 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 12:13:01.145 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 12:13:01.147 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 12:13:01.276 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:13:01.746 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 12:13:01.750 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 12:13:01.751 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 12:13:01.792 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 12:13:01.798 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 12:13:01.798 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=25, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 12:13:01.798 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 12:13:01.799 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 12:13:01.799 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 12:13:01.799 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 12:13:01.799 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 12:13:01.799 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 12:13:01.801 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 12:13:01.802 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1080474, typeStats={image=5, document=2}
2025-07-11 12:13:01.815 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 10
2025-07-11 12:13:01.816 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 12:13:01.816 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 12:13:01.816 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:13:01.816 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 12:13:01.816 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 12:13:01.817 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 12:13:01.817 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 12:13:01.817 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:13:01.817 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:13:01.818 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=25, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:13:01.818 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 12:13:01.828 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 12:13:01.828 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 12:13:01.828 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 12:13:39.533 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 7, completed tasks = 0]
2025-07-11 12:13:57.183 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 12:13:57.186 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 12:13:57.223 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:13:57.720 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 12:13:57.720 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 12:13:57.721 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 12:13:57.731 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 12:13:57.732 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=25, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 12:13:57.732 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 12:13:57.733 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 12:13:57.733 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 12:13:57.736 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 12:13:57.736 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 12:13:57.736 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 12:13:57.737 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 12:13:57.737 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 12:13:57.737 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1080474, typeStats={image=5, document=2}
2025-07-11 12:13:57.749 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 10
2025-07-11 12:13:57.750 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 12:13:57.750 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 12:13:57.750 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:13:57.751 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 12:13:57.751 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 12:13:57.751 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 12:13:57.751 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 12:13:57.752 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:13:57.752 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:13:57.753 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=25, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:13:57.753 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 12:13:57.759 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 12:13:57.759 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 12:13:57.759 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 12:16:03.829 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 12:16:03.832 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 12:16:03.877 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:16:04.375 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 12:16:04.377 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 12:16:04.378 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 12:16:04.389 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 12:16:04.389 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=25, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 12:16:04.389 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 12:16:04.389 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 12:16:04.390 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 12:16:04.390 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 12:16:04.390 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 12:16:04.390 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 12:16:04.390 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 12:16:04.391 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 12:16:04.391 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1080474, typeStats={image=5, document=2}
2025-07-11 12:16:04.401 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 10
2025-07-11 12:16:04.401 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 12:16:04.401 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 12:16:04.401 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:16:04.402 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 12:16:04.402 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 12:16:04.402 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 12:16:04.402 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 12:16:04.402 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:16:04.402 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:16:04.402 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=25, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:16:04.402 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 12:16:04.407 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 12:16:04.408 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 12:16:04.408 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 12:16:06.126 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:16:06.231 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:16:34.515 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:16:34.545 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:20:35.227 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 12:20:35.228 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 12:20:35.255 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:20:35.757 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 12:20:35.757 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 12:20:35.758 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 12:20:35.766 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 12:20:35.766 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=25, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 12:20:35.766 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 12:20:35.766 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 12:20:35.766 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 12:20:35.766 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 12:20:35.767 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 12:20:35.767 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 12:20:35.768 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 12:20:35.768 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1080474, typeStats={image=5, document=2}
2025-07-11 12:20:35.770 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 12:20:35.790 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 10
2025-07-11 12:20:35.790 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 12:20:35.790 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 12:20:35.790 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:20:35.790 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 12:20:35.791 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 12:20:35.791 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 12:20:35.791 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 12:20:35.791 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:20:35.791 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:20:35.791 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=25, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:20:35.792 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 12:20:35.798 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 12:20:35.799 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 12:20:35.799 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 12:20:37.200 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:20:37.218 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:24:10.882 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:24:10.903 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:32:06.731 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:32:06.769 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:32:08.795 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:32:08.830 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:33:08.978 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:33:09.005 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:33:19.847 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:33:19.893 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:33:22.751 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:33:24.853 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:33:27.630 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:33:28.838 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:33:28.865 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:34:01.261 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:34:01.285 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:38:06.854 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 12:38:06.855 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 12:38:06.880 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:38:07.383 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 12:38:07.385 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 12:38:07.385 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 12:38:07.396 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 12:38:07.400 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 12:38:07.401 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=25, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 12:38:07.401 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 12:38:07.401 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 12:38:07.402 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 12:38:07.402 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 12:38:07.402 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 12:38:07.402 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 12:38:07.403 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 12:38:07.403 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1080474, typeStats={image=5, document=2}
2025-07-11 12:38:07.406 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 10
2025-07-11 12:38:07.406 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 12:38:07.406 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 12:38:07.406 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:38:07.406 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 12:38:07.406 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 12:38:07.406 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 12:38:07.407 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 12:38:07.407 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:38:07.407 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:38:07.407 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=25, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:38:07.407 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 12:38:07.413 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 12:38:07.414 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 12:38:07.414 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 12:38:08.495 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:38:08.511 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:38:18.413 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:38:18.451 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:39:44.810 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 4 class path changes (0 additions, 0 deletions, 4 modifications)
2025-07-11 12:39:44.838 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 12:39:44.838 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6f1c3dd6]]
2025-07-11 12:39:44.838 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 12:39:44.842 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 12:39:45.193 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:39:45.201 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 12:39:45.211 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 12:39:45.389 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 25480 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:39:45.389 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:39:45.626 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:39:45.626 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:39:45.659 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 6 JPA repository interfaces.
2025-07-11 12:39:45.749 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:39:45.749 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:39:45.761 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:45.761 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:45.761 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:45.762 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:45.762 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:45.762 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:45.762 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-07-11 12:39:45.928 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:39:45.929 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:39:45.929 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:39:45.930 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:39:45.930 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:39:45.930 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:39:45.957 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:39:45.957 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 567 ms
2025-07-11 12:39:46.046 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-11 12:39:46.075 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@dfd1c80
2025-07-11 12:39:46.076 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-11 12:39:46.097 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:39:46.150 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.020s)
2025-07-11 12:39:46.163 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:39:46.164 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:39:46.198 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:39:46.200 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:39:46.212 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:39:46.303 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:39:46.322 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:39:46.517 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:39:46.519 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:39:46.519 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:39:46.582 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:39:46.643 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:39:46.666 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:39:46.666 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:39:46.687 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 12:39:46.688 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:39:46.701 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:39:46.709 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:39:46.716 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:39:46.728 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 12:39:46.805 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 12:39:46.813 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 12:39:46.875 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 12:39:46.926 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 12:39:47.050 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 12:39:47.286 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 12:39:47.316 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 12:39:47.320 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 12:39:47.321 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 12:39:47.321 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2dbab69a]]
2025-07-11 12:39:47.321 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 12:39:47.334 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.975 seconds (process running for 1634.628)
2025-07-11 12:39:47.335 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 12:39:47.358 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 12:39:47.375 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 12:39:47.389 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 12:39:47.411 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 12:39:47.425 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 12:39:47.441 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 12:39:47.469 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 12:39:47.470 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 12:39:52.834 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 12:39:52.836 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 12:39:52.836 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2dbab69a]]
2025-07-11 12:39:52.837 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 12:39:52.837 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 12:39:53.143 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:39:53.143 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-07-11 12:39:53.144 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-07-11 12:39:53.276 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 25480 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:39:53.276 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:39:53.456 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:39:53.456 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:39:53.487 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 6 JPA repository interfaces.
2025-07-11 12:39:53.559 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:39:53.559 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:39:53.569 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:53.570 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:53.570 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:53.571 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:53.571 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:53.571 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:53.571 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-07-11 12:39:53.708 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:39:53.709 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:39:53.709 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:39:53.709 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:39:53.709 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:39:53.710 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:39:53.735 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:39:53.736 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 459 ms
2025-07-11 12:39:53.828 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-11 12:39:53.837 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@27835f15
2025-07-11 12:39:53.838 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-11 12:39:53.845 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:39:53.869 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.012s)
2025-07-11 12:39:53.882 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:39:53.884 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:39:53.914 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:39:53.915 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:39:53.919 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:39:53.999 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:39:54.012 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:39:54.204 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:39:54.205 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:39:54.205 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:39:54.261 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:39:54.319 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:39:54.342 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:39:54.342 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:39:54.365 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 12:39:54.366 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:39:54.375 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:39:54.382 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:39:54.389 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:39:54.396 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 12:39:54.471 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 12:39:54.478 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 12:39:54.533 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 12:39:54.578 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 12:39:54.692 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 12:39:54.912 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 12:39:54.925 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 12:39:54.928 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 12:39:54.929 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 12:39:54.929 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@130459ed]]
2025-07-11 12:39:54.929 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 12:39:54.944 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.701 seconds (process running for 1642.236)
2025-07-11 12:39:54.945 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 12:39:54.957 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 12:39:54.967 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 12:39:54.979 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 12:39:54.991 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 12:39:55.007 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 12:39:55.020 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 12:39:55.041 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 12:39:55.042 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 12:39:57.358 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 12:39:57.360 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 12:39:57.360 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@130459ed]]
2025-07-11 12:39:57.360 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 12:39:57.361 [Thread-11] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 12:39:57.621 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:39:57.621 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-07-11 12:39:57.623 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-07-11 12:39:57.726 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 25480 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:39:57.727 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:39:57.907 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:39:57.908 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:39:57.937 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 12:39:58.005 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:39:58.006 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:39:58.016 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:58.016 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:58.017 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:58.017 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:58.017 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:58.017 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:39:58.018 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-07-11 12:39:58.143 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:39:58.143 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:39:58.144 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:39:58.144 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:39:58.145 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:39:58.145 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:39:58.168 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:39:58.169 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 441 ms
2025-07-11 12:39:58.252 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-07-11 12:39:58.261 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4cf0b9c2
2025-07-11 12:39:58.262 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-07-11 12:39:58.280 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:39:58.307 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.013s)
2025-07-11 12:39:58.323 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:39:58.324 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:39:58.354 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:39:58.356 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:39:58.361 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:39:58.426 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:39:58.438 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:39:58.626 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:39:58.627 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:39:58.627 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:39:58.682 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:39:58.756 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:39:58.778 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:39:58.778 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:39:58.799 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 12:39:58.800 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:39:58.807 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:39:58.813 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:39:58.819 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:39:58.830 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 12:39:58.901 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 12:39:58.912 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 12:39:58.965 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 12:39:59.010 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 12:39:59.117 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 12:39:59.345 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 12:39:59.355 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 12:39:59.360 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 12:39:59.361 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 12:39:59.361 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7d6347d9]]
2025-07-11 12:39:59.361 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 12:39:59.369 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.666 seconds (process running for 1646.662)
2025-07-11 12:39:59.370 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 12:39:59.435 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 12:39:59.447 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 12:39:59.460 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 12:39:59.473 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 12:39:59.488 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 12:39:59.501 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 12:39:59.526 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 12:39:59.527 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 12:40:04.840 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 12:40:04.842 [Thread-15] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 12:40:04.842 [Thread-15] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7d6347d9]]
2025-07-11 12:40:04.842 [Thread-15] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 12:40:04.842 [Thread-15] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 12:40:05.206 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:40:05.206 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-07-11 12:40:05.209 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-07-11 12:40:05.312 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 25480 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:40:05.312 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:40:05.480 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:40:05.480 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:40:05.509 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 6 JPA repository interfaces.
2025-07-11 12:40:05.572 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:40:05.572 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:40:05.580 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:40:05.580 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:40:05.581 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:40:05.581 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:40:05.581 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:40:05.581 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:40:05.581 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 12:40:05.705 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:40:05.705 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:40:05.706 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:40:05.706 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:40:05.706 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:40:05.706 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:40:05.731 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:40:05.731 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 418 ms
2025-07-11 12:40:05.813 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-07-11 12:40:05.823 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@45d75cf9
2025-07-11 12:40:05.824 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-07-11 12:40:05.832 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:40:05.853 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.011s)
2025-07-11 12:40:05.864 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:40:05.865 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:40:05.895 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:40:05.897 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:40:05.901 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:40:05.968 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:40:05.980 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:40:06.164 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:40:06.165 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:40:06.165 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:40:06.222 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:40:06.270 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:40:06.292 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:40:06.292 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:40:06.313 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 12:40:06.313 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:40:06.323 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:40:06.332 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:40:06.339 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:40:06.347 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 12:40:06.416 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 12:40:06.424 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 12:40:06.477 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 12:40:06.527 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 12:40:06.661 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 12:40:06.861 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 12:40:06.872 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 12:40:06.875 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 12:40:06.876 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 12:40:06.876 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5575097d]]
2025-07-11 12:40:06.876 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 12:40:06.885 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.593 seconds (process running for 1654.177)
2025-07-11 12:40:06.886 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 12:40:06.900 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 12:40:06.913 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 12:40:06.929 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 12:40:06.942 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 12:40:06.957 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 12:40:06.971 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 12:40:06.992 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 12:40:06.994 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 12:40:16.429 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 12:40:16.431 [Thread-19] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 12:40:16.431 [Thread-19] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5575097d]]
2025-07-11 12:40:16.431 [Thread-19] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 12:40:16.431 [Thread-19] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 12:40:16.728 [Thread-19] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:40:16.729 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-07-11 12:40:16.731 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-07-11 12:40:16.870 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 25480 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 12:40:16.871 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 12:40:17.053 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:40:17.053 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 12:40:17.084 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 12:40:17.148 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 12:40:17.148 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 12:40:17.158 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:40:17.158 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:40:17.158 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:40:17.158 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:40:17.159 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:40:17.159 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 12:40:17.159 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-07-11 12:40:17.279 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 12:40:17.280 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 12:40:17.280 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 12:40:17.280 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 12:40:17.281 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 12:40:17.281 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 12:40:17.317 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 12:40:17.318 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 446 ms
2025-07-11 12:40:17.405 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-07-11 12:40:17.416 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3cc2758b
2025-07-11 12:40:17.417 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-07-11 12:40:17.424 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 12:40:17.447 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.011s)
2025-07-11 12:40:17.461 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 12:40:17.462 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 12:40:17.491 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 12:40:17.494 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 12:40:17.498 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 12:40:17.554 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 12:40:17.567 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 12:40:17.746 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 12:40:17.747 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 12:40:17.748 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 12:40:17.803 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 12:40:17.852 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 12:40:17.874 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 12:40:17.874 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 12:40:17.894 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 12:40:17.894 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:40:17.901 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:40:17.907 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:40:17.914 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 12:40:17.920 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 12:40:17.986 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 12:40:17.993 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 12:40:18.046 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 12:40:18.092 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 12:40:18.187 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 12:40:18.409 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 12:40:18.420 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 12:40:18.422 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 12:40:18.423 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 12:40:18.423 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@595e30b4]]
2025-07-11 12:40:18.424 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 12:40:18.432 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.584 seconds (process running for 1665.725)
2025-07-11 12:40:18.433 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 12:40:18.449 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 12:40:18.461 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 12:40:18.472 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 12:40:18.485 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 12:40:18.497 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 12:40:18.508 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 12:40:18.526 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 12:40:18.527 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 12:40:35.727 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 12:40:35.728 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 12:40:35.728 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-07-11 12:40:59.102 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 12:40:59.104 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 12:40:59.130 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:40:59.635 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 12:40:59.635 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 12:40:59.636 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 12:40:59.646 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 12:40:59.655 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 10
2025-07-11 12:40:59.656 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 12:40:59.656 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 12:40:59.656 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:40:59.656 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 12:40:59.656 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 12:40:59.656 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 12:40:59.657 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 12:40:59.657 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:40:59.658 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:40:59.658 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=25, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 12:40:59.658 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 12:40:59.661 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 12:40:59.661 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=25, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 12:40:59.662 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 12:40:59.662 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 12:40:59.662 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 12:40:59.662 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 12:40:59.662 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 12:40:59.662 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 12:40:59.664 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 12:40:59.665 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1080474, typeStats={image=5, document=2}
2025-07-11 12:40:59.665 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 12:40:59.665 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 12:40:59.665 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 12:41:00.857 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:41:00.878 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:41:03.198 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:41:03.220 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:41:18.420 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 7, completed tasks = 0]
2025-07-11 12:42:19.415 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:42:24.367 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 12:42:24.381 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 12:42:24.425 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:42:24.465 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置个人ID，用户ID: 1, 个人ID: test_005
2025-07-11 12:42:24.490 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 个人ID设置成功，用户ID: 1, 个人ID: test_005
2025-07-11 12:42:24.547 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:42:26.138 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:42:26.167 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:42:27.968 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:42:33.287 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 12:42:33.291 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 12:42:33.326 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:42:33.356 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:42:34.720 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:42:34.741 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:42:37.128 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 生成用户二维码: userId=1
2025-07-11 12:42:37.145 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserQRCodeServiceImpl - 用户二维码生成成功: userId=1
2025-07-11 12:42:40.351 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:42:43.245 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=1, fileName=202302091675904140211711.jpg
2025-07-11 12:42:43.247 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=1, fileName=202302091675904140211711.jpg
2025-07-11 12:42:43.282 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 公开文件物理删除成功: fileId=25, userId=1
2025-07-11 12:42:43.282 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 删除用户旧头像: userId=1, fileId=25
2025-07-11 12:42:43.443 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/1/17de1156-8e83-4c26-a32c-389de5f7a9a3.jpg
2025-07-11 12:42:43.478 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=1, fileId=26, fileName=202302091675904140211711.jpg
2025-07-11 12:42:43.478 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=1, avatarUrl=http://localhost:9000/im-public-images/public/image/1/17de1156-8e83-4c26-a32c-389de5f7a9a3.jpg
2025-07-11 12:42:43.516 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 12:42:47.379 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=1, fileName=202302091675904138327528.jpg
2025-07-11 12:42:47.381 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=1, fileName=202302091675904138327528.jpg
2025-07-11 12:42:47.390 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 公开文件物理删除成功: fileId=26, userId=1
2025-07-11 12:42:47.390 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 删除用户旧头像: userId=1, fileId=26
2025-07-11 12:42:47.423 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/1/d41f9c4f-5412-47bd-8a56-9945991cc5c4.jpg
2025-07-11 12:42:47.427 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=1, fileId=27, fileName=202302091675904138327528.jpg
2025-07-11 12:42:47.428 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=1, avatarUrl=http://localhost:9000/im-public-images/public/image/1/d41f9c4f-5412-47bd-8a56-9945991cc5c4.jpg
2025-07-11 12:42:47.462 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:00:00.021 [MessageBroker-3] INFO  c.i.i.u.s.DataConsistencyService - 开始执行数据一致性检查
2025-07-11 13:00:00.024 [MessageBroker-2] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 开始执行过期临时文件清理任务
2025-07-11 13:00:00.033 [MessageBroker-2] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 没有发现过期的临时文件
2025-07-11 13:00:00.087 [MessageBroker-3] INFO  c.i.i.u.s.DataConsistencyService - 数据一致性检查完成，发现 1 个不一致项
2025-07-11 13:00:00.088 [MessageBroker-3] INFO  c.i.i.u.t.DataConsistencyMonitorTask - 快速检查发现数据不一致: 1 个问题
2025-07-11 13:11:18.444 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 7, completed tasks = 3]
2025-07-11 13:25:27.440 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 13:25:27.440 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@595e30b4]]
2025-07-11 13:25:27.441 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 13:25:27.716 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 13:25:27.717 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-07-11 13:25:27.720 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-07-11 13:25:45.078 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 13:25:45.120 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 28240 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 13:25:45.121 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 13:25:45.166 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 13:25:45.166 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 13:25:45.866 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 13:25:45.867 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 13:25:45.997 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 125 ms. Found 6 JPA repository interfaces.
2025-07-11 13:25:46.299 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 13:25:46.300 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 13:25:46.326 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:25:46.326 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:25:46.326 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:25:46.327 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:25:46.327 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:25:46.327 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:25:46.327 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-07-11 13:25:47.198 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 13:25:47.202 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 13:25:47.215 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 13:25:47.228 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 13:25:47.231 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 13:25:47.232 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 13:25:47.298 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 13:25:47.299 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2131 ms
2025-07-11 13:25:47.590 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 13:25:47.740 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@511e42a2
2025-07-11 13:25:47.742 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 13:25:47.789 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 13:25:47.869 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.047s)
2025-07-11 13:25:47.900 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 13:25:47.904 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 13:25:47.990 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 13:25:48.055 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 13:25:48.091 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 13:25:48.359 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 13:25:49.287 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 13:25:49.372 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 13:25:50.078 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 13:25:50.264 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 13:25:50.264 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 13:25:50.466 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 13:25:50.501 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 13:25:50.895 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 13:25:50.924 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 13:25:50.924 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 13:25:50.961 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 13:25:50.961 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 13:25:50.997 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 13:25:51.010 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 13:25:51.020 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 13:25:51.035 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 13:25:51.135 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 13:25:51.142 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 13:25:51.325 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 13:25:51.459 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 13:25:51.674 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 13:25:52.142 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 13:25:52.191 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 13:25:52.214 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 13:25:52.216 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 13:25:52.216 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6a0ec573]]
2025-07-11 13:25:52.216 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 13:25:52.231 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 7.575 seconds (process running for 7.964)
2025-07-11 13:25:52.278 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 13:25:52.297 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 13:25:52.311 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 13:25:52.326 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 13:25:52.338 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 13:25:52.350 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 13:25:52.364 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 13:25:52.395 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 13:26:35.657 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 13:26:35.657 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 13:26:35.659 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 13:26:52.165 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 7, completed tasks = 0]
2025-07-11 13:27:00.386 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 13:27:00.388 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 13:27:00.479 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:27:00.976 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 13:27:00.978 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:27:00.978 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:27:01.033 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 13:27:01.045 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 13:27:01.046 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 13:27:01.046 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 13:27:01.046 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:27:01.046 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 13:27:01.046 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:27:01.047 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 13:27:01.047 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:27:01.049 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 13:27:01.050 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1081488, typeStats={image=5, document=2}
2025-07-11 13:27:01.051 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 10
2025-07-11 13:27:01.052 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 13:27:01.052 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:27:01.052 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:27:01.052 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:27:01.053 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 13:27:01.053 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 13:27:01.053 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 13:27:01.053 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:27:01.054 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:27:01.054 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:27:01.054 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:27:01.064 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 13:27:01.065 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 13:27:01.065 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 13:27:04.005 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:27:12.955 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 13:27:12.957 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 13:27:13.000 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:27:13.497 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 13:27:13.497 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:27:13.498 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:27:13.508 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 13:27:13.508 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 13:27:13.508 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 13:27:13.509 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:27:13.509 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 13:27:13.509 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:27:13.509 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 13:27:13.509 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:27:13.510 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 13:27:13.511 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1081488, typeStats={image=5, document=2}
2025-07-11 13:27:13.516 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 13:27:13.529 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 10
2025-07-11 13:27:13.529 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 13:27:13.530 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:27:13.530 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:27:13.530 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:27:13.530 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 13:27:13.530 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 13:27:13.530 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 13:27:13.530 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:27:13.530 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:27:13.531 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:27:13.531 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:27:13.536 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 13:27:13.536 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 13:27:13.536 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 13:27:20.777 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:27:25.012 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:27:41.586 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:27:43.534 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 13:27:43.535 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 13:27:43.558 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:27:44.065 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 13:27:44.065 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:27:44.066 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:27:44.070 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 13:27:44.071 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 13:27:44.071 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 13:27:44.071 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:27:44.072 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 13:27:44.072 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:27:44.072 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 13:27:44.072 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:27:44.072 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 13:27:44.073 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1081488, typeStats={image=5, document=2}
2025-07-11 13:27:44.074 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 13:27:44.088 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 10
2025-07-11 13:27:44.088 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 13:27:44.088 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:27:44.088 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:27:44.088 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:27:44.088 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 13:27:44.088 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 13:27:44.088 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 13:27:44.088 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:27:44.088 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:27:44.088 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:27:44.088 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:27:44.093 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 13:27:44.093 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 13:27:44.094 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 13:27:44.952 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:31:21.246 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 13:31:21.246 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6a0ec573]]
2025-07-11 13:31:21.246 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 13:31:21.519 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 13:31:21.522 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 13:31:21.528 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 13:31:35.811 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 13:31:35.847 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 1020 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 13:31:35.848 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 13:31:35.899 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 13:31:35.899 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 13:31:36.539 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 13:31:36.539 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 13:31:36.674 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 128 ms. Found 6 JPA repository interfaces.
2025-07-11 13:31:36.958 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 13:31:36.959 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 13:31:36.983 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:31:36.984 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:31:36.984 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:31:36.984 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:31:36.985 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:31:36.985 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:31:36.985 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-07-11 13:31:37.748 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 13:31:37.751 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 13:31:37.755 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 13:31:37.764 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 13:31:37.767 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 13:31:37.768 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 13:31:37.824 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 13:31:37.826 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1925 ms
2025-07-11 13:31:38.108 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 13:31:38.247 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@511e42a2
2025-07-11 13:31:38.249 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 13:31:38.293 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 13:31:38.361 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.041s)
2025-07-11 13:31:38.383 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 13:31:38.387 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 13:31:38.460 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 13:31:38.497 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 13:31:38.519 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 13:31:38.717 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 13:31:39.487 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 13:31:39.601 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 13:31:40.291 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 13:31:40.440 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 13:31:40.441 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 13:31:40.613 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 13:31:40.654 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 13:31:41.040 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 13:31:41.072 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 13:31:41.073 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 13:31:41.110 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 13:31:41.110 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 13:31:41.145 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 13:31:41.160 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 13:31:41.172 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 13:31:41.184 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 13:31:41.300 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 13:31:41.313 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 13:31:41.452 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 13:31:41.605 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 13:31:41.811 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 13:31:42.276 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 13:31:42.321 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 13:31:42.337 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 13:31:42.339 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 13:31:42.340 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@39ddf487]]
2025-07-11 13:31:42.340 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 13:31:42.355 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 6.902 seconds (process running for 7.257)
2025-07-11 13:31:42.392 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 13:31:42.407 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 13:31:42.418 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 13:31:42.429 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 13:31:42.441 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 13:31:42.453 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 13:31:42.467 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 13:31:42.496 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 13:32:02.937 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 13:32:02.937 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 13:32:02.939 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 13:32:03.175 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 13:32:03.177 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 13:32:03.283 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:32:03.780 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 13:32:03.785 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:32:03.785 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:32:03.826 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 13:32:03.832 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 13:32:03.833 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 13:32:03.833 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 13:32:03.833 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:32:03.833 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 13:32:03.833 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:32:03.834 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 13:32:03.834 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:32:03.836 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 13:32:03.836 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1081488, typeStats={image=5, document=2}
2025-07-11 13:32:03.848 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 10
2025-07-11 13:32:03.849 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 13:32:03.849 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:32:03.849 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:32:03.849 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:32:03.849 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 13:32:03.849 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 13:32:03.849 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 13:32:03.850 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:32:03.850 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:32:03.850 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:32:03.850 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:32:03.861 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 13:32:03.862 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 13:32:03.862 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 13:32:05.031 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:32:13.961 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:32:27.112 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:32:29.725 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 13:32:29.727 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 13:32:29.752 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:32:30.259 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 13:32:30.260 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:32:30.260 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:32:30.266 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 13:32:30.267 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 13:32:30.267 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 13:32:30.267 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:32:30.267 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 13:32:30.267 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:32:30.268 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 13:32:30.268 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:32:30.268 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 13:32:30.268 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1081488, typeStats={image=5, document=2}
2025-07-11 13:32:30.271 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 13:32:30.282 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 10
2025-07-11 13:32:30.283 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 13:32:30.283 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:32:30.283 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:32:30.283 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:32:30.283 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 13:32:30.283 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 13:32:30.283 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 13:32:30.284 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:32:30.284 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:32:30.284 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:32:30.284 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:32:30.289 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 13:32:30.290 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 13:32:30.290 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 13:32:31.699 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:32:42.309 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 7, completed tasks = 0]
2025-07-11 13:33:55.845 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 13:33:55.845 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@39ddf487]]
2025-07-11 13:33:55.845 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 13:33:56.114 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 13:33:56.117 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 13:33:56.122 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 13:34:10.158 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 13:34:10.196 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 15708 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 13:34:10.197 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 13:34:10.234 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 13:34:10.235 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 13:34:10.865 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 13:34:10.866 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 13:34:10.995 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 124 ms. Found 6 JPA repository interfaces.
2025-07-11 13:34:11.277 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 13:34:11.278 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 13:34:11.303 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:34:11.303 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:34:11.304 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:34:11.305 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:34:11.306 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:34:11.307 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 13:34:11.308 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-07-11 13:34:12.101 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 13:34:12.104 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 13:34:12.107 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 13:34:12.115 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 13:34:12.117 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 13:34:12.118 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 13:34:12.168 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 13:34:12.169 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1934 ms
2025-07-11 13:34:12.444 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 13:34:12.572 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2d203d69
2025-07-11 13:34:12.573 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 13:34:12.627 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 13:34:12.693 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.041s)
2025-07-11 13:34:12.712 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 13:34:12.716 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 13:34:12.787 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 13:34:12.822 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 13:34:12.845 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 13:34:13.051 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 13:34:13.782 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 13:34:13.822 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 13:34:14.520 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 13:34:14.671 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 13:34:14.672 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 13:34:14.845 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 13:34:14.879 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 13:34:15.239 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 13:34:15.269 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 13:34:15.269 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 13:34:15.304 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 13:34:15.304 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 13:34:15.335 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 13:34:15.345 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 13:34:15.353 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 13:34:15.363 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 13:34:15.462 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 13:34:15.470 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 13:34:15.598 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 13:34:15.726 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 13:34:15.936 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 13:34:16.382 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 13:34:16.424 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 13:34:16.445 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 13:34:16.448 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 13:34:16.448 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3692f834]]
2025-07-11 13:34:16.448 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 13:34:16.460 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 6.674 seconds (process running for 7.034)
2025-07-11 13:34:16.489 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 13:34:16.503 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 13:34:16.514 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 13:34:16.528 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 13:34:16.539 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 13:34:16.550 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 13:34:16.563 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 13:34:16.593 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 13:34:31.239 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 13:34:31.240 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 13:34:31.243 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-11 13:34:31.416 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 13:34:31.417 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 13:34:31.556 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:34:32.049 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 13:34:32.053 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:34:32.053 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:34:32.096 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 13:34:32.112 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 13:34:32.113 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 13:34:32.113 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 13:34:32.113 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:34:32.114 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 13:34:32.114 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:34:32.114 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 13:34:32.114 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:34:32.117 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 13:34:32.119 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1081488, typeStats={image=5, document=2}
2025-07-11 13:34:32.125 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 10
2025-07-11 13:34:32.125 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 13:34:32.126 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:34:32.126 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:34:32.126 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:34:32.127 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 13:34:32.127 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 13:34:32.127 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 13:34:32.127 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:34:32.127 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:34:32.127 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:34:32.128 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:34:32.145 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 13:34:32.146 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 13:34:32.146 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 13:34:32.731 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:34:49.803 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 13:34:49.824 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 13:34:51.303 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 13:34:51.309 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 13:34:51.334 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:34:51.362 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:34:53.497 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:34:58.404 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 13:34:58.407 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 13:34:59.612 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 13:34:59.616 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 13:34:59.642 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:34:59.669 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:35:01.384 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:35:16.423 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 7, completed tasks = 0]
2025-07-11 13:35:37.875 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:42:47.843 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 13:42:47.844 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 13:42:47.890 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:42:48.388 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 13:42:48.389 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:42:48.389 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:42:48.401 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 13:42:48.401 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 13:42:48.401 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 13:42:48.401 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:42:48.401 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 13:42:48.401 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:42:48.402 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 13:42:48.402 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:42:48.402 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 13:42:48.402 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 13:42:48.402 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1081488, typeStats={image=5, document=2}
2025-07-11 13:42:48.415 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 10
2025-07-11 13:42:48.415 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 13:42:48.415 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:42:48.415 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:42:48.415 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:42:48.416 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 13:42:48.416 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 13:42:48.416 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 13:42:48.416 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:42:48.416 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:42:48.416 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:42:48.417 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:42:48.422 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 13:42:48.422 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 13:42:48.422 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 13:42:57.283 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:43:01.818 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 13:43:01.823 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 13:43:02.769 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 13:43:02.773 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 13:43:02.794 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:43:02.818 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 13:43:02.822 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 13:43:02.855 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:43:08.266 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 13:43:08.268 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:43:08.268 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:43:08.276 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 7
2025-07-11 13:43:08.276 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 13:43:08.277 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 13:43:08.278 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:43:08.278 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 13:43:08.278 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:43:08.278 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 13:43:08.279 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:43:08.280 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=5, document=2}
2025-07-11 13:43:08.281 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=7, totalSize=1081488, typeStats={image=5, document=2}
2025-07-11 13:43:08.285 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 11
2025-07-11 13:43:08.303 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 10
2025-07-11 13:43:08.303 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 13:43:08.303 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:43:08.303 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:43:08.304 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:43:08.304 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 13:43:08.305 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 13:43:08.305 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 13:43:08.305 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:43:08.305 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:43:08.305 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:43:08.305 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:43:08.312 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 7, 当前页数量: 7
2025-07-11 13:43:08.313 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 7
2025-07-11 13:43:08.313 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 7 个文件
2025-07-11 13:43:11.765 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始上传文件到MinIO，用户ID: 1, 文件名: 202302091675904140211711.jpg
2025-07-11 13:43:11.803 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功: im-private-images/image/2025/07/11/a1b57497097241c3930c502cab934475_1752212591766.jpg
2025-07-11 13:43:11.926 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件上传成功，文件ID: 28, MinIO路径: im-private-images/image/2025/07/11/a1b57497097241c3930c502cab934475_1752212591766.jpg
2025-07-11 13:43:11.939 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 文件上传成功，用户ID: 1, 文件ID: 28
2025-07-11 13:43:11.956 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 13:43:11.956 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:43:11.957 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:43:11.962 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 13:43:11.963 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:43:11.963 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 13:43:11.963 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 13:43:11.963 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:43:11.963 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 13:43:11.964 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:43:11.964 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 13:43:11.964 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:43:11.964 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 13:43:11.964 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 13:43:11.966 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 12
2025-07-11 13:43:11.977 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 13:43:11.978 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 13:43:11.978 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:43:11.978 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:43:11.978 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:43:11.978 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 13:43:11.979 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 13:43:11.980 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 13:43:11.980 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:43:11.980 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:43:11.980 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:43:11.981 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:43:11.982 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:43:11.989 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 13:43:11.990 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 13:43:11.990 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 13:43:13.208 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 13:43:13.209 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:43:13.209 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:43:13.217 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 13:43:13.217 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:43:13.217 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 13:43:13.217 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 13:43:13.218 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:43:13.218 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 13:43:13.219 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:43:13.219 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 13:43:13.219 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:43:13.220 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 12
2025-07-11 13:43:13.220 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 13:43:13.220 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 13:43:13.235 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 13:43:13.236 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 13:43:13.236 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:43:13.237 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:43:13.237 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:43:13.237 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 13:43:13.238 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 13:43:13.238 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 13:43:13.238 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:43:13.239 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:43:13.239 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:43:13.240 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:43:13.240 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:43:13.247 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 13:43:13.247 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 13:43:13.247 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 13:44:03.674 [http-nio-8080-exec-5] INFO  c.i.i.a.s.i.VerificationServiceImpl - 开始发送注册验证码到: 1436854310@qq.com
2025-07-11 13:44:03.754 [http-nio-8080-exec-5] INFO  c.i.i.c.s.impl.EmailServiceImpl - 开始发送验证码邮件到: 1436854310@qq.com
2025-07-11 13:44:05.389 [http-nio-8080-exec-5] INFO  c.i.i.c.s.impl.EmailServiceImpl - 验证码邮件发送成功: 1436854310@qq.com, 验证码: 652265
2025-07-11 13:44:05.390 [http-nio-8080-exec-5] INFO  c.i.i.a.s.i.VerificationServiceImpl - 注册验证码邮件发送成功: email=1436854310@qq.com, code=652265, expiresAt=2025-07-11T13:49:03.749554900
2025-07-11 13:44:24.446 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理邮箱注册请求: 1436854310@qq.com
2025-07-11 13:44:24.446 [http-nio-8080-exec-8] INFO  c.i.i.a.s.i.VerificationServiceImpl - 开始验证验证码: email=1436854310@qq.com, codeType=register
2025-07-11 13:44:24.455 [http-nio-8080-exec-8] INFO  c.i.i.a.s.i.VerificationServiceImpl - 验证码验证成功: email=1436854310@qq.com, codeType=register
2025-07-11 13:44:24.565 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户注册成功: userId=3, email=1436854310@qq.com
2025-07-11 13:44:24.565 [http-nio-8080-exec-8] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=3, deviceType=Web, ipAddress=null
2025-07-11 13:44:24.574 [http-nio-8080-exec-8] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 创建新设备记录
2025-07-11 13:44:27.707 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 13:44:27.708 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=3
2025-07-11 13:44:27.751 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 3
2025-07-11 13:44:28.265 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 3
2025-07-11 13:44:28.269 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 3, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:44:28.270 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 3, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:44:28.274 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 0
2025-07-11 13:44:28.275 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {}
2025-07-11 13:44:28.275 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=0, totalSize=0, typeStats={}
2025-07-11 13:44:28.286 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 12
2025-07-11 13:44:28.299 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 3 的所有文件记录数（包括已删除）: 0
2025-07-11 13:44:28.301 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:44:28.306 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 0, 当前页数量: 0
2025-07-11 13:44:28.306 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 0
2025-07-11 13:44:32.215 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 3
2025-07-11 13:44:38.317 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=3, fileName=202302091675904140726704.jpg
2025-07-11 13:44:38.320 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=3, fileName=202302091675904140726704.jpg
2025-07-11 13:44:38.419 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/3/a3621ee2-cfe4-43d1-85e7-6acb56765fe7.jpg
2025-07-11 13:44:38.423 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=3, fileId=29, fileName=202302091675904140726704.jpg
2025-07-11 13:44:38.423 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=3, avatarUrl=http://localhost:9000/im-public-images/public/image/3/a3621ee2-cfe4-43d1-85e7-6acb56765fe7.jpg
2025-07-11 13:44:38.458 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 3
2025-07-11 13:44:42.081 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 3
2025-07-11 13:44:42.084 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 3
2025-07-11 13:44:42.100 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 3
2025-07-11 13:44:42.127 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 3
2025-07-11 13:44:47.541 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 3
2025-07-11 13:44:47.541 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 3, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:44:47.542 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 3, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:44:47.547 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 13:44:47.547 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=29, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 13:44:47.547 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 13:44:47.547 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 13:44:47.551 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 13:44:47.561 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 3 的所有文件记录数（包括已删除）: 1
2025-07-11 13:44:47.562 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=29, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:44:47.562 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:44:47.567 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 13:44:47.567 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 13:44:47.568 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 3 找到 1 个文件
2025-07-11 13:44:52.036 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 13:44:52.037 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=3
2025-07-11 13:44:52.064 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 3
2025-07-11 13:44:52.569 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 3, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:44:52.569 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 3
2025-07-11 13:44:52.570 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 3, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:44:52.577 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 13:44:52.578 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=29, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 13:44:52.578 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 13:44:52.578 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 13:44:52.581 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 13:44:52.601 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 3 的所有文件记录数（包括已删除）: 1
2025-07-11 13:44:52.601 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=29, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:44:52.602 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:44:52.612 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 13:44:52.613 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 13:44:52.614 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 3 找到 1 个文件
2025-07-11 13:44:53.861 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 3
2025-07-11 13:45:04.489 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 3
2025-07-11 13:45:32.128 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 13:45:32.745 [http-nio-8080-exec-8] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 13:45:32.746 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 13:45:32.747 [http-nio-8080-exec-8] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 13:45:32.755 [http-nio-8080-exec-8] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 13:45:32.758 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 13:45:32.759 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 13:45:34.365 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 13:45:34.367 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 13:45:34.399 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:45:34.900 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:45:34.901 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:45:34.900 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 13:45:34.907 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 13:45:34.908 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:45:34.908 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 13:45:34.910 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 13:45:34.911 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:45:34.911 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 13:45:34.912 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:45:34.912 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 13:45:34.912 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 13:45:34.913 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:45:34.913 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 13:45:34.914 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 13:45:34.926 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 13:45:34.927 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 13:45:34.927 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:45:34.927 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:45:34.927 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:45:34.927 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 13:45:34.927 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 13:45:34.928 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 13:45:34.928 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:45:34.928 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:45:34.928 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:45:34.928 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:45:34.929 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:45:34.935 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 13:45:34.935 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 13:45:34.936 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 13:45:36.118 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:45:41.128 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 13:45:41.129 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 13:45:41.154 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:45:41.654 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 13:45:41.656 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:45:41.659 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:45:41.667 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 13:45:41.667 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:45:41.668 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 13:45:41.669 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 13:45:41.669 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:45:41.669 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 13:45:41.669 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:45:41.669 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 13:45:41.669 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:45:41.669 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 13:45:41.671 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 13:45:41.678 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 13:45:41.692 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 13:45:41.692 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 13:45:41.692 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:45:41.692 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:45:41.693 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:45:41.693 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 13:45:41.694 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 13:45:41.694 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 13:45:41.694 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:45:41.694 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:45:41.695 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:45:41.696 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:45:41.696 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:45:41.702 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 13:45:41.702 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 13:45:41.703 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 13:45:42.669 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:46:01.872 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 13:46:01.875 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 13:46:03.398 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 13:46:03.401 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 13:46:03.414 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:46:03.436 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 13:46:03.438 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 13:46:03.459 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:49:39.775 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 13:49:39.777 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 13:49:39.803 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:49:40.302 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 13:49:40.302 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:49:40.302 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:49:40.308 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 13:49:40.309 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:49:40.309 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 13:49:40.309 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 13:49:40.309 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:49:40.310 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 13:49:40.310 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:49:40.310 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 13:49:40.310 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:49:40.310 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 13:49:40.310 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 13:49:40.312 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 13:49:40.325 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 13:49:40.326 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 13:49:40.326 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:49:40.326 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:49:40.326 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:49:40.326 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 13:49:40.326 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 13:49:40.326 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 13:49:40.326 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:49:40.326 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:49:40.327 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:49:40.327 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:49:40.327 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:49:40.332 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 13:49:40.332 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 13:49:40.332 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 13:49:41.096 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:49:46.282 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 13:49:46.285 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 13:49:47.458 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 13:49:47.461 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 13:49:47.477 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:49:47.497 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 13:49:47.501 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 13:49:47.525 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:49:50.105 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 13:49:50.106 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 13:49:50.127 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:49:50.630 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 13:49:50.630 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:49:50.630 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:49:50.636 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 13:49:50.636 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:49:50.636 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 13:49:50.636 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 13:49:50.636 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:49:50.636 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 13:49:50.636 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:49:50.636 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 13:49:50.637 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:49:50.637 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 13:49:50.637 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 13:49:50.638 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 13:49:50.646 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 13:49:50.646 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 13:49:50.646 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:49:50.647 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:49:50.647 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:49:50.647 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 13:49:50.647 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 13:49:50.647 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 13:49:50.647 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:49:50.647 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:49:50.647 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:49:50.647 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:49:50.647 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:49:50.652 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 13:49:50.653 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 13:49:50.653 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 13:49:51.917 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:52:06.783 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 13:52:06.786 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 13:52:06.800 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:52:06.816 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:52:08.741 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 13:52:08.743 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 13:52:08.763 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:52:09.261 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 13:52:09.262 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:52:09.262 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:52:09.292 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 13:52:09.292 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:52:09.292 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 13:52:09.292 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 13:52:09.293 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:52:09.293 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 13:52:09.293 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:52:09.294 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 13:52:09.294 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:52:09.294 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 13:52:09.294 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 13:52:09.298 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 13:52:09.310 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 13:52:09.311 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 13:52:09.311 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:52:09.311 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:52:09.311 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:52:09.311 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 13:52:09.312 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 13:52:09.312 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 13:52:09.312 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:52:09.312 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:52:09.312 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:52:09.312 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:52:09.312 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:52:09.318 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 13:52:09.318 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 13:52:09.318 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 13:52:10.141 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:52:14.438 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 13:52:14.440 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 13:52:14.936 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 13:52:14.940 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 13:52:14.962 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:52:14.987 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 13:52:14.990 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 13:52:15.035 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:52:16.678 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:52:19.653 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 13:52:19.656 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 13:52:19.679 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:52:19.706 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:52:21.380 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:52:23.874 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 13:52:23.877 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 13:52:23.898 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:52:23.924 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:52:39.856 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:52:43.131 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 13:52:43.133 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 13:52:43.149 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:52:43.165 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 13:52:43.167 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 13:52:43.192 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:54:45.680 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:58:01.643 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 13:58:01.644 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 13:58:01.671 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:58:02.171 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 13:58:02.171 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:58:02.172 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 13:58:02.176 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 13:58:02.176 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:58:02.177 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 13:58:02.177 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 13:58:02.177 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 13:58:02.177 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 13:58:02.177 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:58:02.177 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 13:58:02.177 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 13:58:02.177 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 13:58:02.177 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 13:58:02.189 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 13:58:02.198 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 13:58:02.198 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 13:58:02.199 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:58:02.199 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:58:02.199 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 13:58:02.199 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 13:58:02.199 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 13:58:02.199 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 13:58:02.199 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:58:02.199 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:58:02.199 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:58:02.200 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 13:58:02.200 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 13:58:02.204 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 13:58:02.204 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 13:58:02.204 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 13:58:03.535 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:58:08.304 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 13:58:08.307 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 13:58:09.335 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 13:58:09.339 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 13:58:09.363 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:58:09.393 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 13:58:09.398 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 13:58:09.434 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:58:11.442 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:58:39.083 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 13:58:39.092 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 13:58:39.602 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 13:58:39.605 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 13:58:39.620 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 13:58:39.641 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 13:58:39.643 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 13:58:39.665 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:00:00.030 [MessageBroker-2] INFO  c.i.i.u.s.DataConsistencyService - 开始执行数据一致性检查
2025-07-11 14:00:00.035 [MessageBroker-3] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 开始执行过期临时文件清理任务
2025-07-11 14:00:00.052 [MessageBroker-3] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 没有发现过期的临时文件
2025-07-11 14:00:00.137 [MessageBroker-2] INFO  c.i.i.u.s.DataConsistencyService - 数据一致性检查完成，发现 1 个不一致项
2025-07-11 14:00:00.137 [MessageBroker-2] INFO  c.i.i.u.t.DataConsistencyMonitorTask - 快速检查发现数据不一致: 1 个问题
2025-07-11 14:01:01.723 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 14:01:01.725 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 14:01:01.751 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:01:02.249 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 14:01:02.250 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:01:02.251 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:01:02.255 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 14:01:02.255 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:01:02.255 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 14:01:02.256 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 14:01:02.256 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:01:02.256 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 14:01:02.256 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:01:02.256 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 14:01:02.256 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:01:02.257 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 14:01:02.257 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 14:01:02.259 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 14:01:02.268 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 14:01:02.268 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 14:01:02.268 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:01:02.268 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:01:02.268 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:01:02.268 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 14:01:02.269 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 14:01:02.269 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 14:01:02.269 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:01:02.269 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:01:02.270 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:01:02.270 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:01:02.270 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 14:01:02.274 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 14:01:02.274 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 14:01:02.274 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 14:01:03.060 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:01:06.622 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:01:06.626 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:01:07.324 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:01:07.327 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:01:07.372 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:01:07.460 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:01:07.471 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:01:07.533 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:01:09.312 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:01:25.323 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 14:01:25.324 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3692f834]]
2025-07-11 14:01:25.324 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 14:01:25.668 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 14:01:25.676 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 14:01:25.684 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 14:01:40.349 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 14:01:40.390 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 5992 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 14:01:40.391 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 14:01:40.428 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 14:01:40.428 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 14:01:41.090 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 14:01:41.091 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 14:01:41.223 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 124 ms. Found 6 JPA repository interfaces.
2025-07-11 14:01:41.515 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 14:01:41.517 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 14:01:41.543 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:01:41.543 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:01:41.543 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:01:41.544 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:01:41.544 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:01:41.545 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:01:41.545 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-07-11 14:01:42.536 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 14:01:42.539 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 14:01:42.543 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 14:01:42.553 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 14:01:42.555 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 14:01:42.556 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 14:01:42.612 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 14:01:42.613 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2182 ms
2025-07-11 14:01:42.930 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 14:01:43.063 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@511e42a2
2025-07-11 14:01:43.065 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 14:01:43.121 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 14:01:43.185 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.037s)
2025-07-11 14:01:43.208 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 14:01:43.211 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 14:01:43.285 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 14:01:43.323 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 14:01:43.350 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 14:01:43.570 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 14:01:44.349 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 14:01:44.386 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 14:01:45.054 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 14:01:45.227 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 14:01:45.229 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 14:01:45.515 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 14:01:45.597 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 14:01:47.638 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 14:01:47.891 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 14:01:47.894 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 14:01:47.992 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 14:01:47.993 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 14:01:48.042 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 14:01:48.051 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 14:01:48.068 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 14:01:48.097 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 14:01:48.565 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 14:01:48.614 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 14:01:48.954 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 14:01:49.125 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 14:01:49.345 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 14:01:49.830 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 14:01:49.876 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 14:01:49.896 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 14:01:49.899 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 14:01:49.900 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@39ddf487]]
2025-07-11 14:01:49.900 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 14:01:49.915 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 9.931 seconds (process running for 10.302)
2025-07-11 14:01:49.952 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 14:01:49.969 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 14:01:49.982 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 14:01:49.995 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 14:01:50.011 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 14:01:50.024 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 14:01:50.037 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 14:01:50.070 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 14:02:31.964 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 14:02:31.965 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 14:02:31.967 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 14:02:32.100 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:02:49.862 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 7, completed tasks = 0]
2025-07-11 14:02:56.504 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:02:56.515 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:02:56.539 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:02:56.560 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:02:56.564 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:02:56.606 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:02:58.616 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:03:42.112 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:03:42.117 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:03:43.518 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:03:43.522 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:03:43.545 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:03:43.571 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:03:43.576 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:03:43.607 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:03:45.384 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:04:14.880 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:04:14.884 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:04:19.207 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:04:19.214 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:04:20.300 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:04:20.305 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:04:20.332 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:04:20.390 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:04:20.397 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:04:20.443 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:14:16.533 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 14:14:16.535 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 14:14:16.564 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:14:17.075 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 14:14:17.075 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:14:17.076 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:14:17.126 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 14:14:17.135 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 14:14:17.135 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:14:17.136 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 14:14:17.136 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 14:14:17.136 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:14:17.137 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 14:14:17.137 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:14:17.137 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 14:14:17.137 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:14:17.138 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 14:14:17.139 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 14:14:17.147 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 14:14:17.147 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 14:14:17.148 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:14:17.148 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:14:17.148 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:14:17.148 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 14:14:17.148 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 14:14:17.148 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 14:14:17.148 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:14:17.148 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:14:17.149 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:14:17.149 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:14:17.149 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 14:14:17.161 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 14:14:17.161 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 14:14:17.162 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 14:14:17.989 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:14:22.977 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:14:22.981 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:14:23.990 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:14:23.993 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:14:24.024 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:14:24.053 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:14:24.061 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:14:24.094 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:14:25.878 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:14:55.944 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:14:55.949 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:14:56.622 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:14:56.628 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:14:56.658 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:14:56.687 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:14:56.691 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:14:56.726 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:16:50.222 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 14:16:50.791 [http-nio-8080-exec-1] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 14:16:50.791 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 14:16:50.791 [http-nio-8080-exec-1] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 14:16:50.799 [http-nio-8080-exec-1] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 14:16:50.811 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 14:16:50.811 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 14:16:52.368 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 14:16:52.369 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 14:16:52.400 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:16:52.915 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 14:16:52.915 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:16:52.916 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:16:52.928 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 14:16:52.928 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:16:52.928 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 14:16:52.928 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 14:16:52.929 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 14:16:52.929 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:16:52.929 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 14:16:52.929 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:16:52.929 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 14:16:52.929 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:16:52.929 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 14:16:52.929 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 14:16:52.939 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 14:16:52.939 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 14:16:52.940 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:16:52.940 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:16:52.941 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:16:52.941 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 14:16:52.941 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 14:16:52.941 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 14:16:52.941 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:16:52.942 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:16:52.942 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:16:52.942 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:16:52.942 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 14:16:52.949 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 14:16:52.949 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 14:16:52.949 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 14:16:54.851 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:16:59.755 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:16:59.759 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:17:00.476 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:17:00.479 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:17:00.492 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:17:00.509 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:17:00.512 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:17:00.534 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:18:57.095 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:19:00.837 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:19:00.840 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:19:01.814 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:19:01.817 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:19:01.830 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:19:01.846 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:19:01.848 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:19:01.869 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:19:06.889 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:19:10.564 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:19:10.568 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:19:11.739 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:19:11.744 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:19:11.757 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:19:11.771 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:19:11.773 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:19:11.792 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:19:40.175 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 14:19:40.177 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 14:19:40.200 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:19:40.698 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 14:19:40.698 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:19:40.698 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:19:40.708 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 14:19:40.709 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:19:40.709 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 14:19:40.709 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 14:19:40.709 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:19:40.710 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 14:19:40.711 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:19:40.711 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 14:19:40.711 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:19:40.711 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 14:19:40.711 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 14:19:40.721 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 14:19:40.733 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 14:19:40.733 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 14:19:40.733 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:19:40.733 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:19:40.733 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:19:40.734 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 14:19:40.734 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 14:19:40.734 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 14:19:40.734 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:19:40.735 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:19:40.735 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:19:40.735 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:19:40.735 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 14:19:40.739 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 14:19:40.739 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 14:19:40.739 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 14:19:41.872 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:19:46.854 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:19:46.859 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:19:47.450 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:19:47.454 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:19:47.479 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:19:47.506 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:19:47.510 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:19:47.541 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:24:51.285 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:24:53.018 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 14:24:53.018 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 14:24:53.038 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:24:53.542 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 14:24:53.542 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:24:53.542 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:24:53.548 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 14:24:53.548 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:24:53.548 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 14:24:53.549 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 14:24:53.549 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:24:53.549 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 14:24:53.549 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:24:53.549 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 14:24:53.550 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:24:53.550 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 14:24:53.550 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 14:24:53.551 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 14:24:53.562 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 14:24:53.563 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 14:24:53.563 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:24:53.563 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:24:53.563 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:24:53.563 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 14:24:53.563 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 14:24:53.563 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 14:24:53.563 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:24:53.564 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:24:53.564 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:24:53.564 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:24:53.564 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 14:24:53.569 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 14:24:53.569 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 14:24:53.570 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 14:24:54.198 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:24:57.865 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:24:57.868 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:24:58.531 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:24:58.533 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:24:58.542 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:24:58.554 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:24:58.557 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:24:58.578 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:25:09.913 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 14:25:09.913 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 14:25:09.931 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:25:10.435 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:25:10.435 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 14:25:10.436 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:25:10.440 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 14:25:10.440 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:25:10.441 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 14:25:10.441 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 14:25:10.441 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:25:10.441 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 14:25:10.442 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:25:10.442 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 14:25:10.442 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:25:10.442 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 14:25:10.442 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 14:25:10.447 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 14:25:10.457 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 14:25:10.457 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 14:25:10.457 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:25:10.458 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:25:10.458 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:25:10.458 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 14:25:10.458 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 14:25:10.458 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 14:25:10.458 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:25:10.458 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:25:10.458 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:25:10.458 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:25:10.458 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 14:25:10.462 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 14:25:10.462 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 14:25:10.462 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 14:25:35.785 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 14:25:35.786 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 14:25:35.851 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:25:36.348 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 14:25:36.351 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:25:36.352 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:25:36.354 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 14:25:36.355 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:25:36.355 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 14:25:36.356 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 14:25:36.356 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:25:36.356 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 14:25:36.356 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:25:36.356 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 14:25:36.356 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:25:36.357 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 14:25:36.357 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 14:25:36.366 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 14:25:36.378 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 14:25:36.378 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 14:25:36.378 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:25:36.378 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:25:36.378 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:25:36.379 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 14:25:36.379 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 14:25:36.379 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 14:25:36.379 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:25:36.379 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:25:36.379 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:25:36.379 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:25:36.379 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 14:25:36.383 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 14:25:36.383 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 14:25:36.383 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 14:25:37.326 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:25:45.258 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:25:45.260 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:25:58.258 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 14:25:58.259 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 14:25:58.320 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:25:58.826 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 14:25:58.827 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:25:58.827 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:25:58.831 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 14:25:58.831 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:25:58.831 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 14:25:58.832 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 14:25:58.832 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:25:58.832 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 14:25:58.833 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:25:58.833 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 14:25:58.833 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:25:58.834 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 14:25:58.835 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 14:25:58.842 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 14:25:58.850 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 14:25:58.851 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 14:25:58.851 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:25:58.851 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:25:58.851 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:25:58.851 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 14:25:58.851 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 14:25:58.851 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 14:25:58.851 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:25:58.852 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:25:58.852 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:25:58.852 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:25:58.852 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 14:25:58.855 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 14:25:58.855 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 14:25:58.856 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 14:26:00.451 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:26:06.083 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:26:06.087 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:26:06.101 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:26:06.114 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:26:06.117 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:26:06.143 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:26:11.180 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 14:26:11.181 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 14:26:11.242 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:26:11.741 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 14:26:11.741 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:26:11.741 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:26:11.746 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 14:26:11.746 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:26:11.746 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 14:26:11.746 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 14:26:11.747 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:26:11.747 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 14:26:11.747 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:26:11.747 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 14:26:11.747 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:26:11.747 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 14:26:11.748 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 14:26:11.751 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 14:26:11.761 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 14:26:11.761 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 14:26:11.761 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:26:11.761 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:26:11.761 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:26:11.761 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 14:26:11.761 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 14:26:11.761 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 14:26:11.762 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:26:11.762 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:26:11.762 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:26:11.762 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:26:11.762 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 14:26:11.766 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 14:26:11.766 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 14:26:11.766 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 14:26:13.550 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:26:40.939 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:26:40.941 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:26:41.563 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:26:41.565 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:26:41.576 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:26:41.590 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:26:41.592 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:26:41.614 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:29:29.296 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 14:29:29.297 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 14:29:29.349 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:29:29.849 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 14:29:29.849 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:29:29.849 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:29:29.855 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 14:29:29.855 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:29:29.855 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 14:29:29.855 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 14:29:29.855 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:29:29.855 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 14:29:29.855 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:29:29.855 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 14:29:29.856 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:29:29.856 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 14:29:29.856 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 14:29:29.857 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 14:29:29.864 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 14:29:29.864 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 14:29:29.864 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:29:29.864 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:29:29.864 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:29:29.864 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 14:29:29.864 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 14:29:29.864 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 14:29:29.864 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:29:29.865 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:29:29.865 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:29:29.865 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:29:29.865 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 14:29:29.868 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 14:29:29.868 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 14:29:29.868 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 14:29:31.182 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:29:34.772 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:29:34.775 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:29:35.560 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:29:35.563 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:29:35.575 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:29:35.586 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:29:35.588 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:29:35.610 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:29:37.286 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:30:47.826 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 14:30:47.842 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 14:30:47.843 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@39ddf487]]
2025-07-11 14:30:47.843 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 14:30:47.845 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 14:30:48.136 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 14:30:48.143 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 14:30:48.151 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 14:30:48.306 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 5992 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 14:30:48.307 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 14:30:48.522 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 14:30:48.523 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 14:30:48.554 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 6 JPA repository interfaces.
2025-07-11 14:30:48.647 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 14:30:48.647 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 14:30:48.658 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:30:48.658 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:30:48.659 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:30:48.659 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:30:48.659 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:30:48.660 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:30:48.674 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-07-11 14:30:48.820 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 14:30:48.821 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 14:30:48.822 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 14:30:48.823 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 14:30:48.823 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 14:30:48.823 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 14:30:48.847 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 14:30:48.848 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 540 ms
2025-07-11 14:30:48.938 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-11 14:30:48.953 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7cd68d7a
2025-07-11 14:30:48.953 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-11 14:30:48.996 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 14:30:49.043 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.025s)
2025-07-11 14:30:49.058 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 14:30:49.059 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 14:30:49.093 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 14:30:49.095 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 14:30:49.104 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 14:30:49.184 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 14:30:49.205 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 14:30:49.433 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 14:30:49.435 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 14:30:49.435 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 14:30:49.501 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 14:30:49.563 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 14:30:49.583 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 14:30:49.583 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 14:30:49.605 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 14:30:49.605 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 14:30:49.615 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 14:30:49.622 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 14:30:49.630 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 14:30:49.638 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 14:30:49.711 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 14:30:49.718 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 14:30:49.772 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 14:30:49.815 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 14:30:49.918 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 14:30:50.138 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 14:30:50.151 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 14:30:50.158 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 14:30:50.159 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 14:30:50.159 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5a4ebe86]]
2025-07-11 14:30:50.159 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 14:30:50.173 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.896 seconds (process running for 1750.556)
2025-07-11 14:30:50.174 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 14:30:50.203 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 14:30:50.219 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 14:30:50.231 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 14:30:50.245 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 14:30:50.257 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 14:30:50.271 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 14:30:50.298 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 14:30:50.301 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 14:31:44.836 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 14:31:44.873 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 28188 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 14:31:44.874 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 14:31:44.909 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 14:31:44.909 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 14:31:45.654 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 14:31:45.655 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 14:31:45.788 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 125 ms. Found 6 JPA repository interfaces.
2025-07-11 14:31:46.073 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 14:31:46.074 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 14:31:46.106 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:31:46.106 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:31:46.107 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:31:46.108 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:31:46.108 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:31:46.108 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:31:46.109 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-07-11 14:31:46.907 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 14:31:46.910 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 14:31:46.914 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 14:31:46.923 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 14:31:46.925 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 14:31:46.926 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 14:31:46.977 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 14:31:46.979 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2070 ms
2025-07-11 14:31:47.255 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 14:31:47.391 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@54de1183
2025-07-11 14:31:47.392 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 14:31:47.446 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 14:31:47.511 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.040s)
2025-07-11 14:31:47.533 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 14:31:47.536 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 14:31:47.619 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 14:31:47.678 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 14:31:47.711 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 14:31:47.952 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 14:31:48.750 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 14:31:48.789 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 14:31:49.421 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 14:31:49.601 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 14:31:49.601 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 14:31:49.771 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 14:31:49.809 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 14:31:50.192 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 14:31:50.219 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 14:31:50.219 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 14:31:50.254 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 14:31:50.254 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 14:31:50.290 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 14:31:50.298 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 14:31:50.308 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 14:31:50.317 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 14:31:50.410 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 14:31:50.417 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 14:31:50.555 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 14:31:50.678 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 14:31:50.873 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 14:31:51.323 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 14:31:51.366 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 14:31:51.388 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 14:31:51.390 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 14:31:51.390 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@42b97ee0]]
2025-07-11 14:31:51.391 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 14:31:51.405 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 6.939 seconds (process running for 7.313)
2025-07-11 14:31:51.448 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 14:31:51.462 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 14:31:51.475 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 14:31:51.488 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 14:31:51.501 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 14:31:51.516 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 14:31:51.529 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 14:31:51.568 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 14:31:55.928 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 14:31:55.928 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 14:31:55.930 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 14:31:56.058 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 14:31:56.059 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 14:31:56.175 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:31:56.178 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:31:56.178 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "运动中", "emoji": "🏃", "updatedAt": "2025-07-11T14:29:35.588986100"} ===
2025-07-11 14:31:56.181 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=运动中, emoji=🏃, updatedAt=2025-07-11T14:29:35.588986100} ===
2025-07-11 14:31:56.181 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:31:56.181 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 运动中 ===
2025-07-11 14:31:56.181 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🏃 ===
2025-07-11 14:31:56.675 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 14:31:56.677 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:31:56.677 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:31:56.721 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 14:31:56.726 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 14:31:56.726 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:31:56.726 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 14:31:56.727 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 14:31:56.727 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:31:56.728 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 14:31:56.728 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:31:56.728 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 14:31:56.728 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:31:56.729 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 14:31:56.730 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 14:31:56.743 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 14:31:56.743 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 14:31:56.744 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:31:56.744 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:31:56.744 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:31:56.744 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 14:31:56.744 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 14:31:56.745 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 14:31:56.745 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:31:56.745 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:31:56.745 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:31:56.745 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:31:56.746 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 14:31:56.756 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 14:31:56.756 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 14:31:56.757 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 14:31:57.110 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:31:57.113 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:31:57.114 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "运动中", "emoji": "🏃", "updatedAt": "2025-07-11T14:29:35.588986100"} ===
2025-07-11 14:31:57.114 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=运动中, emoji=🏃, updatedAt=2025-07-11T14:29:35.588986100} ===
2025-07-11 14:31:57.114 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:31:57.114 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 运动中 ===
2025-07-11 14:31:57.115 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🏃 ===
2025-07-11 14:32:01.790 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:32:01.798 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:32:02.410 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:32:02.414 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:32:02.433 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:32:02.435 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:32:02.435 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "忙碌中", "emoji": "⚡", "updatedAt": "2025-07-11T14:32:01.794132"} ===
2025-07-11 14:32:02.435 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=忙碌中, emoji=⚡, updatedAt=2025-07-11T14:32:01.794132} ===
2025-07-11 14:32:02.435 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:32:02.436 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 忙碌中 ===
2025-07-11 14:32:02.436 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: ⚡ ===
2025-07-11 14:32:02.449 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:32:02.452 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:32:02.475 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:32:02.477 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:32:02.477 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "忙碌中", "emoji": "⚡", "updatedAt": "2025-07-11T14:32:02.451952200"} ===
2025-07-11 14:32:02.477 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=忙碌中, emoji=⚡, updatedAt=2025-07-11T14:32:02.451952200} ===
2025-07-11 14:32:02.477 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:32:02.477 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 忙碌中 ===
2025-07-11 14:32:02.477 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: ⚡ ===
2025-07-11 14:32:51.365 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 7, completed tasks = 0]
2025-07-11 14:33:07.328 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 14:33:07.330 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 14:33:07.377 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:33:07.380 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:33:07.381 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "忙碌中", "emoji": "⚡", "updatedAt": "2025-07-11T14:32:02.451952200"} ===
2025-07-11 14:33:07.381 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=忙碌中, emoji=⚡, updatedAt=2025-07-11T14:32:02.451952200} ===
2025-07-11 14:33:07.381 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:33:07.381 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 忙碌中 ===
2025-07-11 14:33:07.382 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: ⚡ ===
2025-07-11 14:33:07.882 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:33:07.882 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:33:07.885 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 14:33:07.897 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 14:33:07.903 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 14:33:07.904 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:33:07.904 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 14:33:07.904 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 14:33:07.905 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:33:07.905 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 14:33:07.905 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:33:07.905 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 14:33:07.905 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:33:07.905 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 14:33:07.907 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 14:33:07.915 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 14:33:07.915 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 14:33:07.915 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:33:07.916 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:33:07.916 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:33:07.916 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 14:33:07.916 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 14:33:07.916 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 14:33:07.916 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:33:07.917 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:33:07.917 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:33:07.917 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:33:07.917 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 14:33:07.923 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 14:33:07.923 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 14:33:07.924 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 14:33:09.743 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:33:09.747 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:33:09.747 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "忙碌中", "emoji": "⚡", "updatedAt": "2025-07-11T14:32:02.451952200"} ===
2025-07-11 14:33:09.748 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=忙碌中, emoji=⚡, updatedAt=2025-07-11T14:32:02.451952200} ===
2025-07-11 14:33:09.748 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:33:09.748 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 忙碌中 ===
2025-07-11 14:33:09.749 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: ⚡ ===
2025-07-11 14:33:14.292 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:33:14.295 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:33:15.187 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:33:15.193 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:33:15.207 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:33:15.209 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:33:15.210 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "用餐中", "emoji": "🍽️", "updatedAt": "2025-07-11T14:33:14.294897600"} ===
2025-07-11 14:33:15.210 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=用餐中, emoji=🍽️, updatedAt=2025-07-11T14:33:14.294897600} ===
2025-07-11 14:33:15.210 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:33:15.210 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 用餐中 ===
2025-07-11 14:33:15.210 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🍽️ ===
2025-07-11 14:33:15.223 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:33:15.227 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:33:15.250 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:33:15.253 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:33:15.253 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "用餐中", "emoji": "🍽️", "updatedAt": "2025-07-11T14:33:15.226873600"} ===
2025-07-11 14:33:15.254 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=用餐中, emoji=🍽️, updatedAt=2025-07-11T14:33:15.226873600} ===
2025-07-11 14:33:15.254 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:33:15.254 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 用餐中 ===
2025-07-11 14:33:15.254 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🍽️ ===
2025-07-11 14:33:16.961 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:33:16.964 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:33:16.965 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "用餐中", "emoji": "🍽️", "updatedAt": "2025-07-11T14:33:15.226873600"} ===
2025-07-11 14:33:16.965 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=用餐中, emoji=🍽️, updatedAt=2025-07-11T14:33:15.226873600} ===
2025-07-11 14:33:16.965 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:33:16.966 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 用餐中 ===
2025-07-11 14:33:16.966 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🍽️ ===
2025-07-11 14:33:25.539 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:33:25.540 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:33:25.541 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "用餐中", "emoji": "🍽️", "updatedAt": "2025-07-11T14:33:15.226873600"} ===
2025-07-11 14:33:25.541 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=用餐中, emoji=🍽️, updatedAt=2025-07-11T14:33:15.226873600} ===
2025-07-11 14:33:25.541 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:33:25.541 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 用餐中 ===
2025-07-11 14:33:25.541 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🍽️ ===
2025-07-11 14:33:34.072 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:33:34.075 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:33:34.659 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:33:34.662 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:33:34.674 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:33:34.676 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:33:34.676 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "运动中", "emoji": "🏃", "updatedAt": "2025-07-11T14:33:34.075977200"} ===
2025-07-11 14:33:34.677 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=运动中, emoji=🏃, updatedAt=2025-07-11T14:33:34.075977200} ===
2025-07-11 14:33:34.677 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:33:34.677 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 运动中 ===
2025-07-11 14:33:34.677 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🏃 ===
2025-07-11 14:33:34.689 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:33:34.691 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:33:34.716 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:33:34.717 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:33:34.718 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "运动中", "emoji": "🏃", "updatedAt": "2025-07-11T14:33:34.691954600"} ===
2025-07-11 14:33:34.718 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=运动中, emoji=🏃, updatedAt=2025-07-11T14:33:34.691954600} ===
2025-07-11 14:33:34.719 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:33:34.719 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 运动中 ===
2025-07-11 14:33:34.719 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🏃 ===
2025-07-11 14:33:36.605 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:33:36.607 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:33:36.607 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "运动中", "emoji": "🏃", "updatedAt": "2025-07-11T14:33:34.691954600"} ===
2025-07-11 14:33:36.607 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=运动中, emoji=🏃, updatedAt=2025-07-11T14:33:34.691954600} ===
2025-07-11 14:33:36.608 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:33:36.608 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 运动中 ===
2025-07-11 14:33:36.608 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🏃 ===
2025-07-11 14:56:35.513 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 14:56:35.543 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 7208 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 14:56:35.544 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 14:56:35.577 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 14:56:35.578 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 14:56:36.128 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 14:56:36.128 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 14:56:36.243 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 110 ms. Found 6 JPA repository interfaces.
2025-07-11 14:56:36.506 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 14:56:36.507 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 14:56:36.528 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:56:36.528 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:56:36.529 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:56:36.529 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:56:36.530 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:56:36.530 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 14:56:36.530 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-07-11 14:56:37.193 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 14:56:37.196 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 14:56:37.221 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 14:56:37.229 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 14:56:37.232 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 14:56:37.232 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 14:56:37.278 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 14:56:37.279 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1700 ms
2025-07-11 14:56:37.523 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 14:56:37.639 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a16bfdf
2025-07-11 14:56:37.641 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 14:56:37.747 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 14:56:37.818 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.037s)
2025-07-11 14:56:37.837 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 14:56:37.840 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 14:56:37.902 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 14:56:37.933 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 14:56:37.955 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 14:56:38.123 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 14:56:38.759 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 14:56:38.799 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 14:56:39.332 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 14:56:39.705 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 14:56:39.705 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 14:56:39.855 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 14:56:39.886 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 14:56:40.192 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 14:56:40.217 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 14:56:40.217 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 14:56:40.247 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 14:56:40.247 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 14:56:40.278 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 14:56:40.288 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 14:56:40.296 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 14:56:40.305 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 14:56:40.396 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 14:56:40.401 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 14:56:40.510 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 14:56:40.612 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 14:56:40.784 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 14:56:41.148 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 14:56:41.188 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 14:56:41.201 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 14:56:41.202 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 14:56:41.202 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@499b5a9d]]
2025-07-11 14:56:41.204 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 14:56:41.216 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 6.05 seconds (process running for 6.357)
2025-07-11 14:56:41.244 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 14:56:41.263 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 14:56:41.276 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 14:56:41.289 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 14:56:41.301 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 14:56:41.313 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 14:56:41.324 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 14:56:41.350 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 14:56:43.798 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 14:56:43.798 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 14:56:43.800 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 14:56:50.359 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 14:56:50.361 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 14:56:50.472 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:56:50.475 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:56:50.476 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "运动中", "emoji": "🏃", "updatedAt": "2025-07-11T14:33:34.691954600"} ===
2025-07-11 14:56:50.477 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=运动中, emoji=🏃, updatedAt=2025-07-11T14:33:34.691954600} ===
2025-07-11 14:56:50.478 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:56:50.478 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 运动中 ===
2025-07-11 14:56:50.478 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🏃 ===
2025-07-11 14:56:50.945 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 14:56:50.948 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:56:50.948 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 14:56:50.982 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 14:56:50.988 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 14:56:50.988 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:56:50.989 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 14:56:50.989 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 14:56:50.989 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 14:56:50.989 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 14:56:50.989 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:56:50.989 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 14:56:50.989 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 14:56:50.990 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 14:56:50.991 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 14:56:51.000 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 14:56:51.001 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 14:56:51.001 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:56:51.001 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:56:51.001 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 14:56:51.001 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 14:56:51.001 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 14:56:51.001 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 14:56:51.001 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:56:51.001 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:56:51.002 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:56:51.002 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 14:56:51.002 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 14:56:51.010 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 14:56:51.011 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 14:56:51.011 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 14:56:52.385 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:56:52.389 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:56:52.390 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "运动中", "emoji": "🏃", "updatedAt": "2025-07-11T14:33:34.691954600"} ===
2025-07-11 14:56:52.393 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=运动中, emoji=🏃, updatedAt=2025-07-11T14:33:34.691954600} ===
2025-07-11 14:56:52.394 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:56:52.395 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 运动中 ===
2025-07-11 14:56:52.396 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🏃 ===
2025-07-11 14:56:54.452 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:56:54.469 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:56:54.524 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:56:54.527 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:56:54.527 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "运动中", "emoji": "🏃", "updatedAt": "2025-07-11T14:33:34.691954600"} ===
2025-07-11 14:56:54.528 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=运动中, emoji=🏃, updatedAt=2025-07-11T14:33:34.691954600} ===
2025-07-11 14:56:54.528 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:56:54.528 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 运动中 ===
2025-07-11 14:56:54.529 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🏃 ===
2025-07-11 14:56:54.569 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:56:54.575 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:56:54.666 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:56:54.670 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:56:54.672 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "运动中", "emoji": "🏃", "updatedAt": "2025-07-11T14:56:54.575196300"} ===
2025-07-11 14:56:54.673 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=运动中, emoji=🏃, updatedAt=2025-07-11T14:56:54.575196300} ===
2025-07-11 14:56:54.673 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:56:54.674 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 运动中 ===
2025-07-11 14:56:54.674 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🏃 ===
2025-07-11 14:56:56.314 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:56:56.319 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:56:56.320 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "运动中", "emoji": "🏃", "updatedAt": "2025-07-11T14:56:54.575196300"} ===
2025-07-11 14:56:56.320 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=运动中, emoji=🏃, updatedAt=2025-07-11T14:56:54.575196300} ===
2025-07-11 14:56:56.321 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:56:56.322 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 运动中 ===
2025-07-11 14:56:56.322 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🏃 ===
2025-07-11 14:57:01.324 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:57:01.329 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:57:02.047 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 14:57:02.051 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 14:57:02.078 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:57:02.084 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:57:02.085 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "看电影", "emoji": "🎬", "updatedAt": "2025-07-11T14:57:01.328980600"} ===
2025-07-11 14:57:02.085 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=看电影, emoji=🎬, updatedAt=2025-07-11T14:57:01.328980600} ===
2025-07-11 14:57:02.085 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:57:02.086 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 看电影 ===
2025-07-11 14:57:02.087 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🎬 ===
2025-07-11 14:57:02.114 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 14:57:02.120 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 14:57:02.159 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:57:02.162 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:57:02.163 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "看电影", "emoji": "🎬", "updatedAt": "2025-07-11T14:57:02.119609500"} ===
2025-07-11 14:57:02.163 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=看电影, emoji=🎬, updatedAt=2025-07-11T14:57:02.119609500} ===
2025-07-11 14:57:02.164 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:57:02.164 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 看电影 ===
2025-07-11 14:57:02.165 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🎬 ===
2025-07-11 14:57:03.480 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:57:03.482 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:57:03.483 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "看电影", "emoji": "🎬", "updatedAt": "2025-07-11T14:57:02.119609500"} ===
2025-07-11 14:57:03.483 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=看电影, emoji=🎬, updatedAt=2025-07-11T14:57:02.119609500} ===
2025-07-11 14:57:03.484 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:57:03.484 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 看电影 ===
2025-07-11 14:57:03.484 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🎬 ===
2025-07-11 14:57:06.478 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:57:06.483 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:57:06.483 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "看电影", "emoji": "🎬", "updatedAt": "2025-07-11T14:57:02.119609500"} ===
2025-07-11 14:57:06.483 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=看电影, emoji=🎬, updatedAt=2025-07-11T14:57:02.119609500} ===
2025-07-11 14:57:06.484 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:57:06.484 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 看电影 ===
2025-07-11 14:57:06.484 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🎬 ===
2025-07-11 14:57:41.177 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 7, completed tasks = 0]
2025-07-11 14:57:48.415 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 14:57:48.419 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 14:57:48.420 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "看电影", "emoji": "🎬", "updatedAt": "2025-07-11T14:57:02.119609500"} ===
2025-07-11 14:57:48.420 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=看电影, emoji=🎬, updatedAt=2025-07-11T14:57:02.119609500} ===
2025-07-11 14:57:48.420 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 14:57:48.421 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 看电影 ===
2025-07-11 14:57:48.421 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🎬 ===
2025-07-11 15:00:00.007 [MessageBroker-3] INFO  c.i.i.u.s.DataConsistencyService - 开始执行数据一致性检查
2025-07-11 15:00:00.014 [MessageBroker-2] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 开始执行过期临时文件清理任务
2025-07-11 15:00:00.023 [MessageBroker-2] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 没有发现过期的临时文件
2025-07-11 15:00:00.079 [MessageBroker-3] INFO  c.i.i.u.s.DataConsistencyService - 数据一致性检查完成，发现 1 个不一致项
2025-07-11 15:00:00.079 [MessageBroker-3] INFO  c.i.i.u.t.DataConsistencyMonitorTask - 快速检查发现数据不一致: 1 个问题
2025-07-11 15:03:06.513 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 189 class path changes (0 additions, 189 deletions, 0 modifications)
2025-07-11 15:03:06.518 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 15:03:06.518 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@499b5a9d]]
2025-07-11 15:03:06.518 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 15:03:06.519 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 15:03:06.889 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:03:06.891 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 15:03:06.897 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 15:03:07.012 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 7208 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 15:03:07.012 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 15:03:11.218 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 7208 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 15:03:11.219 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 15:03:11.420 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:03:11.420 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 15:03:11.457 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 6 JPA repository interfaces.
2025-07-11 15:03:11.555 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:03:11.556 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 15:03:11.564 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:03:11.565 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:03:11.565 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:03:11.565 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:03:11.566 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:03:11.566 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:03:11.566 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 15:03:11.709 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 15:03:11.710 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 15:03:11.712 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 15:03:11.712 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 15:03:11.712 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 15:03:11.713 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 15:03:11.737 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 15:03:11.738 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 518 ms
2025-07-11 15:03:11.825 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-11 15:03:11.835 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@466acae1
2025-07-11 15:03:11.836 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-11 15:03:11.871 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 15:03:11.898 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.015s)
2025-07-11 15:03:11.916 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 15:03:11.917 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 15:03:11.950 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 15:03:11.954 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 15:03:11.961 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 15:03:12.030 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 15:03:12.049 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:03:12.242 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 15:03:12.487 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 15:03:12.488 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 15:03:12.524 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 15:03:12.563 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 15:03:12.566 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 3792 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 15:03:12.567 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 15:03:12.609 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 15:03:12.610 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 15:03:12.648 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 15:03:12.683 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 15:03:12.684 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 15:03:12.709 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 15:03:12.709 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:03:12.720 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:03:12.729 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:03:12.736 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:03:12.745 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 15:03:12.817 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 15:03:12.827 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 15:03:12.890 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 15:03:12.933 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 15:03:13.030 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 15:03:13.237 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:03:13.237 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 15:03:13.261 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 15:03:13.273 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 15:03:13.275 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 15:03:13.275 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 15:03:13.275 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1fc7dda1]]
2025-07-11 15:03:13.276 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 15:03:13.283 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.092 seconds (process running for 398.424)
2025-07-11 15:03:13.284 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 15:03:13.297 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 15:03:13.310 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 15:03:13.322 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 15:03:13.333 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 15:03:13.347 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 15:03:13.362 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 15:03:13.363 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 119 ms. Found 6 JPA repository interfaces.
2025-07-11 15:03:13.383 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 15:03:13.385 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 15:03:13.630 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:03:13.631 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 15:03:13.659 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:03:13.660 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:03:13.660 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:03:13.660 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:03:13.660 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:03:13.660 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:03:13.661 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-07-11 15:03:14.328 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 15:03:14.330 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 15:03:14.334 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 15:03:14.342 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 15:03:14.345 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 15:03:14.345 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 15:03:14.392 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 15:03:14.393 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1783 ms
2025-07-11 15:03:14.654 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 15:03:14.774 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a16bfdf
2025-07-11 15:03:14.775 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 15:03:14.813 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 15:03:14.882 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.042s)
2025-07-11 15:03:14.903 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 15:03:14.906 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 15:03:14.971 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 15:03:15.006 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 15:03:15.029 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 15:03:15.214 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 15:03:15.912 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 15:03:15.950 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:03:16.553 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 15:03:16.698 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 15:03:16.698 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 15:03:16.868 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 15:03:16.921 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 15:03:17.281 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 15:03:17.310 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 15:03:17.310 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 15:03:17.344 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 15:03:17.344 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:03:17.374 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:03:17.388 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:03:17.397 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:03:17.408 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 15:03:17.499 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 15:03:17.506 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 15:03:17.630 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 15:03:17.746 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 15:03:17.939 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 15:03:18.409 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 15:03:18.431 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:03:18.433 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 15:03:18.439 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 15:03:18.483 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 15:03:43.731 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 15:03:43.731 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 15:03:43.732 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 15:04:13.271 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 7, completed tasks = 0]
2025-07-11 15:05:57.635 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 15:05:57.670 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 14680 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 15:05:57.671 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 15:05:57.707 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 15:05:57.707 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 15:05:58.300 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:05:58.301 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 15:05:58.420 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 113 ms. Found 6 JPA repository interfaces.
2025-07-11 15:05:58.735 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:05:58.799 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 15:05:58.824 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:05:58.825 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:05:58.826 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:05:58.826 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:05:58.827 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:05:58.827 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:05:58.827 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-07-11 15:05:59.562 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 15:05:59.565 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 15:05:59.568 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 15:05:59.576 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 15:05:59.577 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 15:05:59.578 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 15:05:59.625 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 15:05:59.626 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1917 ms
2025-07-11 15:05:59.878 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 15:05:59.999 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@60a7314f
2025-07-11 15:06:00.001 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 15:06:00.043 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 15:06:00.109 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.035s)
2025-07-11 15:06:00.129 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 15:06:00.133 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 15:06:00.200 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 15:06:00.232 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 15:06:00.253 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 15:06:00.437 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 15:06:01.124 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 15:06:01.163 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:06:01.740 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 15:06:01.873 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 15:06:01.873 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 15:06:02.047 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 15:06:02.079 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 15:06:02.409 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 15:06:02.440 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 15:06:02.440 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 15:06:02.478 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 15:06:02.479 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:06:02.511 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:06:02.523 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:06:02.533 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:06:02.541 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 15:06:02.628 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 15:06:02.633 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 15:06:02.748 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 15:06:02.856 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 15:06:03.044 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 15:06:03.431 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 15:06:03.471 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 15:06:03.484 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 15:06:03.486 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 15:06:03.487 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5c71bab7]]
2025-07-11 15:06:03.487 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 15:06:03.500 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 6.245 seconds (process running for 6.585)
2025-07-11 15:06:03.527 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 15:06:03.554 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 15:06:03.568 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 15:06:03.583 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 15:06:03.597 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 15:06:03.609 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 15:06:03.623 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 15:06:03.651 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 15:06:43.762 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 15:06:43.763 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 15:06:43.764 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 15:06:48.057 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 15:06:48.059 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 15:06:48.212 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:06:48.216 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:06:48.216 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "看电影", "emoji": "🎬", "updatedAt": "2025-07-11T14:57:02.119609500"} ===
2025-07-11 15:06:48.218 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=看电影, emoji=🎬, updatedAt=2025-07-11T14:57:02.119609500} ===
2025-07-11 15:06:48.218 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:06:48.218 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 看电影 ===
2025-07-11 15:06:48.219 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🎬 ===
2025-07-11 15:06:48.708 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 15:06:48.708 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 15:06:48.709 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 15:06:48.761 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 15:06:48.774 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 15:06:48.774 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 15:06:48.774 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 15:06:48.774 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 15:06:48.774 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 15:06:48.774 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 15:06:48.775 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 15:06:48.775 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 15:06:48.775 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 15:06:48.777 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 15:06:48.778 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 15:06:48.785 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 15:06:48.785 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 15:06:48.786 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 15:06:48.786 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:06:48.786 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 15:06:48.786 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 15:06:48.786 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 15:06:48.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 15:06:48.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:06:48.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:06:48.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:06:48.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:06:48.788 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 15:06:48.800 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 15:06:48.801 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 15:06:48.801 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 15:06:50.012 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:06:50.016 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:06:50.017 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "看电影", "emoji": "🎬", "updatedAt": "2025-07-11T14:57:02.119609500"} ===
2025-07-11 15:06:50.017 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=看电影, emoji=🎬, updatedAt=2025-07-11T14:57:02.119609500} ===
2025-07-11 15:06:50.018 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:06:50.019 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 看电影 ===
2025-07-11 15:06:50.019 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🎬 ===
2025-07-11 15:06:55.585 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:06:55.609 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:06:56.237 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:06:56.241 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:06:56.271 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:06:56.274 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:06:56.275 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "😴", "updatedAt": "2025-07-11T15:06:55.602379900"} ===
2025-07-11 15:06:56.276 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=😴, updatedAt=2025-07-11T15:06:55.602379900} ===
2025-07-11 15:06:56.277 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:06:56.277 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:06:56.277 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 😴 ===
2025-07-11 15:06:56.300 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:06:56.304 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:06:56.339 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:06:56.342 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:06:56.343 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "😴", "updatedAt": "2025-07-11T15:06:56.304022800"} ===
2025-07-11 15:06:56.343 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=😴, updatedAt=2025-07-11T15:06:56.304022800} ===
2025-07-11 15:06:56.344 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:06:56.345 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:06:56.345 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 😴 ===
2025-07-11 15:07:03.462 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 7, completed tasks = 0]
2025-07-11 15:08:53.553 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:08:53.556 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:08:53.557 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "😴", "updatedAt": "2025-07-11T15:06:56.304022800"} ===
2025-07-11 15:08:53.557 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=😴, updatedAt=2025-07-11T15:06:56.304022800} ===
2025-07-11 15:08:53.557 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:08:53.557 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:08:53.557 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 😴 ===
2025-07-11 15:09:14.810 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:09:14.815 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:09:15.543 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:09:15.547 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:09:15.573 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:09:15.576 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:09:15.576 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "听音乐", "emoji": "🎵", "expiresAt": "2025-07-11T07:09:44.787", "updatedAt": "2025-07-11T15:09:14.814667800"} ===
2025-07-11 15:09:15.577 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=听音乐, emoji=🎵, expiresAt=2025-07-11T07:09:44.787, updatedAt=2025-07-11T15:09:14.814667800} ===
2025-07-11 15:09:15.578 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:09:15.578 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 听音乐 ===
2025-07-11 15:09:15.579 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🎵 ===
2025-07-11 15:09:15.604 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:09:15.607 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:09:15.637 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:09:15.641 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:09:15.642 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "听音乐", "emoji": "🎵", "expiresAt": "2025-07-11T07:09:45.587", "updatedAt": "2025-07-11T15:09:15.607734400"} ===
2025-07-11 15:09:15.642 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=听音乐, emoji=🎵, expiresAt=2025-07-11T07:09:45.587, updatedAt=2025-07-11T15:09:15.607734400} ===
2025-07-11 15:09:15.642 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:09:15.642 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 听音乐 ===
2025-07-11 15:09:15.643 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🎵 ===
2025-07-11 15:10:14.048 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:10:14.053 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:10:14.054 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "听音乐", "emoji": "🎵", "expiresAt": "2025-07-11T07:09:45.587", "updatedAt": "2025-07-11T15:09:15.607734400"} ===
2025-07-11 15:10:14.054 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=听音乐, emoji=🎵, expiresAt=2025-07-11T07:09:45.587, updatedAt=2025-07-11T15:09:15.607734400} ===
2025-07-11 15:10:14.055 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:10:14.055 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 听音乐 ===
2025-07-11 15:10:14.055 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🎵 ===
2025-07-11 15:10:31.439 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:10:31.442 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:10:32.087 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:10:32.089 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:10:32.103 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:10:32.105 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:10:32.105 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "😴", "expiresAt": "2025-07-11T07:11:01.427", "updatedAt": "2025-07-11T15:10:31.442327700"} ===
2025-07-11 15:10:32.106 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=😴, expiresAt=2025-07-11T07:11:01.427, updatedAt=2025-07-11T15:10:31.442327700} ===
2025-07-11 15:10:32.106 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:10:32.106 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:10:32.106 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 😴 ===
2025-07-11 15:10:32.121 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:10:32.123 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:10:32.146 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:10:32.149 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:10:32.149 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "😴", "expiresAt": "2025-07-11T07:11:02.112", "updatedAt": "2025-07-11T15:10:32.123242200"} ===
2025-07-11 15:10:32.150 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=😴, expiresAt=2025-07-11T07:11:02.112, updatedAt=2025-07-11T15:10:32.123242200} ===
2025-07-11 15:10:32.150 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:10:32.150 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:10:32.150 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 😴 ===
2025-07-11 15:10:42.601 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:10:42.604 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:10:42.604 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "😴", "expiresAt": "2025-07-11T07:11:02.112", "updatedAt": "2025-07-11T15:10:32.123242200"} ===
2025-07-11 15:10:42.604 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=😴, expiresAt=2025-07-11T07:11:02.112, updatedAt=2025-07-11T15:10:32.123242200} ===
2025-07-11 15:10:42.605 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:10:42.605 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:10:42.605 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 😴 ===
2025-07-11 15:12:39.095 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:12:39.098 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:12:39.099 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "😴", "expiresAt": "2025-07-11T07:11:02.112", "updatedAt": "2025-07-11T15:10:32.123242200"} ===
2025-07-11 15:12:39.099 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=😴, expiresAt=2025-07-11T07:11:02.112, updatedAt=2025-07-11T15:10:32.123242200} ===
2025-07-11 15:12:39.099 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:12:39.099 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:12:39.099 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 😴 ===
2025-07-11 15:13:30.923 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:13:30.926 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:13:31.613 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:13:31.615 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:13:31.627 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:13:31.630 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:13:31.630 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "🆗没问题", "updatedAt": "2025-07-11T15:13:30.925667500"} ===
2025-07-11 15:13:31.630 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=🆗没问题, updatedAt=2025-07-11T15:13:30.925667500} ===
2025-07-11 15:13:31.630 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:13:31.630 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:13:31.630 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🆗没问题 ===
2025-07-11 15:13:31.644 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:13:31.646 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:13:31.667 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:13:31.670 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:13:31.670 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "🆗没问题", "updatedAt": "2025-07-11T15:13:31.646812400"} ===
2025-07-11 15:13:31.670 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=🆗没问题, updatedAt=2025-07-11T15:13:31.646812400} ===
2025-07-11 15:13:31.670 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:13:31.670 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:13:31.671 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🆗没问题 ===
2025-07-11 15:13:33.805 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:13:33.807 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:13:33.808 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "🆗没问题", "updatedAt": "2025-07-11T15:13:31.646812400"} ===
2025-07-11 15:13:33.808 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=🆗没问题, updatedAt=2025-07-11T15:13:31.646812400} ===
2025-07-11 15:13:33.808 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:13:33.808 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:13:33.808 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🆗没问题 ===
2025-07-11 15:13:47.660 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:13:47.662 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:13:48.287 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:13:48.291 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:13:48.306 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:13:48.309 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:13:48.309 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "🆗", "updatedAt": "2025-07-11T15:13:47.662252400"} ===
2025-07-11 15:13:48.309 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=🆗, updatedAt=2025-07-11T15:13:47.662252400} ===
2025-07-11 15:13:48.309 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:13:48.310 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:13:48.310 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🆗 ===
2025-07-11 15:13:48.323 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:13:48.326 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:13:48.346 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:13:48.349 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:13:48.349 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "🆗", "updatedAt": "2025-07-11T15:13:48.326038400"} ===
2025-07-11 15:13:48.349 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=🆗, updatedAt=2025-07-11T15:13:48.326038400} ===
2025-07-11 15:13:48.349 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:13:48.349 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:13:48.349 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🆗 ===
2025-07-11 15:13:50.033 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:13:50.035 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:13:50.035 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "🆗", "updatedAt": "2025-07-11T15:13:48.326038400"} ===
2025-07-11 15:13:50.035 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=🆗, updatedAt=2025-07-11T15:13:48.326038400} ===
2025-07-11 15:13:50.036 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:13:50.036 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:13:50.036 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🆗 ===
2025-07-11 15:14:25.849 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:14:25.852 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:14:25.868 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:14:25.870 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:14:25.870 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "🆗", "updatedAt": "2025-07-11T15:13:48.326038400"} ===
2025-07-11 15:14:25.870 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=🆗, updatedAt=2025-07-11T15:13:48.326038400} ===
2025-07-11 15:14:25.871 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:14:25.871 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:14:25.871 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🆗 ===
2025-07-11 15:14:25.885 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:14:25.887 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:14:25.911 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:14:25.913 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:14:25.913 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "🤑", "updatedAt": "2025-07-11T15:14:25.887897"} ===
2025-07-11 15:14:25.913 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=🤑, updatedAt=2025-07-11T15:14:25.887897} ===
2025-07-11 15:14:25.913 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:14:25.913 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:14:25.913 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🤑 ===
2025-07-11 15:14:29.061 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:14:29.063 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:14:29.063 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "🤑", "updatedAt": "2025-07-11T15:14:25.887897"} ===
2025-07-11 15:14:29.063 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=🤑, updatedAt=2025-07-11T15:14:25.887897} ===
2025-07-11 15:14:29.063 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:14:29.064 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:14:29.064 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🤑 ===
2025-07-11 15:14:36.427 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 清除用户状态，用户ID: 1
2025-07-11 15:14:36.430 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态清除成功，用户ID: 1
2025-07-11 15:14:40.572 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:14:40.575 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:14:40.587 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:14:40.589 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:14:40.589 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:14:40.589 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:14:40.602 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:14:40.604 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:14:40.604 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:14:40.604 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:14:42.460 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:14:42.464 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:14:42.465 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:14:42.465 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:17:24.487 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:17:24.491 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:17:25.167 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:17:25.169 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:17:25.182 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:17:25.184 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:17:25.184 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "😴", "expiresAt": "2025-07-11T07:17:54.472", "updatedAt": "2025-07-11T15:17:24.489844300"} ===
2025-07-11 15:17:25.184 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=😴, expiresAt=2025-07-11T07:17:54.472, updatedAt=2025-07-11T15:17:24.489844300} ===
2025-07-11 15:17:25.185 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:17:25.185 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:17:25.185 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 😴 ===
2025-07-11 15:17:25.197 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:17:25.200 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:17:25.220 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:17:25.223 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:17:25.223 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "😴", "expiresAt": "2025-07-11T07:17:55.190", "updatedAt": "2025-07-11T15:17:25.200585"} ===
2025-07-11 15:17:25.223 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=😴, expiresAt=2025-07-11T07:17:55.190, updatedAt=2025-07-11T15:17:25.200585} ===
2025-07-11 15:17:25.223 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:17:25.223 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:17:25.223 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 😴 ===
2025-07-11 15:17:31.163 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:17:31.165 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:17:31.165 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "😴", "expiresAt": "2025-07-11T07:17:55.190", "updatedAt": "2025-07-11T15:17:25.200585"} ===
2025-07-11 15:17:31.165 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=😴, expiresAt=2025-07-11T07:17:55.190, updatedAt=2025-07-11T15:17:25.200585} ===
2025-07-11 15:17:31.166 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:17:31.166 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:17:31.166 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 😴 ===
2025-07-11 15:18:14.840 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:18:14.844 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:18:15.551 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:18:15.555 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:18:15.580 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:18:15.583 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:18:15.583 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "😴", "expiresAt": "2025-07-11T07:18:44.823", "updatedAt": "2025-07-11T15:18:14.844525500"} ===
2025-07-11 15:18:15.584 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=😴, expiresAt=2025-07-11T07:18:44.823, updatedAt=2025-07-11T15:18:14.844525500} ===
2025-07-11 15:18:15.584 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:18:15.584 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:18:15.584 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 😴 ===
2025-07-11 15:18:15.613 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:18:15.616 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:18:15.649 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:18:15.651 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:18:15.652 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "睡觉中", "emoji": "😴", "expiresAt": "2025-07-11T07:18:45.593", "updatedAt": "2025-07-11T15:18:15.615975"} ===
2025-07-11 15:18:15.653 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=睡觉中, emoji=😴, expiresAt=2025-07-11T07:18:45.593, updatedAt=2025-07-11T15:18:15.615975} ===
2025-07-11 15:18:15.654 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:18:15.654 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 睡觉中 ===
2025-07-11 15:18:15.657 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 😴 ===
2025-07-11 15:24:24.662 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-07-11 15:24:24.666 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 15:24:24.666 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5c71bab7]]
2025-07-11 15:24:24.666 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 15:24:24.667 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 15:24:24.938 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:24:24.941 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 15:24:24.945 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 15:24:25.046 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 14680 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 15:24:25.046 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 15:24:25.211 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:24:25.211 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 15:24:25.239 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 6 JPA repository interfaces.
2025-07-11 15:24:25.311 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:24:25.311 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 15:24:25.319 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:24:25.320 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:24:25.320 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:24:25.320 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:24:25.320 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:24:25.320 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:24:25.320 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-07-11 15:24:25.461 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 15:24:25.461 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 15:24:25.463 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 15:24:25.463 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 15:24:25.464 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 15:24:25.464 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 15:24:25.485 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 15:24:25.485 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 438 ms
2025-07-11 15:24:25.564 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-11 15:24:25.575 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4690901b
2025-07-11 15:24:25.576 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-11 15:24:25.590 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 15:24:25.612 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.011s)
2025-07-11 15:24:25.624 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 15:24:25.626 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 15:24:25.652 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 15:24:25.654 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 15:24:25.659 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 15:24:25.733 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 15:24:25.745 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:24:25.927 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 15:24:25.928 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 15:24:25.928 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 15:24:25.976 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 15:24:26.032 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 15:24:26.058 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 15:24:26.058 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 15:24:26.080 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 15:24:26.080 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:24:26.088 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:24:26.097 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:24:26.103 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:24:26.111 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 15:24:26.182 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:24:26.183 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-07-11 15:24:26.184 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-07-11 15:24:26.185 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 15:24:26.225 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 15:25:14.920 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 14680 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 15:25:14.920 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 15:25:15.094 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:25:15.095 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 15:25:15.120 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 6 JPA repository interfaces.
2025-07-11 15:25:15.179 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:25:15.179 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 15:25:15.188 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:25:15.188 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:25:15.188 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:25:15.189 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:25:15.189 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:25:15.189 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:25:15.189 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 15:25:15.299 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 15:25:15.300 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 15:25:15.301 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 15:25:15.301 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 15:25:15.301 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 15:25:15.301 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 15:25:15.323 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 15:25:15.323 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 402 ms
2025-07-11 15:25:15.409 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-11 15:25:15.420 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@111e53fb
2025-07-11 15:25:15.420 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-11 15:25:15.426 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 15:25:15.494 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.011s)
2025-07-11 15:25:15.509 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 15:25:15.511 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 15:25:15.537 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 15:25:15.538 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 15:25:15.543 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 15:25:15.612 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 15:25:15.622 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:25:15.785 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 15:25:15.787 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 15:25:15.787 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 15:25:15.833 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 15:25:15.886 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 15:25:15.909 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 15:25:15.909 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 15:25:15.931 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 15:25:15.932 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:25:15.939 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:25:15.945 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:25:15.950 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:25:15.955 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 15:25:16.017 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:25:16.018 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-07-11 15:25:16.020 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-07-11 15:25:16.020 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 15:25:16.063 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 15:25:31.718 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 14680 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 15:25:31.718 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 15:25:31.862 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:25:31.863 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 15:25:31.888 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 6 JPA repository interfaces.
2025-07-11 15:25:31.942 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:25:31.942 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 15:25:31.950 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:25:31.951 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:25:31.951 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:25:31.951 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:25:31.951 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:25:31.951 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:25:31.951 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 15:25:32.059 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 15:25:32.059 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 15:25:32.060 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 15:25:32.060 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 15:25:32.060 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 15:25:32.060 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 15:25:32.082 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 15:25:32.082 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 363 ms
2025-07-11 15:25:32.168 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-07-11 15:25:32.179 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5bf6e567
2025-07-11 15:25:32.180 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-07-11 15:25:32.188 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 15:25:32.212 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.012s)
2025-07-11 15:25:32.225 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 15:25:32.226 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 15:25:32.252 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 15:25:32.253 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 15:25:32.259 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 15:25:32.308 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 15:25:32.319 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:25:32.476 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 15:25:32.477 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 15:25:32.477 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 15:25:32.515 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 15:25:32.563 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 15:25:32.583 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 15:25:32.583 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 15:25:32.607 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 15:25:32.607 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:25:32.614 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:25:32.618 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:25:32.623 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:25:32.629 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 15:25:32.698 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 15:25:32.704 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 15:25:32.761 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 15:25:32.810 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 15:25:32.900 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 15:25:33.104 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 15:25:33.115 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 15:25:33.118 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 15:25:33.118 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 15:25:33.119 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@f269ea3]]
2025-07-11 15:25:33.119 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 15:25:33.126 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.428 seconds (process running for 1176.212)
2025-07-11 15:25:33.127 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 15:25:33.138 [MessageBroker-7] INFO  c.i.i.u.task.UserStatusCleanupTask - 清除用户过期状态，用户ID: 1
2025-07-11 15:25:33.139 [MessageBroker-7] INFO  c.i.i.u.task.UserStatusCleanupTask - 状态过期清理任务完成，清理了 1 个过期状态
2025-07-11 15:25:33.141 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 15:25:33.154 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 15:25:33.165 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 15:25:33.177 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 15:25:33.189 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 15:25:33.200 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 15:25:33.220 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 15:25:33.222 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 15:25:43.651 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 15:25:43.651 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 15:25:43.653 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 15:26:33.113 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 15:27:14.084 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 15:27:14.087 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 15:27:14.087 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@f269ea3]]
2025-07-11 15:27:14.087 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 15:27:14.087 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 15:27:14.337 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:27:14.337 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-07-11 15:27:14.339 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-07-11 15:27:14.448 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 14680 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 15:27:14.448 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 15:27:14.602 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:27:14.602 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 15:27:14.628 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2025-07-11 15:27:14.681 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:27:14.681 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 15:27:14.689 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:27:14.690 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:27:14.690 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:27:14.690 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:27:14.690 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:27:14.690 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:27:14.691 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 15:27:14.803 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 15:27:14.804 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 15:27:14.804 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 15:27:14.805 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 15:27:14.806 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 15:27:14.806 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 15:27:14.827 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 15:27:14.827 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 378 ms
2025-07-11 15:27:14.904 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-07-11 15:27:14.913 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@11066b4
2025-07-11 15:27:14.913 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-07-11 15:27:14.930 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 15:27:14.952 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.012s)
2025-07-11 15:27:14.962 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 15:27:14.963 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 15:27:14.994 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 15:27:14.997 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 15:27:15.010 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 15:27:15.063 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 15:27:15.074 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:27:15.234 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 15:27:15.235 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 15:27:15.235 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 15:27:15.276 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 15:27:15.322 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 15:27:15.340 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 15:27:15.340 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 15:27:15.358 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 15:27:15.359 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:27:15.365 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:27:15.370 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:27:15.376 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:27:15.381 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 15:27:15.442 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 15:27:15.448 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 15:27:15.507 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 15:27:15.543 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 15:27:15.625 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 15:27:15.812 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 15:27:15.821 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 15:27:15.826 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 15:27:15.826 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 15:27:15.826 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4ef60e7e]]
2025-07-11 15:27:15.827 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 15:27:15.833 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.404 seconds (process running for 1278.919)
2025-07-11 15:27:15.835 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 15:27:15.845 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 15:27:15.855 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 15:27:15.866 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 15:27:15.877 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 15:27:15.889 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 15:27:15.901 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 15:27:15.923 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 15:27:15.924 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 15:27:34.498 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 15:27:34.499 [Thread-17] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 15:27:34.499 [Thread-17] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4ef60e7e]]
2025-07-11 15:27:34.499 [Thread-17] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 15:27:34.500 [Thread-17] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 15:27:34.768 [Thread-17] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:27:34.768 [Thread-17] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-07-11 15:27:34.770 [Thread-17] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-07-11 15:27:34.868 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 14680 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 15:27:34.868 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 15:27:35.009 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:27:35.009 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 15:27:35.036 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2025-07-11 15:27:35.094 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:27:35.095 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 15:27:35.102 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:27:35.102 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:27:35.102 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:27:35.103 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:27:35.103 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:27:35.103 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:27:35.103 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-07-11 15:27:35.209 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 15:27:35.210 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 15:27:35.210 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 15:27:35.211 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 15:27:35.211 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 15:27:35.211 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 15:27:35.232 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 15:27:35.233 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 364 ms
2025-07-11 15:27:35.312 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-07-11 15:27:35.327 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4ab02cb9
2025-07-11 15:27:35.327 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-07-11 15:27:35.339 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 15:27:35.365 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.012s)
2025-07-11 15:27:35.377 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 15:27:35.378 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 15:27:35.403 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 15:27:35.405 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 15:27:35.409 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 15:27:35.456 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 15:27:35.466 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:27:35.620 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 15:27:35.620 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 15:27:35.620 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 15:27:35.677 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 15:27:35.720 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 15:27:35.740 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 15:27:35.740 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 15:27:35.757 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 15:27:35.757 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:27:35.763 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:27:35.768 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:27:35.774 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:27:35.780 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 15:27:35.844 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 15:27:35.849 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 15:27:35.892 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 15:27:35.928 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 15:27:36.010 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 15:27:36.182 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 15:27:36.191 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 15:27:36.195 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 15:27:36.195 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 15:27:36.195 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6b74f81c]]
2025-07-11 15:27:36.195 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 15:27:36.203 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.353 seconds (process running for 1299.289)
2025-07-11 15:27:36.203 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 15:27:36.214 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 15:27:36.225 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 15:27:36.235 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 15:27:36.247 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 15:27:36.258 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 15:27:36.269 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 15:27:36.301 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 15:27:36.301 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 15:27:43.646 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 15:27:43.646 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 15:27:43.647 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 15:28:36.191 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 15:29:28.334 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 189 class path changes (0 additions, 189 deletions, 0 modifications)
2025-07-11 15:29:28.336 [Thread-21] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 15:29:28.336 [Thread-21] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6b74f81c]]
2025-07-11 15:29:28.336 [Thread-21] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 15:29:28.336 [Thread-21] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 15:29:28.619 [Thread-21] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:29:28.619 [Thread-21] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-07-11 15:29:28.622 [Thread-21] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-07-11 15:29:28.746 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 14680 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 15:29:28.747 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 15:29:33.045 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 14680 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 15:29:33.045 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 15:29:33.200 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:29:33.201 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 15:29:33.237 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 6 JPA repository interfaces.
2025-07-11 15:29:33.319 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:29:33.320 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 15:29:33.328 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:29:33.328 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:29:33.328 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:29:33.328 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:29:33.329 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:29:33.329 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:29:33.329 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 15:29:33.463 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 15:29:33.463 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 15:29:33.464 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 15:29:33.464 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 15:29:33.464 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 15:29:33.464 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 15:29:33.511 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 15:29:33.512 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 466 ms
2025-07-11 15:29:33.592 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-07-11 15:29:33.602 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3da87f30
2025-07-11 15:29:33.602 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-07-11 15:29:33.638 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 15:29:33.663 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.013s)
2025-07-11 15:29:33.678 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 15:29:33.680 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 15:29:33.712 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 15:29:33.715 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 15:29:33.720 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 15:29:33.785 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 15:29:33.800 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:29:33.967 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 15:29:33.968 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 15:29:33.968 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 15:29:34.021 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 15:29:34.073 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 15:29:34.099 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 15:29:34.100 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 15:29:34.118 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 15:29:34.118 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:29:34.125 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:29:34.130 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:29:34.135 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:29:34.139 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 15:29:34.201 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 15:29:34.206 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 15:29:34.255 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 15:29:34.297 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 15:29:34.385 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 15:29:34.576 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 15:29:34.587 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 15:29:34.590 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 15:29:34.590 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 15:29:34.590 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1c6bd56b]]
2025-07-11 15:29:34.591 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 15:29:34.599 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.573 seconds (process running for 1417.685)
2025-07-11 15:29:34.601 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 15:29:34.613 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 15:29:34.623 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 15:29:34.635 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 15:29:34.640 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 15:29:34.651 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 15:29:34.680 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 30596 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 15:29:34.681 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 15:29:34.718 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 15:29:34.730 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 15:29:34.731 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 15:29:34.731 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 15:29:34.752 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 15:29:34.753 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 15:29:35.293 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:29:35.294 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 15:29:35.407 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 108 ms. Found 6 JPA repository interfaces.
2025-07-11 15:29:35.670 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:29:35.671 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 15:29:35.693 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:29:35.694 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:29:35.694 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:29:35.694 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:29:35.695 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:29:35.695 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:29:35.695 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-07-11 15:29:36.450 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 15:29:36.453 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 15:29:36.457 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 15:29:36.467 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 15:29:36.469 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 15:29:36.470 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 15:29:36.521 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 15:29:36.522 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1789 ms
2025-07-11 15:29:36.773 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 15:29:36.897 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@13e05056
2025-07-11 15:29:36.899 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 15:29:36.953 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 15:29:37.007 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.032s)
2025-07-11 15:29:37.027 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 15:29:37.031 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 15:29:37.103 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 15:29:37.157 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 15:29:37.186 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 15:29:37.414 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 15:29:38.170 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 15:29:38.209 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:29:38.869 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 15:29:39.048 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 15:29:39.048 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 15:29:39.232 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 15:29:39.270 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 15:29:39.637 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 15:29:39.669 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 15:29:39.671 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 15:29:39.717 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 15:29:39.717 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:29:39.749 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:29:39.759 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:29:39.767 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:29:39.777 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 15:29:39.882 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 15:29:39.891 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 15:29:40.048 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 15:29:40.167 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 15:29:40.365 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 15:29:40.835 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 15:29:40.854 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:29:40.856 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 15:29:40.862 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 15:29:40.911 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 15:29:43.636 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 15:29:43.636 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 15:29:43.637 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 15:30:34.587 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 15:31:25.043 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 15:31:25.077 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22332 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 15:31:25.077 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 15:31:25.113 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 15:31:25.114 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 15:31:25.772 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:31:25.774 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 15:31:25.960 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 176 ms. Found 6 JPA repository interfaces.
2025-07-11 15:31:26.317 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:31:26.318 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 15:31:26.342 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:31:26.343 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:31:26.344 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:31:26.344 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:31:26.344 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:31:26.345 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:31:26.345 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-07-11 15:31:27.295 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 15:31:27.299 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 15:31:27.303 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 15:31:27.312 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 15:31:27.314 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 15:31:27.315 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 15:31:27.386 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 15:31:27.387 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2273 ms
2025-07-11 15:31:27.653 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 15:31:27.766 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4bbf9ee8
2025-07-11 15:31:27.768 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 15:31:27.809 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 15:31:27.883 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.048s)
2025-07-11 15:31:27.912 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 15:31:27.916 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 15:31:27.983 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 15:31:28.017 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 15:31:28.043 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 15:31:28.233 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 15:31:28.885 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 15:31:28.921 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:31:29.536 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 15:31:29.702 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 15:31:29.702 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 15:31:30.042 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 15:31:30.094 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 15:31:30.495 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 15:31:30.522 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 15:31:30.523 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 15:31:30.560 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 15:31:30.561 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:31:30.591 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:31:30.603 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:31:30.610 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:31:30.621 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 15:31:30.716 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 15:31:30.724 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 15:31:30.833 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 15:31:30.943 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 15:31:31.114 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 15:31:31.502 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 15:31:31.541 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 15:31:31.561 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 15:31:31.562 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 15:31:31.563 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6a0ec573]]
2025-07-11 15:31:31.563 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 15:31:31.575 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 6.865 seconds (process running for 7.185)
2025-07-11 15:31:31.619 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 15:31:31.635 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 15:31:31.647 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 15:31:31.661 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 15:31:31.674 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 15:31:31.686 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 15:31:31.700 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 15:31:31.733 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 15:31:43.675 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 15:31:43.675 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 15:31:43.677 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 15:32:07.308 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:32:07.332 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:32:07.333 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:32:07.333 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:32:14.369 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:32:14.377 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置状态过期时间: 2025-07-11T07:32:44.306
2025-07-11 15:32:14.390 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:32:15.036 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:32:15.042 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:32:15.072 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:32:15.075 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:32:15.075 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "运动中", "emoji": "🏃", "expiresAt": "2025-07-11T07:32:44.306", "updatedAt": "2025-07-11T15:32:14.377675600"} ===
2025-07-11 15:32:15.079 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=运动中, emoji=🏃, expiresAt=2025-07-11T07:32:44.306, updatedAt=2025-07-11T15:32:14.377675600} ===
2025-07-11 15:32:15.080 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:32:15.081 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 运动中 ===
2025-07-11 15:32:15.082 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🏃 ===
2025-07-11 15:32:15.114 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:32:15.117 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置状态过期时间: 2025-07-11T07:32:45.092
2025-07-11 15:32:15.118 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:32:15.167 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:32:15.173 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:32:15.173 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "运动中", "emoji": "🏃", "expiresAt": "2025-07-11T07:32:45.092", "updatedAt": "2025-07-11T15:32:15.118304800"} ===
2025-07-11 15:32:15.175 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=运动中, emoji=🏃, expiresAt=2025-07-11T07:32:45.092, updatedAt=2025-07-11T15:32:15.118304800} ===
2025-07-11 15:32:15.175 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:32:15.175 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 运动中 ===
2025-07-11 15:32:15.176 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🏃 ===
2025-07-11 15:32:20.233 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:32:20.236 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:32:20.237 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "运动中", "emoji": "🏃", "expiresAt": "2025-07-11T07:32:45.092", "updatedAt": "2025-07-11T15:32:15.118304800"} ===
2025-07-11 15:32:20.237 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=运动中, emoji=🏃, expiresAt=2025-07-11T07:32:45.092, updatedAt=2025-07-11T15:32:15.118304800} ===
2025-07-11 15:32:20.238 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:32:20.238 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 运动中 ===
2025-07-11 15:32:20.239 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🏃 ===
2025-07-11 15:32:31.531 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 15:32:31.607 [MessageBroker-5] INFO  c.i.i.u.task.UserStatusCleanupTask - 清除用户过期状态，用户ID: 1
2025-07-11 15:32:31.608 [MessageBroker-5] INFO  c.i.i.u.task.UserStatusCleanupTask - 状态过期清理任务完成，清理了 1 个过期状态
2025-07-11 15:32:42.048 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:32:42.051 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:32:42.052 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:32:42.052 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:32:52.087 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 15:32:52.091 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 15:32:52.126 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:32:52.129 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:32:52.129 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:32:52.130 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:32:52.636 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 15:32:52.639 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 15:32:52.640 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 15:32:52.668 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 15:32:52.687 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 15:32:52.688 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 15:32:52.688 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 15:32:52.688 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:32:52.688 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 15:32:52.688 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 15:32:52.688 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 15:32:52.689 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 15:32:52.690 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:32:52.690 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:32:52.691 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:32:52.691 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:32:52.691 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 15:32:52.706 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 15:32:52.706 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 15:32:52.706 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 15:32:52.707 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 15:32:52.707 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 15:32:52.707 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 15:32:52.707 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 15:32:52.707 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 15:32:52.708 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 15:32:52.711 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 15:32:52.713 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 15:32:52.714 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 15:32:52.716 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 15:32:52.717 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 15:32:54.667 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:32:54.671 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:32:54.671 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:32:54.672 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:34:11.166 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:34:11.169 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:34:11.169 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:34:11.169 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:34:15.225 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:34:15.228 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置状态过期时间: 2025-07-11T07:34:45.200
2025-07-11 15:34:15.228 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:34:16.698 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:34:16.702 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:34:16.724 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:34:16.728 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:34:16.729 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "休息中", "emoji": "☕", "expiresAt": "2025-07-11T07:34:45.200", "updatedAt": "2025-07-11T15:34:15.228409600"} ===
2025-07-11 15:34:16.729 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=休息中, emoji=☕, expiresAt=2025-07-11T07:34:45.200, updatedAt=2025-07-11T15:34:15.228409600} ===
2025-07-11 15:34:16.729 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:34:16.730 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 休息中 ===
2025-07-11 15:34:16.731 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: ☕ ===
2025-07-11 15:34:16.753 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:34:16.756 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置状态过期时间: 2025-07-11T07:34:46.737
2025-07-11 15:34:16.757 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:34:16.790 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:34:16.794 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:34:16.795 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "休息中", "emoji": "☕", "expiresAt": "2025-07-11T07:34:46.737", "updatedAt": "2025-07-11T15:34:16.756495900"} ===
2025-07-11 15:34:16.795 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=休息中, emoji=☕, expiresAt=2025-07-11T07:34:46.737, updatedAt=2025-07-11T15:34:16.756495900} ===
2025-07-11 15:34:16.795 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:34:16.795 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 休息中 ===
2025-07-11 15:34:16.796 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: ☕ ===
2025-07-11 15:34:18.148 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:34:18.152 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:34:18.153 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "休息中", "emoji": "☕", "expiresAt": "2025-07-11T07:34:46.737", "updatedAt": "2025-07-11T15:34:16.756495900"} ===
2025-07-11 15:34:18.153 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=休息中, emoji=☕, expiresAt=2025-07-11T07:34:46.737, updatedAt=2025-07-11T15:34:16.756495900} ===
2025-07-11 15:34:18.153 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:34:18.153 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 休息中 ===
2025-07-11 15:34:18.153 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: ☕ ===
2025-07-11 15:34:31.598 [MessageBroker-11] INFO  c.i.i.u.task.UserStatusCleanupTask - 清除用户过期状态，用户ID: 1
2025-07-11 15:34:31.598 [MessageBroker-11] INFO  c.i.i.u.task.UserStatusCleanupTask - 状态过期清理任务完成，清理了 1 个过期状态
2025-07-11 15:36:07.021 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:36:07.026 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:36:07.026 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:36:07.027 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:36:09.586 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 15:36:09.588 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 15:36:09.620 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:36:09.622 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:36:09.623 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:36:09.623 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:36:10.126 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 15:36:10.127 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 15:36:10.128 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 15:36:10.136 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 15:36:10.136 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 15:36:10.137 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 15:36:10.138 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 15:36:10.138 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 15:36:10.138 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 15:36:10.138 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 15:36:10.138 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 15:36:10.139 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 15:36:10.140 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 15:36:10.140 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 15:36:10.142 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 15:36:10.155 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 15:36:10.155 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 15:36:10.155 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 15:36:10.156 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:36:10.156 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 15:36:10.157 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 15:36:10.157 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 15:36:10.158 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 15:36:10.158 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:36:10.158 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:36:10.158 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:36:10.159 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:36:10.160 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 15:36:10.167 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 15:36:10.168 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 15:36:10.168 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 15:39:57.935 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 190 class path changes (0 additions, 0 deletions, 190 modifications)
2025-07-11 15:39:57.979 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 15:39:57.980 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6a0ec573]]
2025-07-11 15:39:57.980 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 15:39:57.985 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 15:39:58.379 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:39:58.400 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 15:39:58.423 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 15:39:58.846 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22332 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 15:39:58.846 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 15:39:59.256 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:39:59.257 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 15:39:59.305 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 6 JPA repository interfaces.
2025-07-11 15:39:59.458 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:39:59.458 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 15:39:59.474 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:39:59.474 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:39:59.475 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:39:59.475 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:39:59.475 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:39:59.476 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:39:59.476 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2025-07-11 15:39:59.723 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 15:39:59.723 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 15:39:59.725 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 15:39:59.725 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 15:39:59.726 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 15:39:59.726 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 15:39:59.759 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 15:39:59.759 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 908 ms
2025-07-11 15:39:59.887 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-11 15:39:59.916 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2aa42747
2025-07-11 15:39:59.917 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-11 15:39:59.937 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 15:39:59.992 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.028s)
2025-07-11 15:40:00.018 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 15:40:00.021 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 15:40:00.068 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 15:40:00.071 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 15:40:00.090 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 15:40:00.210 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 15:40:00.236 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:40:00.550 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 15:40:00.552 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 15:40:00.553 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 15:40:00.703 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 15:40:00.833 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 15:40:00.881 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 15:40:00.881 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 15:40:00.919 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 15:40:00.919 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:40:00.937 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:40:00.947 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:40:00.956 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:40:00.973 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 15:40:01.074 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 15:40:01.083 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 15:40:01.208 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 15:40:01.314 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 15:40:01.549 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 15:40:02.021 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 15:40:02.051 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 15:40:02.056 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 15:40:02.057 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 15:40:02.057 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@39dec118]]
2025-07-11 15:40:02.057 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 15:40:02.072 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 3.299 seconds (process running for 517.681)
2025-07-11 15:40:02.074 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 15:40:02.126 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 15:40:02.145 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 15:40:02.161 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 15:40:02.174 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 15:40:02.190 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 15:40:02.205 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 15:40:02.232 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 15:40:02.235 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 15:40:03.452 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 20 class path changes (0 additions, 0 deletions, 20 modifications)
2025-07-11 15:40:03.454 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 15:40:03.454 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@39dec118]]
2025-07-11 15:40:03.455 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 15:40:03.455 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 15:40:03.931 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:40:03.932 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-07-11 15:40:03.933 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-07-11 15:40:04.100 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 22332 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 15:40:04.101 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 15:40:04.275 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:40:04.275 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 15:40:04.300 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2025-07-11 15:40:04.356 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 15:40:04.356 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 15:40:04.364 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:40:04.364 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:40:04.364 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:40:04.364 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:40:04.365 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:40:04.365 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 15:40:04.365 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-07-11 15:40:04.508 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 15:40:04.508 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 15:40:04.509 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 15:40:04.509 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 15:40:04.509 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 15:40:04.509 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 15:40:04.532 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 15:40:04.532 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 430 ms
2025-07-11 15:40:04.606 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-11 15:40:04.618 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@655eb7a5
2025-07-11 15:40:04.619 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-11 15:40:04.625 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 15:40:04.649 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.010s)
2025-07-11 15:40:04.662 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 15:40:04.662 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 15:40:04.690 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 15:40:04.691 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 15:40:04.696 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 15:40:04.767 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 15:40:04.788 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 15:40:04.957 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 15:40:04.958 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 15:40:04.958 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 15:40:05.020 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 15:40:05.091 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 15:40:05.119 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 15:40:05.119 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 15:40:05.140 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 15:40:05.140 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:40:05.147 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:40:05.153 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:40:05.160 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 15:40:05.167 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 15:40:05.239 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 15:40:05.245 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 15:40:05.294 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 15:40:05.333 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 15:40:05.426 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 15:40:05.631 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 15:40:05.641 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 15:40:05.644 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 15:40:05.644 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 15:40:05.644 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@63f6298d]]
2025-07-11 15:40:05.644 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 15:40:05.652 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.585 seconds (process running for 521.261)
2025-07-11 15:40:05.654 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 15:40:05.671 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 15:40:05.687 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 15:40:05.703 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 15:40:05.719 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 15:40:05.733 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 15:40:05.747 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 15:40:05.770 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 15:40:05.771 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 15:40:43.607 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 15:40:43.607 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 15:40:43.609 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 15:41:05.640 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 15:44:23.149 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 15:44:23.151 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 15:44:23.179 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:44:23.182 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:44:23.182 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:44:23.182 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:44:23.679 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 15:44:23.680 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 15:44:23.680 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 15:44:23.690 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 15:44:23.699 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 15:44:23.700 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 15:44:23.700 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 15:44:23.700 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:44:23.700 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 15:44:23.700 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 15:44:23.700 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 15:44:23.700 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 15:44:23.700 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:44:23.700 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:44:23.700 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:44:23.701 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:44:23.701 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 15:44:23.705 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 15:44:23.705 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 15:44:23.705 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 15:44:23.705 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 15:44:23.705 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 15:44:23.705 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 15:44:23.705 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 15:44:23.705 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 15:44:23.705 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 15:44:23.705 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 15:44:23.706 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 15:44:23.706 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 15:44:23.707 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 15:44:23.707 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 15:44:25.209 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:44:25.212 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:44:25.212 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:44:25.212 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:44:29.139 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:44:29.147 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:44:30.160 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:44:30.164 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:44:30.188 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:44:30.192 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:44:30.193 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "用餐中", "emoji": "🍽️", "updatedAt": "2025-07-11T15:44:29.145880800"} ===
2025-07-11 15:44:30.194 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=用餐中, emoji=🍽️, updatedAt=2025-07-11T15:44:29.145880800} ===
2025-07-11 15:44:30.195 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:44:30.195 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 用餐中 ===
2025-07-11 15:44:30.195 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🍽️ ===
2025-07-11 15:44:30.226 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:44:30.229 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:44:30.258 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:44:30.261 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:44:30.262 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "用餐中", "emoji": "🍽️", "updatedAt": "2025-07-11T15:44:30.229196800"} ===
2025-07-11 15:44:30.262 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=用餐中, emoji=🍽️, updatedAt=2025-07-11T15:44:30.229196800} ===
2025-07-11 15:44:30.262 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:44:30.262 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 用餐中 ===
2025-07-11 15:44:30.263 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🍽️ ===
2025-07-11 15:44:33.375 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:44:33.379 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:44:33.379 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "用餐中", "emoji": "🍽️", "updatedAt": "2025-07-11T15:44:30.229196800"} ===
2025-07-11 15:44:33.379 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=用餐中, emoji=🍽️, updatedAt=2025-07-11T15:44:30.229196800} ===
2025-07-11 15:44:33.380 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:44:33.380 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 用餐中 ===
2025-07-11 15:44:33.382 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🍽️ ===
2025-07-11 15:44:38.811 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:44:38.815 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置状态过期时间: 2025-07-11T07:45:08.797
2025-07-11 15:44:38.816 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:44:39.353 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:44:39.357 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:44:39.390 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:44:39.394 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:44:39.395 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "用餐中", "emoji": "🍽️", "expiresAt": "2025-07-11T07:45:08.797", "updatedAt": "2025-07-11T15:44:38.816261600"} ===
2025-07-11 15:44:39.395 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=用餐中, emoji=🍽️, expiresAt=2025-07-11T07:45:08.797, updatedAt=2025-07-11T15:44:38.816261600} ===
2025-07-11 15:44:39.395 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:44:39.396 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 用餐中 ===
2025-07-11 15:44:39.396 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🍽️ ===
2025-07-11 15:44:39.417 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:44:39.420 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置状态过期时间: 2025-07-11T07:45:09.402
2025-07-11 15:44:39.421 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:44:39.457 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:44:39.460 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:44:39.461 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "用餐中", "emoji": "🍽️", "expiresAt": "2025-07-11T07:45:09.402", "updatedAt": "2025-07-11T15:44:39.421388500"} ===
2025-07-11 15:44:39.461 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=用餐中, emoji=🍽️, expiresAt=2025-07-11T07:45:09.402, updatedAt=2025-07-11T15:44:39.421388500} ===
2025-07-11 15:44:39.461 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:44:39.462 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 用餐中 ===
2025-07-11 15:44:39.462 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🍽️ ===
2025-07-11 15:44:53.391 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:44:53.393 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:44:53.394 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "用餐中", "emoji": "🍽️", "expiresAt": "2025-07-11T07:45:09.402", "updatedAt": "2025-07-11T15:44:39.421388500"} ===
2025-07-11 15:44:53.394 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=用餐中, emoji=🍽️, expiresAt=2025-07-11T07:45:09.402, updatedAt=2025-07-11T15:44:39.421388500} ===
2025-07-11 15:44:53.394 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:44:53.394 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 用餐中 ===
2025-07-11 15:44:53.395 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🍽️ ===
2025-07-11 15:45:05.693 [MessageBroker-7] INFO  c.i.i.u.task.UserStatusCleanupTask - 清除用户过期状态，用户ID: 1
2025-07-11 15:45:05.694 [MessageBroker-7] INFO  c.i.i.u.task.UserStatusCleanupTask - 状态过期清理任务完成，清理了 1 个过期状态
2025-07-11 15:45:06.426 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:45:06.430 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:45:06.430 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:45:06.430 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:45:09.642 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:45:09.646 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:45:09.646 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:45:09.647 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:45:11.907 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:45:11.910 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:45:11.911 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:45:11.911 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:45:23.188 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:45:23.190 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:45:23.190 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:45:23.190 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:45:53.199 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:45:53.204 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:45:53.204 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:45:53.204 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:45:54.740 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:45:54.743 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:45:54.743 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:45:54.743 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:46:11.409 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:46:11.411 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置状态过期时间: 2025-07-11T15:59:59.999
2025-07-11 15:46:11.412 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:46:13.300 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:46:13.303 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:46:13.316 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:46:13.318 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:46:13.319 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "听音乐", "emoji": "🎵", "expiresAt": "2025-07-11T15:59:59.999", "updatedAt": "2025-07-11T15:46:11.411752500"} ===
2025-07-11 15:46:13.319 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=听音乐, emoji=🎵, expiresAt=2025-07-11T15:59:59.999, updatedAt=2025-07-11T15:46:11.411752500} ===
2025-07-11 15:46:13.319 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:46:13.319 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 听音乐 ===
2025-07-11 15:46:13.319 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🎵 ===
2025-07-11 15:46:13.334 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:46:13.337 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置状态过期时间: 2025-07-11T15:59:59.999
2025-07-11 15:46:13.338 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:46:13.358 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:46:13.360 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:46:13.360 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "听音乐", "emoji": "🎵", "expiresAt": "2025-07-11T15:59:59.999", "updatedAt": "2025-07-11T15:46:13.337640400"} ===
2025-07-11 15:46:13.361 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=听音乐, emoji=🎵, expiresAt=2025-07-11T15:59:59.999, updatedAt=2025-07-11T15:46:13.337640400} ===
2025-07-11 15:46:13.361 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:46:13.361 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 听音乐 ===
2025-07-11 15:46:13.361 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🎵 ===
2025-07-11 15:46:14.788 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:46:14.791 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:46:14.792 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "听音乐", "emoji": "🎵", "expiresAt": "2025-07-11T15:59:59.999", "updatedAt": "2025-07-11T15:46:13.337640400"} ===
2025-07-11 15:46:14.792 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=听音乐, emoji=🎵, expiresAt=2025-07-11T15:59:59.999, updatedAt=2025-07-11T15:46:13.337640400} ===
2025-07-11 15:46:14.792 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 15:46:14.792 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 听音乐 ===
2025-07-11 15:46:14.792 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🎵 ===
2025-07-11 15:46:17.438 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 清除用户状态，用户ID: 1
2025-07-11 15:46:17.441 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态清除成功，用户ID: 1
2025-07-11 15:46:18.645 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:46:18.648 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:46:18.663 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:46:18.665 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:46:18.665 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:46:18.666 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:46:18.680 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:46:18.683 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:46:18.683 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:46:18.683 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:46:23.388 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:46:23.389 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:46:23.389 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:46:23.389 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:46:24.511 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:46:24.513 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:46:24.513 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:46:24.513 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:46:25.316 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:46:25.318 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:46:25.318 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:46:25.318 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:46:53.380 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:46:53.383 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:46:53.383 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:46:53.383 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:47:23.389 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:47:23.391 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:47:23.392 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:47:23.392 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:47:53.374 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:47:53.376 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:47:53.376 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:47:53.376 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:48:54.393 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:48:54.395 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:48:54.395 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:48:54.395 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:49:55.385 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:49:55.387 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:49:55.388 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:49:55.388 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:50:56.388 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:50:56.390 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:50:56.390 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:50:56.390 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:51:36.140 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:51:36.143 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:51:36.143 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:51:36.143 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:51:36.153 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:51:36.156 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:51:36.156 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:51:36.156 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:51:38.892 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 15:51:38.893 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 15:51:38.915 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:51:38.917 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:51:38.917 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:51:38.917 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:51:39.418 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 15:51:39.418 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 15:51:39.419 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 15:51:39.427 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 15:51:39.427 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 15:51:39.428 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 15:51:39.428 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 15:51:39.428 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 15:51:39.428 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 15:51:39.428 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 15:51:39.428 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 15:51:39.428 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 15:51:39.428 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 15:51:39.428 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 15:51:39.428 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 15:51:39.438 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 15:51:39.438 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 15:51:39.438 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 15:51:39.438 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:51:39.438 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 15:51:39.438 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 15:51:39.438 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 15:51:39.438 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 15:51:39.438 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:51:39.438 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:51:39.438 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:51:39.438 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 15:51:39.439 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 15:51:39.442 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 15:51:39.442 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 15:51:39.442 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 15:51:40.688 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:51:40.690 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:51:40.690 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:51:40.690 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:51:53.567 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:51:53.571 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:51:53.591 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:51:53.594 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:51:53.595 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:51:53.595 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:51:53.618 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:51:53.621 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:51:53.621 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:51:53.621 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:51:55.731 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:51:55.733 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:51:55.734 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:51:55.734 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:52:01.642 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:52:01.645 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:52:02.721 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:52:02.725 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:52:02.746 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:52:02.749 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:52:02.749 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "学习中", "emoji": "📚", "updatedAt": "2025-07-11T15:52:01.645175200"} ===
2025-07-11 15:52:02.749 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=学习中, emoji=📚, updatedAt=2025-07-11T15:52:01.645175200} ===
2025-07-11 15:52:02.750 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:52:02.750 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 学习中 ===
2025-07-11 15:52:02.750 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 📚 ===
2025-07-11 15:52:02.773 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:52:02.777 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:52:02.809 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:52:02.812 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:52:02.812 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "学习中", "emoji": "📚", "updatedAt": "2025-07-11T15:52:02.776628400"} ===
2025-07-11 15:52:02.812 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=学习中, emoji=📚, updatedAt=2025-07-11T15:52:02.776628400} ===
2025-07-11 15:52:02.812 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:52:02.812 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 学习中 ===
2025-07-11 15:52:02.812 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 📚 ===
2025-07-11 15:52:04.123 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:52:04.125 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:52:04.126 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "学习中", "emoji": "📚", "updatedAt": "2025-07-11T15:52:02.776628400"} ===
2025-07-11 15:52:04.126 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=学习中, emoji=📚, updatedAt=2025-07-11T15:52:02.776628400} ===
2025-07-11 15:52:04.127 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:52:04.127 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 学习中 ===
2025-07-11 15:52:04.127 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 📚 ===
2025-07-11 15:52:08.932 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:52:08.934 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:52:08.934 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "学习中", "emoji": "📚", "updatedAt": "2025-07-11T15:52:02.776628400"} ===
2025-07-11 15:52:08.935 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=学习中, emoji=📚, updatedAt=2025-07-11T15:52:02.776628400} ===
2025-07-11 15:52:08.935 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:52:08.935 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 学习中 ===
2025-07-11 15:52:08.936 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 📚 ===
2025-07-11 15:52:19.692 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:52:19.696 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:52:19.728 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:52:19.730 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:52:19.731 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "学习中", "emoji": "📚", "updatedAt": "2025-07-11T15:52:02.776628400"} ===
2025-07-11 15:52:19.731 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=学习中, emoji=📚, updatedAt=2025-07-11T15:52:02.776628400} ===
2025-07-11 15:52:19.732 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:52:19.732 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 学习中 ===
2025-07-11 15:52:19.732 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 📚 ===
2025-07-11 15:52:19.753 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:52:19.757 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:52:19.757 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "学习中", "emoji": "📚", "updatedAt": "2025-07-11T15:52:02.776628400"} ===
2025-07-11 15:52:19.757 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=学习中, emoji=📚, updatedAt=2025-07-11T15:52:02.776628400} ===
2025-07-11 15:52:19.758 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:52:19.758 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 学习中 ===
2025-07-11 15:52:19.758 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 📚 ===
2025-07-11 15:52:21.551 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:52:21.555 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:52:21.555 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "学习中", "emoji": "📚", "updatedAt": "2025-07-11T15:52:02.776628400"} ===
2025-07-11 15:52:21.556 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=学习中, emoji=📚, updatedAt=2025-07-11T15:52:02.776628400} ===
2025-07-11 15:52:21.557 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:52:21.557 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 学习中 ===
2025-07-11 15:52:21.557 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 📚 ===
2025-07-11 15:52:39.393 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:52:39.397 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:52:39.398 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "学习中", "emoji": "📚", "updatedAt": "2025-07-11T15:52:02.776628400"} ===
2025-07-11 15:52:39.398 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=学习中, emoji=📚, updatedAt=2025-07-11T15:52:02.776628400} ===
2025-07-11 15:52:39.398 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:52:39.398 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 学习中 ===
2025-07-11 15:52:39.400 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 📚 ===
2025-07-11 15:53:05.203 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:53:05.206 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:53:05.207 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "学习中", "emoji": "📚", "updatedAt": "2025-07-11T15:52:02.776628400"} ===
2025-07-11 15:53:05.207 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=学习中, emoji=📚, updatedAt=2025-07-11T15:52:02.776628400} ===
2025-07-11 15:53:05.207 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:53:05.207 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 学习中 ===
2025-07-11 15:53:05.207 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 📚 ===
2025-07-11 15:53:08.926 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:53:08.928 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:53:08.928 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "学习中", "emoji": "📚", "updatedAt": "2025-07-11T15:52:02.776628400"} ===
2025-07-11 15:53:08.928 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=学习中, emoji=📚, updatedAt=2025-07-11T15:52:02.776628400} ===
2025-07-11 15:53:08.928 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:53:08.928 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 学习中 ===
2025-07-11 15:53:08.928 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 📚 ===
2025-07-11 15:53:21.249 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:53:21.253 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:53:21.253 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "学习中", "emoji": "📚", "updatedAt": "2025-07-11T15:52:02.776628400"} ===
2025-07-11 15:53:21.253 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=学习中, emoji=📚, updatedAt=2025-07-11T15:52:02.776628400} ===
2025-07-11 15:53:21.262 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:53:21.264 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 学习中 ===
2025-07-11 15:53:21.265 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 📚 ===
2025-07-11 15:53:28.658 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:53:28.663 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:53:29.625 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:53:29.629 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:53:29.653 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:53:29.656 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:53:29.657 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "学习中", "emoji": "😄OK啊", "updatedAt": "2025-07-11T15:53:28.663036200"} ===
2025-07-11 15:53:29.657 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=学习中, emoji=😄OK啊, updatedAt=2025-07-11T15:53:28.663036200} ===
2025-07-11 15:53:29.658 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:53:29.658 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 学习中 ===
2025-07-11 15:53:29.659 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 😄OK啊 ===
2025-07-11 15:53:29.684 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:53:29.688 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:53:29.726 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:53:29.730 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:53:29.731 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "学习中", "emoji": "😄OK啊", "updatedAt": "2025-07-11T15:53:29.687291900"} ===
2025-07-11 15:53:29.732 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=学习中, emoji=😄OK啊, updatedAt=2025-07-11T15:53:29.687291900} ===
2025-07-11 15:53:29.733 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:53:29.733 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 学习中 ===
2025-07-11 15:53:29.735 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 😄OK啊 ===
2025-07-11 15:53:31.482 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:53:31.486 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:53:31.486 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "学习中", "emoji": "😄OK啊", "updatedAt": "2025-07-11T15:53:29.687291900"} ===
2025-07-11 15:53:31.487 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=学习中, emoji=😄OK啊, updatedAt=2025-07-11T15:53:29.687291900} ===
2025-07-11 15:53:31.488 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:53:31.488 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 学习中 ===
2025-07-11 15:53:31.488 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 😄OK啊 ===
2025-07-11 15:53:38.927 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:53:38.930 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:53:38.930 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "学习中", "emoji": "😄OK啊", "updatedAt": "2025-07-11T15:53:29.687291900"} ===
2025-07-11 15:53:38.930 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=学习中, emoji=😄OK啊, updatedAt=2025-07-11T15:53:29.687291900} ===
2025-07-11 15:53:38.931 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:53:38.932 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 学习中 ===
2025-07-11 15:53:38.932 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 😄OK啊 ===
2025-07-11 15:53:39.071 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:53:39.075 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:53:39.777 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:53:39.779 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:53:39.799 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:53:39.801 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:53:39.801 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "会议中", "emoji": "📞", "updatedAt": "2025-07-11T15:53:39.074857600"} ===
2025-07-11 15:53:39.802 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=会议中, emoji=📞, updatedAt=2025-07-11T15:53:39.074857600} ===
2025-07-11 15:53:39.802 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:53:39.802 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 会议中 ===
2025-07-11 15:53:39.804 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 📞 ===
2025-07-11 15:53:39.827 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:53:39.832 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:53:39.862 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:53:39.865 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:53:39.865 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "会议中", "emoji": "📞", "updatedAt": "2025-07-11T15:53:39.831486300"} ===
2025-07-11 15:53:39.866 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=会议中, emoji=📞, updatedAt=2025-07-11T15:53:39.831486300} ===
2025-07-11 15:53:39.867 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:53:39.867 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 会议中 ===
2025-07-11 15:53:39.867 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 📞 ===
2025-07-11 15:54:03.576 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:54:03.579 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:54:03.579 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "会议中", "emoji": "📞", "updatedAt": "2025-07-11T15:53:39.831486300"} ===
2025-07-11 15:54:03.579 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=会议中, emoji=📞, updatedAt=2025-07-11T15:53:39.831486300} ===
2025-07-11 15:54:03.579 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:54:03.579 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 会议中 ===
2025-07-11 15:54:03.579 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 📞 ===
2025-07-11 15:54:04.326 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:54:04.328 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:54:04.328 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "会议中", "emoji": "📞", "updatedAt": "2025-07-11T15:53:39.831486300"} ===
2025-07-11 15:54:04.328 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=会议中, emoji=📞, updatedAt=2025-07-11T15:53:39.831486300} ===
2025-07-11 15:54:04.328 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:54:04.328 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 会议中 ===
2025-07-11 15:54:04.329 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 📞 ===
2025-07-11 15:54:07.269 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 清除用户状态，用户ID: 1
2025-07-11 15:54:07.271 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态清除成功，用户ID: 1
2025-07-11 15:54:08.931 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:54:08.935 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:54:08.936 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:54:08.936 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:54:14.075 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:54:14.078 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:54:14.702 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 15:54:14.704 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 15:54:14.728 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:54:14.731 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:54:14.733 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "看电影", "emoji": "🎬", "updatedAt": "2025-07-11T15:54:14.078778900"} ===
2025-07-11 15:54:14.733 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=看电影, emoji=🎬, updatedAt=2025-07-11T15:54:14.078778900} ===
2025-07-11 15:54:14.734 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:54:14.737 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 看电影 ===
2025-07-11 15:54:14.739 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🎬 ===
2025-07-11 15:54:14.771 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:54:14.775 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:54:14.810 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:54:14.814 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:54:14.814 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "看电影", "emoji": "🎬", "updatedAt": "2025-07-11T15:54:14.774651900"} ===
2025-07-11 15:54:14.815 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=看电影, emoji=🎬, updatedAt=2025-07-11T15:54:14.774651900} ===
2025-07-11 15:54:14.816 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:54:14.816 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 看电影 ===
2025-07-11 15:54:14.817 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🎬 ===
2025-07-11 15:54:16.135 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:54:16.139 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:54:16.139 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "看电影", "emoji": "🎬", "updatedAt": "2025-07-11T15:54:14.774651900"} ===
2025-07-11 15:54:16.140 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=看电影, emoji=🎬, updatedAt=2025-07-11T15:54:14.774651900} ===
2025-07-11 15:54:16.140 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 15:54:16.140 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 看电影 ===
2025-07-11 15:54:16.140 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🎬 ===
2025-07-11 15:54:33.939 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 清除用户状态，用户ID: 1
2025-07-11 15:54:33.942 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态清除成功，用户ID: 1
2025-07-11 15:54:35.843 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 清除用户状态，用户ID: 1
2025-07-11 15:54:35.846 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态清除成功，用户ID: 1
2025-07-11 15:54:38.942 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:54:38.949 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:54:38.949 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:54:38.950 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:54:54.141 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 15:54:54.144 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 15:55:02.388 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 清除用户状态，用户ID: 1
2025-07-11 15:55:02.390 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态清除成功，用户ID: 1
2025-07-11 15:55:06.430 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 清除用户状态，用户ID: 1
2025-07-11 15:55:06.434 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态清除成功，用户ID: 1
2025-07-11 15:55:08.936 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:55:08.939 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:55:08.939 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:55:08.940 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:55:26.672 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:55:26.674 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:55:26.674 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:55:26.674 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:55:39.388 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:55:39.393 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:55:39.393 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:55:39.394 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:56:09.376 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:56:09.378 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:56:09.378 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:56:09.378 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:56:59.382 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:56:59.384 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:56:59.384 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:56:59.384 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:57:59.392 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:57:59.395 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:57:59.396 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:57:59.396 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:58:59.381 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:58:59.384 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:58:59.384 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:58:59.384 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 15:59:59.379 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 15:59:59.382 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 15:59:59.383 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 15:59:59.383 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:00:00.013 [MessageBroker-11] INFO  c.i.i.u.s.DataConsistencyService - 开始执行数据一致性检查
2025-07-11 16:00:00.020 [MessageBroker-8] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 开始执行过期临时文件清理任务
2025-07-11 16:00:00.038 [MessageBroker-8] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 没有发现过期的临时文件
2025-07-11 16:00:00.117 [MessageBroker-11] INFO  c.i.i.u.s.DataConsistencyService - 数据一致性检查完成，发现 1 个不一致项
2025-07-11 16:00:00.117 [MessageBroker-11] INFO  c.i.i.u.t.DataConsistencyMonitorTask - 快速检查发现数据不一致: 1 个问题
2025-07-11 16:00:39.172 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:00:39.175 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:00:39.176 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:00:39.176 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:00:39.186 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:00:39.187 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:00:39.187 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:00:39.187 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:00:40.044 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 16:00:40.045 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 16:00:40.062 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:00:40.065 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:00:40.065 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:00:40.065 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:00:40.563 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 16:00:40.563 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 16:00:40.563 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 16:00:40.570 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 16:00:40.571 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 16:00:40.571 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 16:00:40.571 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 16:00:40.571 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 16:00:40.571 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 16:00:40.571 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 16:00:40.571 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 16:00:40.571 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 16:00:40.571 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 16:00:40.571 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 16:00:40.572 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 16:00:40.580 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 16:00:40.580 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 16:00:40.580 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 16:00:40.580 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:00:40.580 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 16:00:40.580 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 16:00:40.580 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 16:00:40.581 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 16:00:40.581 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:00:40.581 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:00:40.581 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:00:40.581 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:00:40.581 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 16:00:40.585 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 16:00:40.586 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 16:00:40.586 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 16:00:41.664 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:00:41.666 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:00:41.666 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:00:41.666 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:01:01.408 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 16:01:01.412 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 16:01:05.913 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 16:01:05.917 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置状态过期时间: 2025-07-11T08:01:35.900
2025-07-11 16:01:05.918 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 16:01:06.881 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 16:01:06.884 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 16:01:06.906 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:01:06.910 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:01:06.910 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "晕了", "emoji": "🤑", "expiresAt": "2025-07-11T08:01:35.900", "updatedAt": "2025-07-11T16:01:05.918175"} ===
2025-07-11 16:01:06.910 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=晕了, emoji=🤑, expiresAt=2025-07-11T08:01:35.900, updatedAt=2025-07-11T16:01:05.918175} ===
2025-07-11 16:01:06.911 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 16:01:06.911 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 晕了 ===
2025-07-11 16:01:06.912 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🤑 ===
2025-07-11 16:01:06.932 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 1
2025-07-11 16:01:06.934 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置状态过期时间: 2025-07-11T08:01:36.918
2025-07-11 16:01:06.935 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 1
2025-07-11 16:01:06.963 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:01:06.967 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:01:06.973 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "晕了", "emoji": "🤑", "expiresAt": "2025-07-11T08:01:36.918", "updatedAt": "2025-07-11T16:01:06.934765200"} ===
2025-07-11 16:01:06.975 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=晕了, emoji=🤑, expiresAt=2025-07-11T08:01:36.918, updatedAt=2025-07-11T16:01:06.934765200} ===
2025-07-11 16:01:06.976 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 16:01:06.976 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 晕了 ===
2025-07-11 16:01:06.977 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🤑 ===
2025-07-11 16:01:10.077 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:01:10.081 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:01:10.082 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "晕了", "emoji": "🤑", "expiresAt": "2025-07-11T08:01:36.918", "updatedAt": "2025-07-11T16:01:06.934765200"} ===
2025-07-11 16:01:10.083 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=晕了, emoji=🤑, expiresAt=2025-07-11T08:01:36.918, updatedAt=2025-07-11T16:01:06.934765200} ===
2025-07-11 16:01:10.083 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, expiresAt, updatedAt] ===
2025-07-11 16:01:10.083 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 晕了 ===
2025-07-11 16:01:10.084 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🤑 ===
2025-07-11 16:01:35.669 [MessageBroker-1] INFO  c.i.i.u.task.UserStatusCleanupTask - 清除用户过期状态，用户ID: 1
2025-07-11 16:01:35.670 [MessageBroker-1] INFO  c.i.i.u.task.UserStatusCleanupTask - 状态过期清理任务完成，清理了 1 个过期状态
2025-07-11 16:01:40.084 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:01:40.087 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:01:40.088 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:01:40.089 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:02:10.078 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:02:10.080 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:02:10.081 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:02:10.081 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:02:40.082 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:02:40.085 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:02:40.085 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:02:40.085 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:03:10.084 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:03:10.090 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:03:10.090 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:03:10.091 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:03:40.389 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:03:40.391 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:03:40.391 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:03:40.391 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:04:10.400 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:04:10.402 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:04:10.402 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:04:10.402 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:04:59.402 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:04:59.405 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:04:59.406 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:04:59.406 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:05:52.413 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:05:52.414 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:05:52.414 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:05:52.415 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:05:52.430 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:05:52.433 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:05:52.433 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:05:52.433 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:05:52.910 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:05:52.914 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:05:52.915 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:05:52.915 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:05:58.873 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:05:58.876 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:05:58.877 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:05:58.877 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:06:01.192 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:06:01.194 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:06:01.195 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:06:01.195 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:06:08.260 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:06:08.263 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:06:08.264 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:06:08.264 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:06:10.081 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:06:10.083 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:06:10.084 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:06:10.085 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:06:17.546 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:06:17.549 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:06:17.549 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:06:17.549 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:06:30.412 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:06:30.414 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:06:30.414 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:06:30.415 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:06:32.587 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:06:32.589 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:06:32.589 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:06:32.590 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:06:40.418 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:06:40.421 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:06:40.422 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:06:40.422 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:07:10.390 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:07:10.393 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:07:10.394 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:07:10.394 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:07:57.065 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:07:57.068 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:07:57.068 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:07:57.068 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:07:57.084 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:07:57.087 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:07:57.087 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:07:57.087 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:07:58.791 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:07:58.793 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:07:58.793 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:07:58.794 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:08:05.264 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:08:05.265 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:08:05.265 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:08:05.266 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:08:10.396 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:08:10.397 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:08:10.397 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:08:10.398 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:08:18.645 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:08:18.648 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:08:18.648 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:08:18.648 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:08:40.390 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:08:40.393 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:08:40.393 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:08:40.393 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:09:10.380 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:09:10.384 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:09:10.384 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:09:10.384 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:09:59.387 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:09:59.391 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:09:59.391 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:09:59.391 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:10:26.978 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:10:26.988 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:10:26.988 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:10:26.988 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:10:27.004 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:10:27.006 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:10:27.006 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:10:27.006 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:10:40.395 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:10:40.397 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:10:40.397 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:10:40.397 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:10:42.607 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:10:42.609 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:10:42.609 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:10:42.609 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:11:05.652 [MessageBroker-15] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 20, active threads = 2, queued tasks = 7, completed tasks = 65]
2025-07-11 16:11:10.381 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:11:10.383 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:11:10.383 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:11:10.383 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:11:22.940 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:11:22.942 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:11:22.942 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:11:22.942 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:11:40.395 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:11:40.399 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:11:40.399 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:11:40.399 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:12:10.387 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:12:10.390 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:12:10.390 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:12:10.390 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:12:59.384 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:12:59.386 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:12:59.386 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:12:59.387 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:13:59.386 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:13:59.389 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:13:59.389 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:13:59.389 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:29:24.698 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 16:29:24.781 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 31760 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 16:29:24.782 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 16:29:24.855 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 16:29:24.856 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 16:29:25.903 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 16:29:25.905 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 16:29:26.080 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 166 ms. Found 6 JPA repository interfaces.
2025-07-11 16:29:26.491 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 16:29:26.493 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 16:29:26.523 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 16:29:26.525 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 16:29:26.526 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 16:29:26.526 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 16:29:26.526 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 16:29:26.527 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 16:29:26.528 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-07-11 16:29:27.610 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 16:29:27.612 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 16:29:27.633 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 16:29:27.643 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 16:29:27.647 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 16:29:27.647 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 16:29:27.722 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 16:29:27.724 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2866 ms
2025-07-11 16:29:28.137 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 16:29:28.329 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1eae0c0
2025-07-11 16:29:28.330 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 16:29:28.423 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 16:29:28.534 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.060s)
2025-07-11 16:29:28.567 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 16:29:28.574 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 16:29:28.682 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 16:29:28.754 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 16:29:28.800 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 16:29:29.136 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 16:29:30.191 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 16:29:30.255 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 16:29:30.943 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 16:29:31.107 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 16:29:31.107 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 16:29:31.296 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 16:29:31.328 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 16:29:31.725 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 16:29:31.748 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 16:29:31.749 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 16:29:31.780 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 16:29:31.780 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 16:29:31.809 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 16:29:31.816 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 16:29:31.825 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 16:29:31.834 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 16:29:31.924 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 16:29:31.929 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 16:29:32.134 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 16:29:32.242 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 16:29:32.432 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 16:29:32.870 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 16:29:32.927 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 16:29:32.948 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 16:29:32.950 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 16:29:32.951 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6e78f4c4]]
2025-07-11 16:29:32.951 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 16:29:32.967 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 9.078 seconds (process running for 9.772)
2025-07-11 16:29:33.017 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 16:29:33.043 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 16:29:33.059 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 16:29:33.076 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 16:29:33.093 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 16:29:33.108 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 16:29:33.123 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 16:29:33.161 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 16:29:43.504 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 16:29:43.504 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 16:29:43.506 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 16:29:59.419 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:29:59.438 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:29:59.438 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:29:59.438 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:30:32.902 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 16:30:59.390 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:30:59.395 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:30:59.395 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:30:59.395 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:31:59.381 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:31:59.384 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:31:59.384 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:31:59.384 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:32:59.384 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:32:59.386 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:32:59.386 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:32:59.386 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:33:59.382 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:33:59.384 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:33:59.384 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:33:59.384 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:34:59.393 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:34:59.398 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:34:59.398 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:34:59.398 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:35:59.388 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:35:59.391 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:35:59.391 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:35:59.391 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:36:59.382 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:36:59.385 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:36:59.386 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:36:59.386 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:41:28.038 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:41:28.042 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:41:28.043 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:41:28.044 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:41:39.254 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 16:41:39.256 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 16:41:39.299 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:41:39.301 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:41:39.302 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:41:39.302 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:41:39.798 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 16:41:39.799 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 16:41:39.799 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 16:41:39.833 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 16:41:39.844 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 16:41:39.845 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 16:41:39.845 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 16:41:39.845 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:41:39.845 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 16:41:39.846 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 16:41:39.846 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 16:41:39.846 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 16:41:39.846 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 16:41:39.846 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 16:41:39.847 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 16:41:39.847 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 16:41:39.847 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:41:39.847 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 16:41:39.847 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:41:39.847 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 16:41:39.847 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:41:39.847 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:41:39.847 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 16:41:39.848 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 16:41:39.848 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 16:41:39.848 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 16:41:39.849 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 16:41:39.849 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 16:41:39.856 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 16:41:39.857 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 16:41:39.857 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 16:41:43.231 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 16:41:46.377 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 16:41:46.932 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 16:41:49.373 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线用户设备: userId=1, deviceId=1
2025-07-11 16:41:49.385 [http-nio-8080-exec-1] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新设备状态: userId=1, deviceType=Web, isActive=false
2025-07-11 16:41:49.435 [http-nio-8080-exec-1] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 设备状态已更新: deviceId=1, isActive=false
2025-07-11 16:41:49.435 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线用户设备: userId=1, deviceId=1, deviceType=Web
2025-07-11 16:41:49.465 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 16:41:52.146 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 16:41:52.149 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 16:41:52.177 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:41:52.180 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:41:52.180 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:41:52.181 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:41:52.688 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 16:41:52.689 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 16:41:52.689 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 16:41:52.702 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 16:41:52.703 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 16:41:52.704 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 16:41:52.705 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 16:41:52.705 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 16:41:52.706 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 16:41:52.706 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 16:41:52.707 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 16:41:52.708 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 16:41:52.708 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 16:41:52.709 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 16:41:52.709 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 16:41:52.730 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 16:41:52.730 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 16:41:52.731 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 16:41:52.731 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:41:52.732 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 16:41:52.733 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 16:41:52.733 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 16:41:52.734 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 16:41:52.734 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:41:52.735 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:41:52.735 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:41:52.736 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:41:52.737 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 16:41:52.746 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 16:41:52.747 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 16:41:52.748 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 16:41:54.133 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:41:54.136 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:41:54.137 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:41:54.137 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:41:56.722 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 16:41:58.553 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 16:41:59.441 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:41:59.444 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:41:59.444 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:41:59.444 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:42:03.865 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=1, currentDeviceType=web
2025-07-11 16:42:03.870 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=1, currentDeviceType=web
2025-07-11 16:42:03.897 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 16:42:05.697 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 16:42:05.699 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 16:42:05.729 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:42:05.733 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:42:05.733 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:42:05.733 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:42:06.244 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 16:42:06.245 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 16:42:06.245 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 16:42:06.256 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 16:42:06.258 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 16:42:06.259 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 16:42:06.260 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 16:42:06.260 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 16:42:06.260 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 16:42:06.261 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 16:42:06.261 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 16:42:06.262 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 16:42:06.263 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 16:42:06.264 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 16:42:06.268 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 16:42:06.282 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 16:42:06.284 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 16:42:06.284 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 16:42:06.286 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:42:06.286 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 16:42:06.286 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 16:42:06.286 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 16:42:06.287 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 16:42:06.287 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:42:06.287 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:42:06.288 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:42:06.288 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:42:06.289 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 16:42:06.296 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 16:42:06.297 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 16:42:06.298 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 16:42:12.009 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 16:42:12.893 [http-nio-8080-exec-5] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 16:42:12.894 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 16:42:12.895 [http-nio-8080-exec-5] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 16:42:12.901 [http-nio-8080-exec-5] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 16:42:12.922 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 16:42:12.923 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 16:42:14.524 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 16:42:14.526 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 16:42:14.553 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:42:14.556 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:42:14.556 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:42:14.556 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:42:15.057 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 16:42:15.057 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 16:42:15.058 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 16:42:15.066 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 16:42:15.067 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 16:42:15.068 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 16:42:15.068 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 16:42:15.068 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 16:42:15.068 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 16:42:15.069 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 16:42:15.070 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 16:42:15.070 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 16:42:15.071 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 16:42:15.071 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 16:42:15.071 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 16:42:15.081 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 16:42:15.081 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 16:42:15.082 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 16:42:15.083 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:42:15.083 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 16:42:15.083 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 16:42:15.083 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 16:42:15.083 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 16:42:15.084 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:42:15.084 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:42:15.084 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:42:15.084 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 16:42:15.085 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 16:42:15.091 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 16:42:15.091 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 16:42:15.092 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 16:42:16.687 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:42:16.691 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:42:16.691 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:42:16.691 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:42:18.463 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 16:42:44.559 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:42:44.565 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:42:44.566 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:42:44.566 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:42:59.397 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:42:59.403 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:42:59.403 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:42:59.404 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:43:14.569 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:43:14.574 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:43:14.574 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:43:14.574 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:43:44.578 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:43:44.586 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:43:44.587 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:43:44.588 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:43:59.391 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:43:59.396 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:43:59.396 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:43:59.396 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:44:14.589 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:44:14.592 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:44:14.594 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:44:14.596 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:44:44.580 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:44:44.584 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:44:44.585 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:44:44.586 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:44:59.397 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:44:59.402 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:44:59.403 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:44:59.403 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:45:14.574 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:45:14.582 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:45:14.583 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:45:14.583 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:45:44.573 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:45:44.577 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:45:44.578 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:45:44.578 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:45:59.398 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:45:59.400 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:45:59.400 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:45:59.401 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:46:14.560 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:46:14.564 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:46:14.565 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:46:14.565 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:46:44.567 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:46:44.571 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:46:44.572 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:46:44.573 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:46:59.386 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:46:59.388 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:46:59.388 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:46:59.388 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:47:14.566 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:47:14.571 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:47:14.571 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:47:14.571 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:47:45.386 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:47:45.389 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:47:45.389 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:47:45.389 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:47:59.384 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:47:59.387 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:47:59.387 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:47:59.387 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:48:15.376 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:48:15.379 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:48:15.379 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:48:15.379 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:48:59.382 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:48:59.384 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:48:59.384 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:48:59.385 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:48:59.403 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:48:59.406 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:48:59.407 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:48:59.407 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:49:59.390 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:49:59.393 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:49:59.393 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:49:59.393 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:49:59.420 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:49:59.423 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:49:59.424 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:49:59.424 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:50:59.389 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:50:59.392 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:50:59.392 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:50:59.392 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:50:59.418 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:50:59.423 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:50:59.423 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:50:59.424 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:51:59.401 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:51:59.405 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:51:59.405 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:51:59.406 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:51:59.432 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:51:59.435 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:51:59.435 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:51:59.436 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:52:59.407 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:52:59.412 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:52:59.413 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:52:59.413 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:52:59.439 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:52:59.441 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:52:59.442 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:52:59.442 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:53:59.395 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:53:59.399 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:53:59.399 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:53:59.400 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:53:59.419 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:53:59.422 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:53:59.422 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:53:59.422 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:54:59.381 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:54:59.383 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:54:59.384 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:54:59.384 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:54:59.402 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:54:59.404 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:54:59.404 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:54:59.405 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:55:59.392 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:55:59.395 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:55:59.395 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:55:59.395 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:55:59.414 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:55:59.417 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:55:59.417 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:55:59.417 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:56:59.388 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:56:59.393 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:56:59.394 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:56:59.395 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:56:59.421 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:56:59.425 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:56:59.425 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:56:59.425 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:57:59.383 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:57:59.385 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:57:59.385 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:57:59.385 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:57:59.405 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:57:59.408 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:57:59.408 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:57:59.408 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:58:59.388 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:58:59.392 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:58:59.392 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:58:59.392 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:58:59.415 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:58:59.417 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:58:59.418 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:58:59.419 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:59:59.391 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:59:59.396 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:59:59.397 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:59:59.397 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 16:59:59.423 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 16:59:59.426 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 16:59:59.426 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 16:59:59.426 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 17:00:00.016 [MessageBroker-15] INFO  c.i.i.u.s.DataConsistencyService - 开始执行数据一致性检查
2025-07-11 17:00:00.020 [MessageBroker-1] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 开始执行过期临时文件清理任务
2025-07-11 17:00:00.027 [MessageBroker-1] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 没有发现过期的临时文件
2025-07-11 17:00:00.101 [MessageBroker-15] INFO  c.i.i.u.s.DataConsistencyService - 数据一致性检查完成，发现 1 个不一致项
2025-07-11 17:00:00.101 [MessageBroker-15] INFO  c.i.i.u.t.DataConsistencyMonitorTask - 快速检查发现数据不一致: 1 个问题
2025-07-11 17:00:32.904 [MessageBroker-5] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 20, active threads = 1, queued tasks = 8, completed tasks = 65]
2025-07-11 17:00:59.387 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 17:00:59.390 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 17:00:59.390 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 17:00:59.391 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 17:00:59.410 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 17:00:59.413 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 17:00:59.413 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 17:00:59.414 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 17:01:59.385 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 17:01:59.388 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 17:01:59.388 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 17:01:59.388 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 17:01:59.406 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 17:01:59.410 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 17:01:59.410 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 17:01:59.411 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 17:02:59.395 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 17:02:59.400 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 17:02:59.403 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 17:02:59.403 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 17:02:59.421 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 17:02:59.424 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 17:02:59.424 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 17:02:59.425 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 17:03:59.393 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 17:03:59.395 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 17:03:59.396 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 17:03:59.396 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 17:03:59.412 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 17:03:59.414 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 17:03:59.414 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 17:03:59.414 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 17:04:59.393 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 17:04:59.396 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 17:04:59.396 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 17:04:59.396 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 17:04:59.415 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 17:04:59.418 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 17:04:59.418 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 17:04:59.418 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:55:40.599 [MessageBroker-5] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 20, active threads = 2, queued tasks = 7, completed tasks = 75]
2025-07-11 18:55:40.599 [MessageBroker-8] INFO  c.i.i.u.s.DataConsistencyService - 开始执行数据一致性检查
2025-07-11 18:55:40.632 [MessageBroker-4] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 开始执行过期临时文件清理任务
2025-07-11 18:55:40.648 [MessageBroker-4] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 没有发现过期的临时文件
2025-07-11 18:55:40.787 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:55:40.842 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:55:40.857 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:55:40.869 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:55:41.056 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:55:41.082 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:55:41.091 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:55:41.099 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:55:41.282 [MessageBroker-8] INFO  c.i.i.u.s.DataConsistencyService - 数据一致性检查完成，发现 11 个不一致项
2025-07-11 18:55:41.291 [MessageBroker-8] INFO  c.i.i.u.t.DataConsistencyMonitorTask - 快速检查发现数据不一致: 11 个问题
2025-07-11 18:55:45.526 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:55:45.529 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:55:45.529 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:55:45.530 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:55:45.552 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:55:45.554 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:55:45.554 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:55:45.554 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:55:53.344 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:55:53.354 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:55:53.354 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:55:53.354 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:55:56.933 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 18:55:57.507 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 18:55:58.187 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 18:55:58.633 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 18:55:59.186 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 18:55:59.784 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 18:56:01.161 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 18:56:02.966 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 18:56:02.969 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 18:56:02.995 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:56:02.997 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:56:02.998 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:56:02.998 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:56:03.496 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 18:56:03.496 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 18:56:03.498 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 18:56:03.507 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 18:56:03.508 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 18:56:03.510 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 18:56:03.511 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 18:56:03.511 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 18:56:03.511 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 18:56:03.512 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 18:56:03.512 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 18:56:03.513 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 18:56:03.514 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 18:56:03.514 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 18:56:03.515 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 18:56:03.522 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 18:56:03.522 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 18:56:03.522 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 18:56:03.523 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:56:03.523 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 18:56:03.523 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 18:56:03.523 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 18:56:03.523 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 18:56:03.523 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:56:03.524 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:56:03.524 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:56:03.524 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:56:03.524 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 18:56:03.531 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 18:56:03.531 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 18:56:03.532 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 18:56:05.561 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 18:56:12.912 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:56:12.914 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:56:12.914 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:56:12.915 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:56:18.408 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线用户设备: userId=1, deviceId=1
2025-07-11 18:56:18.408 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:56:18.412 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:56:18.412 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:56:18.412 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:56:18.414 [http-nio-8080-exec-7] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新设备状态: userId=1, deviceType=Web, isActive=false
2025-07-11 18:56:18.459 [http-nio-8080-exec-7] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 设备状态已更新: deviceId=1, isActive=false
2025-07-11 18:56:18.460 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线用户设备: userId=1, deviceId=1, deviceType=Web
2025-07-11 18:56:18.496 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 18:56:21.641 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:56:21.644 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:56:21.644 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:56:21.644 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:56:33.395 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:56:33.396 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:56:33.396 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:56:33.396 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:56:36.155 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:56:36.157 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:56:36.157 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:56:36.158 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:56:37.103 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 18:56:37.103 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 18:56:37.128 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:56:37.130 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:56:37.130 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:56:37.130 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:56:37.626 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 18:56:37.626 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 18:56:37.626 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 18:56:37.629 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 18:56:37.629 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 18:56:37.629 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 18:56:37.629 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 18:56:37.629 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 18:56:37.629 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 18:56:37.629 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 18:56:37.630 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 18:56:37.630 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 18:56:37.630 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 18:56:37.630 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 18:56:37.640 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 18:56:37.647 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 18:56:37.648 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 18:56:37.648 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 18:56:37.648 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:56:37.648 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 18:56:37.648 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 18:56:37.648 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 18:56:37.648 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 18:56:37.648 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:56:37.648 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:56:37.649 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:56:37.649 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:56:37.649 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 18:56:37.653 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 18:56:37.654 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 18:56:37.654 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 18:56:40.399 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:56:40.403 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:56:40.404 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:56:40.404 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:56:40.422 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:56:40.424 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:56:40.424 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:56:40.424 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:56:42.863 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:56:42.865 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:56:42.865 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:56:42.865 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:56:47.250 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 18:56:47.259 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 18:56:47.289 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:56:47.291 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:56:47.291 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:56:47.291 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:56:47.306 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:56:47.308 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:56:47.308 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:56:47.309 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:56:52.597 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:56:52.599 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:56:52.599 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:56:52.599 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:56:54.164 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 18:57:03.786 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:57:03.788 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:57:03.790 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:57:03.790 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:57:04.848 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:57:04.852 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:57:04.852 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:57:04.852 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:57:07.140 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:57:07.141 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:57:07.143 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:57:07.143 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:57:07.615 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 18:57:07.617 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 18:57:07.637 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:57:07.639 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:57:07.639 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:57:07.639 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:57:08.140 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 18:57:08.140 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 18:57:08.140 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 18:57:08.144 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 18:57:08.144 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 18:57:08.144 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 18:57:08.145 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 18:57:08.145 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 18:57:08.145 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 18:57:08.145 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 18:57:08.145 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 18:57:08.145 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 18:57:08.145 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 18:57:08.145 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 18:57:08.146 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 18:57:08.152 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 18:57:08.152 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 18:57:08.152 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 18:57:08.152 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:57:08.152 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 18:57:08.153 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 18:57:08.153 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 18:57:08.153 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 18:57:08.153 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:57:08.153 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:57:08.153 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:57:08.153 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:57:08.153 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 18:57:08.156 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 18:57:08.156 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 18:57:08.156 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 18:57:16.351 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:57:16.354 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:57:16.354 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:57:16.354 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:57:16.368 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:57:16.372 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:57:16.372 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:57:16.373 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:57:18.325 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:57:18.328 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:57:18.329 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:57:18.329 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:57:21.065 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 18:57:21.066 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 18:57:21.091 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:57:21.092 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:57:21.092 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:57:21.092 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:57:21.591 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 18:57:21.592 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 18:57:21.594 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 18:57:21.596 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 18:57:21.597 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 18:57:21.597 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 18:57:21.597 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 18:57:21.597 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 18:57:21.597 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 18:57:21.597 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 18:57:21.597 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 18:57:21.597 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 18:57:21.598 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 18:57:21.598 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 18:57:21.601 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 18:57:21.609 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 18:57:21.609 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 18:57:21.609 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 18:57:21.609 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:57:21.609 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 18:57:21.609 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 18:57:21.609 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 18:57:21.609 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 18:57:21.609 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:57:21.609 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:57:21.609 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:57:21.610 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:57:21.610 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 18:57:21.614 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 18:57:21.614 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 18:57:21.614 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 18:57:26.126 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 18:57:26.204 [http-nio-8080-exec-6] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 18:57:26.205 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 18:57:26.205 [http-nio-8080-exec-6] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 18:57:26.208 [http-nio-8080-exec-6] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 18:57:26.210 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 18:57:26.210 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 18:57:27.782 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 18:57:27.784 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 18:57:27.805 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:57:27.806 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:57:27.806 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:57:27.806 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:57:28.312 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 18:57:28.312 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 18:57:28.313 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 18:57:28.316 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 18:57:28.316 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 18:57:28.316 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 18:57:28.317 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 18:57:28.317 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 18:57:28.317 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 18:57:28.317 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 18:57:28.317 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 18:57:28.317 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 18:57:28.318 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 18:57:28.318 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 18:57:28.326 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 18:57:28.332 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 18:57:28.332 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 18:57:28.332 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 18:57:28.332 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:57:28.332 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 18:57:28.333 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 18:57:28.333 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 18:57:28.333 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 18:57:28.333 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:57:28.333 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:57:28.333 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:57:28.333 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 18:57:28.333 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 18:57:28.336 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 18:57:28.336 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 18:57:28.336 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 18:57:35.667 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:57:35.669 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:57:35.669 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:57:35.669 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:57:36.629 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 18:57:58.386 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:57:58.388 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:57:58.388 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:57:58.389 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:58:28.389 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:58:28.390 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:58:28.390 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:58:28.391 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:58:58.376 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:58:58.377 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:58:58.377 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:58:58.377 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:59:28.379 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:59:28.380 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:59:28.380 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:59:28.380 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 18:59:58.376 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 18:59:58.377 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 18:59:58.378 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 18:59:58.378 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:00:00.012 [MessageBroker-2] INFO  c.i.i.u.s.DataConsistencyService - 开始执行数据一致性检查
2025-07-11 19:00:00.016 [MessageBroker-14] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 开始执行过期临时文件清理任务
2025-07-11 19:00:00.025 [MessageBroker-14] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 没有发现过期的临时文件
2025-07-11 19:00:00.095 [MessageBroker-2] INFO  c.i.i.u.s.DataConsistencyService - 数据一致性检查完成，发现 1 个不一致项
2025-07-11 19:00:00.095 [MessageBroker-2] INFO  c.i.i.u.t.DataConsistencyMonitorTask - 快速检查发现数据不一致: 1 个问题
2025-07-11 19:00:22.991 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 5 class path changes (0 additions, 0 deletions, 5 modifications)
2025-07-11 19:00:23.009 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:00:23.010 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6e78f4c4]]
2025-07-11 19:00:23.010 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:00:23.014 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:00:23.337 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:00:23.345 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 19:00:23.348 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 19:00:23.518 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 31760 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:00:23.519 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:00:23.764 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:00:23.764 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:00:23.795 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 6 JPA repository interfaces.
2025-07-11 19:00:23.868 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:00:23.868 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:00:23.875 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:23.876 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:23.876 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:23.876 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:23.877 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:23.877 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:23.877 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-07-11 19:00:24.008 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:00:24.008 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:00:24.010 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:00:24.011 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:00:24.011 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:00:24.011 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:00:24.033 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:00:24.033 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 513 ms
2025-07-11 19:00:24.114 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-11 19:00:24.126 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1a612c0e
2025-07-11 19:00:24.126 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-11 19:00:24.146 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:00:24.183 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.019s)
2025-07-11 19:00:24.195 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:00:24.197 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:00:24.226 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:00:24.228 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:00:24.246 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:00:24.328 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:00:24.350 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:00:24.555 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:00:24.556 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:00:24.556 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:00:24.639 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:00:24.704 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:00:24.734 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:00:24.734 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:00:24.754 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:00:24.755 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:24.767 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:24.775 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:24.782 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:24.791 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:00:24.873 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:00:24.881 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:00:24.955 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:00:25.002 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:00:25.117 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:00:25.336 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:00:25.350 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:00:25.353 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:00:25.354 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:00:25.354 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7941f818]]
2025-07-11 19:00:25.354 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:00:25.364 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.875 seconds (process running for 9062.168)
2025-07-11 19:00:25.365 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:00:25.389 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:00:25.404 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:00:25.420 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:00:25.432 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:00:25.446 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:00:25.460 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:00:25.486 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:00:25.489 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:00:28.379 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 19:00:28.379 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 19:00:28.380 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 19:00:28.392 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:00:28.394 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:00:28.394 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:00:28.394 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:00:28.819 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-07-11 19:00:28.821 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:00:28.822 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7941f818]]
2025-07-11 19:00:28.822 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:00:28.822 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:00:29.114 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:00:29.115 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-07-11 19:00:29.117 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-07-11 19:00:29.219 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 31760 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:00:29.219 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:00:29.364 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:00:29.364 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:00:29.392 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2025-07-11 19:00:29.453 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:00:29.454 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:00:29.460 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:29.461 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:29.461 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:29.461 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:29.461 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:29.462 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:29.462 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-07-11 19:00:29.574 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:00:29.575 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:00:29.576 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:00:29.577 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:00:29.577 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:00:29.578 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:00:29.605 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:00:29.605 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 385 ms
2025-07-11 19:00:29.692 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-11 19:00:29.701 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3225142d
2025-07-11 19:00:29.701 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-11 19:00:29.724 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:00:29.755 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.015s)
2025-07-11 19:00:29.769 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:00:29.771 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:00:29.801 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:00:29.803 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:00:29.807 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:00:29.878 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:00:29.897 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:00:30.074 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:00:30.075 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:00:30.075 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:00:30.126 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:00:30.182 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:00:30.203 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:00:30.203 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:00:30.222 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:00:30.222 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:30.230 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:30.238 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:30.243 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:30.250 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:00:30.313 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:00:30.320 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:00:30.369 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:00:30.409 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:00:30.504 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:00:30.703 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:00:30.714 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:00:30.716 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:00:30.717 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:00:30.717 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7804227d]]
2025-07-11 19:00:30.717 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:00:30.725 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.526 seconds (process running for 9067.53)
2025-07-11 19:00:30.727 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:00:30.747 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:00:30.760 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:00:30.773 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:00:30.787 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:00:30.802 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:00:30.818 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:00:30.841 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:00:30.842 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:00:36.185 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:00:36.187 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:00:36.187 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7804227d]]
2025-07-11 19:00:36.187 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:00:36.187 [Thread-11] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:00:36.472 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:00:36.473 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-07-11 19:00:36.474 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-07-11 19:00:36.577 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 31760 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:00:36.578 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:00:36.729 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:00:36.729 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:00:36.757 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 6 JPA repository interfaces.
2025-07-11 19:00:36.813 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:00:36.813 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:00:36.821 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:36.821 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:36.822 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:36.822 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:36.822 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:36.823 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:36.823 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 19:00:36.931 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:00:36.932 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:00:36.932 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:00:36.933 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:00:36.933 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:00:36.933 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:00:37.032 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:00:37.032 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 453 ms
2025-07-11 19:00:37.120 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-07-11 19:00:37.130 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7da10a32
2025-07-11 19:00:37.130 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-07-11 19:00:37.145 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:00:37.168 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.011s)
2025-07-11 19:00:37.180 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:00:37.181 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:00:37.206 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:00:37.209 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:00:37.212 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:00:37.264 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:00:37.279 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:00:37.437 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:00:37.438 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:00:37.438 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:00:37.489 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:00:37.544 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:00:37.565 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:00:37.566 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:00:37.588 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:00:37.588 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:37.595 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:37.601 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:37.614 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:37.624 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:00:37.681 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:00:37.689 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:00:37.737 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:00:37.775 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:00:37.862 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:00:38.049 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:00:38.059 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:00:38.064 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:00:38.065 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:00:38.065 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3c80383f]]
2025-07-11 19:00:38.065 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:00:38.073 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.516 seconds (process running for 9074.877)
2025-07-11 19:00:38.074 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:00:38.089 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:00:38.101 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:00:38.113 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:00:38.123 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:00:38.136 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:00:38.148 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:00:38.172 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:00:38.173 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:00:42.531 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:00:42.534 [Thread-15] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:00:42.535 [Thread-15] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3c80383f]]
2025-07-11 19:00:42.535 [Thread-15] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:00:42.536 [Thread-15] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:00:42.889 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:00:42.890 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-07-11 19:00:42.893 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-07-11 19:00:43.049 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 31760 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:00:43.050 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:00:43.237 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:00:43.237 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:00:43.269 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 6 JPA repository interfaces.
2025-07-11 19:00:43.334 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:00:43.334 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:00:43.343 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:43.344 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:43.344 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:43.344 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:43.344 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:43.344 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:43.345 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 19:00:43.469 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:00:43.469 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:00:43.470 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:00:43.470 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:00:43.470 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:00:43.470 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:00:43.494 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:00:43.495 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 444 ms
2025-07-11 19:00:43.584 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-07-11 19:00:43.602 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@79993b3d
2025-07-11 19:00:43.603 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-07-11 19:00:43.661 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:00:43.701 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.024s)
2025-07-11 19:00:43.722 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:00:43.723 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:00:43.763 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:00:43.765 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:00:43.773 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:00:43.878 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:00:43.906 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:00:44.122 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:00:44.123 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:00:44.123 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:00:44.177 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:00:44.220 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:00:44.241 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:00:44.242 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:00:44.264 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:00:44.265 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:44.271 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:44.279 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:44.285 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:44.292 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:00:44.353 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:00:44.360 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:00:44.406 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:00:44.444 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:00:44.529 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:00:44.716 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:00:44.726 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:00:44.729 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:00:44.729 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:00:44.729 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5ef54d3b]]
2025-07-11 19:00:44.730 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:00:44.737 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.719 seconds (process running for 9081.542)
2025-07-11 19:00:44.737 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:00:44.751 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:00:44.761 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:00:44.773 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:00:44.783 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:00:44.801 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:00:44.813 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:00:44.832 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:00:44.834 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:00:47.873 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 19:00:47.873 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 19:00:47.875 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 19:00:51.227 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2025-07-11 19:00:51.229 [Thread-19] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:00:51.229 [Thread-19] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5ef54d3b]]
2025-07-11 19:00:51.229 [Thread-19] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:00:51.231 [Thread-19] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:00:51.547 [Thread-19] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:00:51.548 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-07-11 19:00:51.549 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-07-11 19:00:51.727 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 31760 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:00:51.727 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:00:51.904 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:00:51.904 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:00:51.936 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 6 JPA repository interfaces.
2025-07-11 19:00:52.007 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:00:52.008 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:00:52.017 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:52.018 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:52.018 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:52.018 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:52.018 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:52.018 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:00:52.018 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-07-11 19:00:52.156 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:00:52.157 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:00:52.158 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:00:52.158 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:00:52.159 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:00:52.159 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:00:52.183 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:00:52.183 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 455 ms
2025-07-11 19:00:52.258 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-07-11 19:00:52.267 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4eea6c89
2025-07-11 19:00:52.267 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-07-11 19:00:52.295 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:00:52.319 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.014s)
2025-07-11 19:00:52.334 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:00:52.336 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:00:52.362 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:00:52.364 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:00:52.369 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:00:52.435 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:00:52.623 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:00:52.803 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:00:52.804 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:00:52.804 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:00:52.868 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:00:52.917 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:00:52.942 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:00:52.942 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:00:52.961 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:00:52.961 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:52.967 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:52.972 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:52.978 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:00:52.983 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:00:53.048 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:00:53.054 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:00:53.112 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:00:53.157 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:00:53.252 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:00:53.480 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:00:53.491 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:00:53.494 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:00:53.494 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:00:53.494 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@52ae3680]]
2025-07-11 19:00:53.495 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:00:53.504 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.805 seconds (process running for 9090.308)
2025-07-11 19:00:53.505 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:00:53.521 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:00:53.532 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:00:53.542 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:00:53.553 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:00:53.564 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:00:53.574 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:00:53.594 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:00:53.595 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:00:58.376 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 19:00:58.376 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 19:00:58.378 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 19:00:58.405 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:00:58.410 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:00:58.410 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:00:58.410 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:01:11.169 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:01:11.171 [Thread-23] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:01:11.171 [Thread-23] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@52ae3680]]
2025-07-11 19:01:11.172 [Thread-23] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:01:11.172 [Thread-23] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:01:11.470 [Thread-23] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:01:11.471 [Thread-23] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-07-11 19:01:11.472 [Thread-23] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-07-11 19:01:11.586 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 31760 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:01:11.586 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:01:11.753 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:01:11.753 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:01:11.780 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2025-07-11 19:01:11.838 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:01:11.838 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:01:11.845 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:11.846 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:11.846 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:11.846 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:11.846 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:11.846 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:11.846 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-07-11 19:01:11.950 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:01:11.950 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:01:11.951 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:01:11.951 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:01:11.951 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:01:11.951 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:01:11.974 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:01:11.974 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 387 ms
2025-07-11 19:01:12.048 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-07-11 19:01:12.060 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6a054e72
2025-07-11 19:01:12.060 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-07-11 19:01:12.066 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:01:12.090 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.013s)
2025-07-11 19:01:12.102 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:01:12.103 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:01:12.129 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:01:12.130 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:01:12.134 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:01:12.202 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:01:12.213 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:01:12.377 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:01:12.378 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:01:12.378 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:01:12.430 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:01:12.485 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:01:12.507 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:01:12.507 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:01:12.526 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:01:12.526 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:01:12.532 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:01:12.538 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:01:12.544 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:01:12.549 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:01:12.615 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:01:12.621 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:01:12.671 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:01:12.720 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:01:12.813 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:01:13.024 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:01:13.034 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:01:13.039 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:01:13.039 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:01:13.039 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@281e918d]]
2025-07-11 19:01:13.039 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:01:13.046 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.48 seconds (process running for 9109.851)
2025-07-11 19:01:13.048 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:01:13.059 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:01:13.071 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:01:13.081 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:01:13.090 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:01:13.101 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:01:13.113 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:01:13.128 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:01:13.129 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:01:17.501 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-07-11 19:01:17.505 [Thread-27] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:01:17.506 [Thread-27] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@281e918d]]
2025-07-11 19:01:17.506 [Thread-27] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:01:17.506 [Thread-27] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:01:17.746 [Thread-27] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:01:17.747 [Thread-27] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-07-11 19:01:17.748 [Thread-27] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-07-11 19:01:17.919 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 31760 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:01:17.919 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:01:18.118 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:01:18.118 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:01:18.155 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 6 JPA repository interfaces.
2025-07-11 19:01:18.225 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:01:18.225 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:01:18.235 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:18.236 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:18.236 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:18.237 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:18.237 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:18.237 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:18.237 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-07-11 19:01:18.356 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:01:18.357 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:01:18.357 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:01:18.358 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:01:18.358 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:01:18.358 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:01:18.384 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:01:18.385 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 465 ms
2025-07-11 19:01:18.427 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 19:01:18.510 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 19:01:27.154 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 31760 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:01:27.154 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:01:27.538 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:01:27.538 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:01:27.610 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 70 ms. Found 6 JPA repository interfaces.
2025-07-11 19:01:27.765 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:01:27.766 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:01:27.783 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:27.783 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:27.784 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:27.784 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:27.784 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:27.785 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:27.785 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2025-07-11 19:01:28.083 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:01:28.087 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:01:28.088 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:01:28.089 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:01:28.089 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:01:28.090 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:01:28.136 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:01:28.136 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 980 ms
2025-07-11 19:01:28.262 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Starting...
2025-07-11 19:01:28.276 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a321da5
2025-07-11 19:01:28.276 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Start completed.
2025-07-11 19:01:28.292 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:01:28.327 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.019s)
2025-07-11 19:01:28.346 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:01:28.348 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:01:28.397 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:01:28.400 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:01:28.407 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:01:28.523 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:01:28.559 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:01:28.966 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:01:28.968 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:01:28.969 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:01:29.044 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:01:29.106 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:01:29.133 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:01:29.134 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:01:29.158 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:01:29.159 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:01:29.168 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:01:29.174 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:01:29.183 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:01:29.192 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:01:29.277 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:01:29.287 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:01:29.363 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:01:29.409 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:01:29.508 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:01:29.741 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:01:29.750 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:01:29.753 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:01:29.753 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:01:29.753 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@486cdf03]]
2025-07-11 19:01:29.753 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:01:29.760 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.638 seconds (process running for 9126.565)
2025-07-11 19:01:29.761 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:01:29.773 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:01:29.784 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:01:29.797 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:01:29.810 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:01:29.824 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:01:29.835 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:01:29.864 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:01:29.865 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:01:42.568 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:01:42.572 [Thread-31] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:01:42.572 [Thread-31] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@486cdf03]]
2025-07-11 19:01:42.573 [Thread-31] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:01:42.573 [Thread-31] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:01:43.662 [Thread-31] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:01:43.663 [Thread-31] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
2025-07-11 19:01:43.669 [Thread-31] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
2025-07-11 19:01:43.979 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 31760 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:01:43.980 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:01:44.172 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:01:44.172 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:01:44.198 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2025-07-11 19:01:44.259 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:01:44.259 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:01:44.268 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:44.268 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:44.268 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:44.269 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:44.269 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:44.269 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:01:44.269 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 19:01:44.376 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:01:44.377 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:01:44.377 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:01:44.378 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:01:44.378 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:01:44.378 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:01:44.400 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:01:44.400 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 417 ms
2025-07-11 19:01:44.465 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Starting...
2025-07-11 19:01:44.474 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@640c8649
2025-07-11 19:01:44.474 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Start completed.
2025-07-11 19:01:44.484 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:01:44.505 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.012s)
2025-07-11 19:01:44.517 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:01:44.518 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:01:44.544 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:01:44.546 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:01:44.550 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:01:44.606 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:01:44.620 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:01:44.784 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:01:44.784 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:01:44.785 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:01:44.822 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:01:44.867 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:01:44.884 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:01:44.885 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:01:44.906 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:01:44.907 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:01:44.914 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:01:44.919 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:01:44.924 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:01:44.928 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:01:44.992 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:01:44.997 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:01:45.042 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:01:45.080 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:01:45.163 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:01:45.338 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:01:45.347 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:01:45.357 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:01:45.357 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:01:45.357 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@48b69aa1]]
2025-07-11 19:01:45.357 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:01:45.364 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.427 seconds (process running for 9142.169)
2025-07-11 19:01:45.365 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:01:45.377 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:01:45.387 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:01:45.397 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:01:45.408 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:01:45.419 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:01:45.430 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:01:45.446 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:01:45.447 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:01:47.870 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 19:01:47.870 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 19:01:47.872 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 19:01:59.396 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:01:59.401 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:01:59.401 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:01:59.402 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:02:00.225 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:02:00.228 [Thread-38] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:02:00.229 [Thread-38] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@48b69aa1]]
2025-07-11 19:02:00.229 [Thread-38] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:02:00.229 [Thread-38] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:02:00.559 [Thread-38] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:02:00.560 [Thread-38] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown initiated...
2025-07-11 19:02:00.562 [Thread-38] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown completed.
2025-07-11 19:02:00.781 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 31760 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:02:00.782 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:02:01.049 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:02:01.050 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:02:01.090 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 6 JPA repository interfaces.
2025-07-11 19:02:01.171 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:02:01.172 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:02:01.183 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:02:01.184 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:02:01.184 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:02:01.184 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:02:01.185 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:02:01.185 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:02:01.186 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-07-11 19:02:01.379 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:02:01.380 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:02:01.381 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:02:01.381 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:02:01.382 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:02:01.382 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:02:01.424 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:02:01.425 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 640 ms
2025-07-11 19:02:01.541 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Starting...
2025-07-11 19:02:01.556 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-10 - Added connection com.mysql.cj.jdbc.ConnectionImpl@67365cf8
2025-07-11 19:02:01.557 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Start completed.
2025-07-11 19:02:01.565 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:02:01.592 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.014s)
2025-07-11 19:02:01.612 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:02:01.613 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:02:01.659 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:02:01.663 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:02:01.674 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:02:01.788 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:02:01.809 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:02:02.115 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:02:02.116 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:02:02.116 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:02:02.169 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:02:02.220 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:02:02.251 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:02:02.252 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:02:02.289 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:02:02.289 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:02:02.296 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:02:02.302 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:02:02.308 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:02:02.313 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:02:02.388 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:02:02.395 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:02:02.450 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:02:02.493 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:02:02.617 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:02:02.818 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:02:02.827 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:02:02.830 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:02:02.830 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:02:02.830 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2e77fb51]]
2025-07-11 19:02:02.831 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:02:02.838 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.104 seconds (process running for 9159.642)
2025-07-11 19:02:02.838 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:02:02.851 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:02:02.863 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:02:02.873 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:02:02.884 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:02:02.896 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:02:02.908 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:02:02.927 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:02:02.928 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:02:47.869 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 19:02:47.870 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 19:02:47.872 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 19:02:59.385 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:02:59.388 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:02:59.388 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:02:59.388 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:03:02.826 [MessageBroker-3] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 19:03:14.698 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:03:14.698 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2e77fb51]]
2025-07-11 19:03:14.698 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:03:14.935 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:03:14.936 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown initiated...
2025-07-11 19:03:14.939 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown completed.
2025-07-11 19:03:29.527 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 19:03:29.576 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 12576 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:03:29.578 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:03:29.635 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 19:03:29.636 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 19:03:30.481 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:03:30.482 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:03:30.609 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 121 ms. Found 6 JPA repository interfaces.
2025-07-11 19:03:30.882 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:03:30.883 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:03:30.909 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:03:30.910 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:03:30.910 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:03:30.911 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:03:30.911 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:03:30.911 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:03:30.911 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-07-11 19:03:31.935 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:03:31.940 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:03:31.954 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:03:31.964 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:03:31.967 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:03:31.967 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:03:32.015 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:03:32.016 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2379 ms
2025-07-11 19:03:32.238 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 19:03:32.362 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@61bd3b42
2025-07-11 19:03:32.364 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 19:03:32.416 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:03:32.473 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.035s)
2025-07-11 19:03:32.492 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:03:32.497 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:03:32.573 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:03:32.629 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 19:03:32.661 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:03:32.901 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:03:33.666 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:03:33.755 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:03:34.479 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:03:34.649 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:03:34.649 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:03:34.828 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:03:34.861 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 19:03:35.283 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:03:35.310 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:03:35.310 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:03:35.340 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:03:35.341 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:03:35.377 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:03:35.387 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:03:35.397 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:03:35.410 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:03:35.500 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:03:35.507 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:03:35.623 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:03:35.732 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:03:35.908 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:03:36.382 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:03:36.432 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:03:36.455 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:03:36.456 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:03:36.457 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@686eb08e]]
2025-07-11 19:03:36.457 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:03:36.472 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 7.489 seconds (process running for 8.13)
2025-07-11 19:03:36.526 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:03:36.543 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:03:36.558 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:03:36.572 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:03:36.587 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:03:36.601 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:03:36.614 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:03:36.652 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:03:47.909 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 19:03:47.910 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 19:03:47.912 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 19:03:59.456 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:03:59.515 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:03:59.515 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:03:59.515 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:04:18.365 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:04:18.367 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:04:18.413 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:04:18.416 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:04:18.416 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:04:18.416 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:04:18.918 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:04:18.923 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:04:18.923 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:04:18.947 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:04:18.959 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:04:18.959 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:04:18.960 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:04:18.960 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:04:18.960 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:04:18.960 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:04:18.960 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:04:18.960 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:04:18.960 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:04:18.961 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:04:18.961 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:04:18.961 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:04:18.961 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:04:18.962 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:04:18.962 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:04:18.962 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:04:18.962 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:04:18.962 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:04:18.962 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:04:18.962 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:04:18.963 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:04:18.963 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:04:18.964 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:04:18.964 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:04:18.969 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:04:18.969 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:04:18.969 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:04:23.633 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:04:26.498 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线用户设备: userId=1, deviceId=1
2025-07-11 19:04:26.510 [http-nio-8080-exec-1] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新设备状态: userId=1, deviceType=Web, isActive=false
2025-07-11 19:04:26.563 [http-nio-8080-exec-1] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 设备状态已更新: deviceId=1, isActive=false
2025-07-11 19:04:26.563 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线用户设备: userId=1, deviceId=1, deviceType=Web
2025-07-11 19:04:26.600 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:04:31.883 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:04:36.430 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 19:04:43.982 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:04:43.984 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:04:44.029 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:04:44.034 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:04:44.034 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:04:44.034 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:04:44.526 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:04:44.530 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:04:44.531 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:04:44.538 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:04:44.538 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:04:44.540 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:04:44.544 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:04:44.544 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:04:44.545 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:04:44.546 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:04:44.546 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:04:44.549 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:04:44.549 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:04:44.549 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:04:44.550 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:04:44.565 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:04:44.566 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:04:44.566 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:04:44.566 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:04:44.566 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:04:44.567 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:04:44.567 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:04:44.567 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:04:44.567 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:04:44.567 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:04:44.568 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:04:44.568 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:04:44.569 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:04:44.577 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:04:44.577 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:04:44.578 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:04:46.911 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:04:52.011 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:04:52.015 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:04:52.064 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:04:52.067 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:04:52.067 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:04:52.067 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:04:52.253 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:04:52.255 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:04:52.292 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:04:52.295 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:04:52.295 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:04:52.295 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:04:52.788 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:04:52.788 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:04:52.789 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:04:52.798 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:04:52.804 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:04:52.804 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:04:52.805 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:04:52.805 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:04:52.806 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:04:52.806 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:04:52.807 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:04:52.807 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:04:52.808 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:04:52.808 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:04:52.808 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:04:52.813 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:04:52.814 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:04:52.814 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:04:52.814 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:04:52.815 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:04:52.815 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:04:52.815 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:04:52.815 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:04:52.815 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:04:52.815 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:04:52.816 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:04:52.816 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:04:52.816 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:04:52.825 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:04:52.826 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:04:52.826 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:04:54.064 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:04:54.067 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:04:54.067 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:04:54.067 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:04:57.943 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 19:04:57.950 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 19:04:57.991 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:04:57.995 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:04:57.996 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:04:57.996 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:04:58.024 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:04:58.027 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:04:58.028 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:04:58.028 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:05:22.395 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:05:22.400 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:05:22.400 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:05:22.400 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:05:52.411 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:05:52.414 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:05:52.414 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:05:52.414 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:06:22.394 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:06:22.396 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:06:22.397 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:06:22.397 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:06:52.392 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:06:52.395 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:06:52.395 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:06:52.395 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:07:22.376 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:07:22.378 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:07:22.379 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:07:22.379 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:07:52.383 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:07:52.386 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:07:52.386 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:07:52.386 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:08:22.400 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:08:22.404 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:08:22.404 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:08:22.405 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:08:59.396 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:08:59.400 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:08:59.400 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:08:59.401 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:09:59.392 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:09:59.398 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:09:59.398 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:09:59.398 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:10:59.407 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:10:59.415 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:10:59.416 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:10:59.416 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:11:59.389 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:11:59.393 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:11:59.393 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:11:59.393 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:12:59.379 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:12:59.383 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:12:59.384 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:12:59.384 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:13:59.385 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:13:59.390 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:13:59.390 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:13:59.391 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:14:59.379 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:14:59.382 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:14:59.382 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:14:59.382 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:15:59.394 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:15:59.398 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:15:59.398 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:15:59.398 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:16:59.384 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:16:59.386 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:16:59.386 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:16:59.386 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:17:25.626 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:17:25.629 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:17:25.629 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:17:25.629 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:17:25.645 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:17:25.648 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:17:25.648 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:17:25.648 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:17:26.946 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:17:26.947 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:17:26.966 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:17:26.969 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:17:26.969 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:17:26.969 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:17:27.466 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:17:27.468 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:17:27.468 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:17:27.476 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:17:27.477 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:17:27.477 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:17:27.477 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:17:27.477 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:17:27.477 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:17:27.477 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:17:27.477 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:17:27.478 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:17:27.478 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:17:27.478 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:17:27.478 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:17:27.487 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:17:27.487 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:17:27.487 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:17:27.487 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:17:27.487 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:17:27.487 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:17:27.487 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:17:27.487 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:17:27.487 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:17:27.487 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:17:27.488 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:17:27.488 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:17:27.488 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:17:27.493 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:17:27.493 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:17:27.493 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:17:32.522 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:17:35.560 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:17:36.660 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:17:36.661 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:17:36.691 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:17:36.694 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:17:36.694 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:17:36.694 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:17:37.204 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:17:37.205 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:17:37.206 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:17:37.217 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:17:37.219 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:17:37.220 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:17:37.221 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:17:37.221 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:17:37.222 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:17:37.224 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:17:37.225 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:17:37.226 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:17:37.227 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:17:37.228 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:17:37.230 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:17:37.240 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:17:37.240 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:17:37.241 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:17:37.241 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:17:37.242 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:17:37.242 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:17:37.242 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:17:37.243 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:17:37.244 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:17:37.244 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:17:37.245 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:17:37.246 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:17:37.246 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:17:37.254 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:17:37.254 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:17:37.255 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:17:38.457 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:17:38.461 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:17:38.461 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:17:38.461 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:17:42.121 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 1
2025-07-11 19:17:42.126 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 1
2025-07-11 19:17:42.186 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:17:42.189 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:17:42.190 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:17:42.191 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:17:42.217 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:17:42.220 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:17:42.220 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:17:42.221 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:17:44.212 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:17:44.214 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:17:44.247 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:17:44.250 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:17:44.250 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:17:44.251 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:17:44.755 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:17:44.756 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:17:44.756 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:17:44.762 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:17:44.763 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:17:44.763 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:17:44.764 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:17:44.764 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:17:44.765 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:17:44.765 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:17:44.765 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:17:44.766 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:17:44.766 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:17:44.767 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:17:44.767 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:17:44.782 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:17:44.783 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:17:44.784 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:17:44.784 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:17:44.785 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:17:44.785 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:17:44.785 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:17:44.785 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:17:44.785 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:17:44.786 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:17:44.787 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:17:44.787 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:17:44.787 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:17:44.794 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:17:44.795 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:17:44.795 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:17:56.456 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:17:56.458 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:17:56.459 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:17:56.459 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:18:01.247 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 19:18:02.014 [http-nio-8080-exec-5] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 19:18:02.016 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 19:18:02.017 [http-nio-8080-exec-5] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 19:18:02.024 [http-nio-8080-exec-5] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 19:18:02.054 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 19:18:02.054 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 19:18:03.661 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:18:03.663 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:18:03.708 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:18:03.714 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:18:03.714 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:18:03.714 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:18:04.196 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:18:04.196 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:18:04.199 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:18:04.205 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:18:04.205 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:18:04.205 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:18:04.205 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:18:04.205 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:18:04.206 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:18:04.206 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:18:04.206 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:18:04.207 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:18:04.207 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:18:04.207 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:18:04.208 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:18:04.220 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:18:04.220 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:18:04.221 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:18:04.221 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:04.221 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:18:04.221 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:18:04.221 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:18:04.221 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:18:04.222 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:04.222 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:04.222 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:04.223 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:04.223 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:18:04.229 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:18:04.232 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:18:04.233 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:18:07.378 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:18:09.408 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线用户设备: userId=1, deviceId=1
2025-07-11 19:18:09.412 [http-nio-8080-exec-1] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新设备状态: userId=1, deviceType=Web, isActive=false
2025-07-11 19:18:09.419 [http-nio-8080-exec-1] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 设备状态已更新: deviceId=1, isActive=false
2025-07-11 19:18:09.419 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线用户设备: userId=1, deviceId=1, deviceType=Web
2025-07-11 19:18:13.955 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 19:18:14.099 [http-nio-8080-exec-7] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 19:18:14.099 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 19:18:14.100 [http-nio-8080-exec-7] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 19:18:14.111 [http-nio-8080-exec-7] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 19:18:14.116 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 19:18:14.117 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 19:18:15.710 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:18:15.711 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:18:15.744 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:18:15.746 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:18:15.746 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:18:15.746 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:18:16.245 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:18:16.245 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:18:16.247 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:18:16.250 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:18:16.252 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:18:16.252 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:18:16.253 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:18:16.254 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:18:16.254 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:18:16.254 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:18:16.256 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:18:16.257 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:18:16.258 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:18:16.259 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:18:16.259 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:18:16.268 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:18:16.269 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:18:16.269 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:18:16.270 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:16.270 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:18:16.270 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:18:16.271 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:18:16.271 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:18:16.272 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:16.272 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:16.273 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:16.273 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:16.273 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:18:16.279 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:18:16.279 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:18:16.280 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:18:18.379 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:18:20.719 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:18:21.634 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:18:27.532 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线用户设备: userId=1, deviceId=1
2025-07-11 19:18:27.535 [http-nio-8080-exec-8] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新设备状态: userId=1, deviceType=Web, isActive=false
2025-07-11 19:18:27.544 [http-nio-8080-exec-8] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 设备状态已更新: deviceId=1, isActive=false
2025-07-11 19:18:27.545 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线用户设备: userId=1, deviceId=1, deviceType=Web
2025-07-11 19:18:31.580 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 19:18:31.719 [http-nio-8080-exec-10] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 19:18:31.719 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 19:18:31.719 [http-nio-8080-exec-10] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 19:18:31.724 [http-nio-8080-exec-10] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 19:18:31.726 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 19:18:31.727 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 19:18:33.312 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:18:33.313 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:18:33.354 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:18:33.359 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:18:33.359 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:18:33.359 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:18:33.847 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:18:33.848 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:18:33.847 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:18:33.852 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:18:33.853 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:18:33.854 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:18:33.854 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:18:33.854 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:18:33.855 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:18:33.855 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:18:33.856 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:18:33.856 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:18:33.857 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:18:33.857 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:18:33.857 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:18:33.869 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:18:33.871 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:18:33.871 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:18:33.871 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:33.871 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:18:33.871 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:18:33.872 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:18:33.872 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:18:33.872 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:33.872 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:33.872 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:33.873 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:33.873 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:18:33.879 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:18:33.879 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:18:33.880 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:18:36.475 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:18:39.888 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:18:41.299 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=1, currentDeviceType=web
2025-07-11 19:18:41.305 [http-nio-8080-exec-10] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新设备状态: userId=1, deviceType=Web, isActive=false
2025-07-11 19:18:41.321 [http-nio-8080-exec-10] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 设备状态已更新: deviceId=1, isActive=false
2025-07-11 19:18:41.322 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线设备: userId=1, deviceId=1, deviceType=Web
2025-07-11 19:18:41.323 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=1, currentDeviceType=web
2025-07-11 19:18:49.244 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 19:18:49.363 [http-nio-8080-exec-7] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 19:18:49.363 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 19:18:49.364 [http-nio-8080-exec-7] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 19:18:49.368 [http-nio-8080-exec-7] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 19:18:49.369 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 19:18:49.370 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 19:18:50.971 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:18:50.973 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:18:51.001 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:18:51.004 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:18:51.004 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:18:51.004 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:18:51.506 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:18:51.506 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:18:51.507 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:18:51.511 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:18:51.511 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:18:51.511 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:18:51.511 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:18:51.512 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:18:51.513 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:18:51.513 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:18:51.514 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:18:51.515 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:18:51.515 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:18:51.516 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:18:51.517 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:18:51.530 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:18:51.531 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:18:51.531 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:18:51.532 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:51.533 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:18:51.533 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:18:51.534 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:18:51.534 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:18:51.535 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:51.535 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:51.537 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:51.537 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:18:51.537 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:18:51.544 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:18:51.545 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:18:51.545 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:18:55.925 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:18:57.066 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:18:57.995 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:18:58.459 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:18:58.884 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:18:59.319 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:18:59.850 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:19:00.286 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:19:01.230 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:19:01.232 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:19:01.264 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:19:01.267 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:19:01.267 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:19:01.267 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:19:01.773 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:19:01.774 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:19:01.773 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:19:01.789 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:19:01.789 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:19:01.789 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:19:01.790 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:19:01.791 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:19:01.791 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:19:01.791 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:19:01.791 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:19:01.792 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:19:01.793 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:19:01.794 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:19:01.795 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:19:01.803 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:19:01.803 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:19:01.803 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:19:01.803 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:19:01.804 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:19:01.804 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:19:01.804 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:19:01.805 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:19:01.805 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:19:01.806 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:19:01.806 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:19:01.806 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:19:01.806 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:19:01.811 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:19:01.812 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:19:01.813 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:19:03.454 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:19:04.188 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:19:04.691 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:19:04.844 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:19:05.141 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:19:05.683 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:19:06.095 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:19:06.525 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:19:06.999 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:19:07.879 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:19:08.936 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:19:24.729 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线用户设备: userId=1, deviceId=1
2025-07-11 19:19:24.729 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:19:24.731 [http-nio-8080-exec-6] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新设备状态: userId=1, deviceType=Web, isActive=false
2025-07-11 19:19:24.731 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:19:24.731 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:19:24.731 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:19:24.737 [http-nio-8080-exec-6] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 设备状态已更新: deviceId=1, isActive=false
2025-07-11 19:19:24.737 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线用户设备: userId=1, deviceId=1, deviceType=Web
2025-07-11 19:19:32.717 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 19:19:32.790 [http-nio-8080-exec-9] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 19:19:32.791 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 19:19:32.791 [http-nio-8080-exec-9] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 19:19:32.794 [http-nio-8080-exec-9] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 19:19:32.796 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 19:19:32.796 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 19:19:34.511 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:19:34.513 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:19:34.540 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:19:34.542 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:19:34.543 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:19:34.543 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:19:35.392 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:19:35.392 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:19:35.392 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:19:35.399 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:19:35.400 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:19:35.400 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:19:35.400 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:19:35.400 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:19:35.400 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:19:35.400 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:19:35.400 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:19:35.400 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:19:35.400 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:19:35.400 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:19:35.407 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:19:35.417 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:19:35.417 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:19:35.417 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:19:35.417 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:19:35.417 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:19:35.417 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:19:35.417 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:19:35.418 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:19:35.418 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:19:35.418 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:19:35.418 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:19:35.418 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:19:35.418 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:19:35.421 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:19:35.422 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:19:35.422 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:19:41.902 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:19:41.904 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:19:41.904 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:19:41.904 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:19:44.445 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:20:05.388 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:20:05.390 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:20:05.390 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:20:05.390 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:20:27.804 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:20:27.806 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:20:27.806 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:20:27.806 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:20:28.546 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:20:28.961 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:20:29.783 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:20:31.413 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:20:31.414 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:20:31.414 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:20:31.414 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:20:34.566 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:20:34.568 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:20:34.568 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:20:34.568 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:20:53.942 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:20:53.943 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:20:53.943 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:20:53.944 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:20:55.293 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:21:05.385 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:21:05.386 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:21:05.386 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:21:05.387 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:21:13.120 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:21:13.122 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:21:13.122 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:21:13.123 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:21:14.459 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:21:14.932 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:21:15.309 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:21:35.403 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:21:35.405 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:21:35.405 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:21:35.405 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:22:05.398 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:22:05.403 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:22:05.403 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:22:05.403 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:22:35.390 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:22:35.391 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:22:35.391 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:22:35.391 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:23:05.441 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:23:05.443 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:23:05.444 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:23:05.444 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:23:09.863 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:23:09.866 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:23:09.866 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:23:09.866 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:23:12.828 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线用户设备: userId=1, deviceId=1
2025-07-11 19:23:12.829 [http-nio-8080-exec-4] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新设备状态: userId=1, deviceType=Web, isActive=false
2025-07-11 19:23:12.838 [http-nio-8080-exec-4] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 设备状态已更新: deviceId=1, isActive=false
2025-07-11 19:23:12.838 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线用户设备: userId=1, deviceId=1, deviceType=Web
2025-07-11 19:23:17.678 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 19:23:17.850 [http-nio-8080-exec-5] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 19:23:17.850 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 19:23:17.850 [http-nio-8080-exec-5] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 19:23:17.854 [http-nio-8080-exec-5] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 19:23:17.857 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 19:23:17.857 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 19:23:20.858 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:23:20.861 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:23:20.925 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:23:20.929 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:23:20.929 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:23:20.930 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:23:22.388 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:23:22.388 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:23:22.388 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:23:22.393 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:23:22.394 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:23:22.394 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:23:22.395 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:23:22.395 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:23:22.395 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:23:22.395 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:23:22.395 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:23:22.395 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:23:22.395 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:23:22.396 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:23:22.401 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:23:22.439 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:23:22.442 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:23:22.445 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:23:22.447 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:23:22.449 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:23:22.449 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:23:22.451 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:23:22.452 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:23:22.453 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:23:22.453 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:23:22.453 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:23:22.454 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:23:22.454 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:23:22.466 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:23:22.470 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:23:22.471 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:23:32.865 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:23:32.865 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@686eb08e]]
2025-07-11 19:23:32.866 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:23:33.188 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:23:33.196 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 19:23:33.205 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 19:23:53.404 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 19:23:53.462 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29908 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:23:53.463 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:23:53.517 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 19:23:53.517 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 19:23:54.340 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:23:54.342 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:23:54.523 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 171 ms. Found 6 JPA repository interfaces.
2025-07-11 19:23:54.927 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:23:54.930 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:23:54.985 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:23:54.985 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:23:54.986 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:23:54.987 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:23:54.988 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:23:54.989 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:23:54.989 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 0 Redis repository interfaces.
2025-07-11 19:23:56.602 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:23:56.607 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:23:56.628 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:23:56.639 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:23:56.642 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:23:56.643 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:23:56.700 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:23:56.702 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3183 ms
2025-07-11 19:23:56.994 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 19:23:57.147 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@27ecb21d
2025-07-11 19:23:57.149 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 19:23:57.239 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:23:57.321 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.044s)
2025-07-11 19:23:57.345 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:23:57.350 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:23:57.435 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:23:57.493 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 19:23:57.525 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:23:57.784 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:23:58.809 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:23:58.919 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:24:00.269 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:24:00.491 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:24:00.492 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:24:00.738 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:24:00.807 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 19:24:01.329 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:24:01.363 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:24:01.364 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:24:01.406 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:24:01.407 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:24:01.486 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:24:01.499 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:24:01.523 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:24:01.556 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:24:01.718 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:24:01.730 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:24:02.211 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:24:02.340 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:24:02.564 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:24:03.075 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:24:03.129 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:24:03.149 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:24:03.152 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:24:03.153 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6fc2f69c]]
2025-07-11 19:24:03.153 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:24:03.170 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 10.242 seconds (process running for 10.672)
2025-07-11 19:24:03.258 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:24:03.286 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:24:03.305 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:24:03.331 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:24:03.350 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:24:03.368 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:24:03.386 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:24:03.423 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:24:21.418 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 19:24:21.419 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 19:24:21.420 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 19:24:21.526 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:24:21.539 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:24:21.539 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:24:21.539 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:24:51.423 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:24:51.429 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:24:51.429 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:24:51.430 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:24:51.874 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:24:51.880 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:24:51.881 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:24:51.881 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:24:53.898 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:24:53.901 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:24:53.959 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:24:53.964 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:24:53.965 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:24:53.965 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:24:54.466 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:24:54.486 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:24:54.487 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:24:54.493 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:24:54.494 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:24:54.494 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:24:54.494 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:24:54.495 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:24:54.496 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:24:54.496 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:24:54.496 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:24:54.496 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:24:54.499 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:24:54.500 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:24:54.517 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:24:54.537 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:24:54.538 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:24:54.538 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:24:54.539 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:24:54.540 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:24:54.540 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:24:54.540 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:24:54.540 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:24:54.541 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:24:54.542 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:24:54.542 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:24:54.542 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:24:54.544 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:24:54.558 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:24:54.558 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:24:54.558 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:24:56.531 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:24:58.788 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:25:03.116 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 19:25:03.160 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:25:04.686 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:25:06.127 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:25:24.394 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:25:24.396 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:25:24.396 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:25:24.396 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:25:54.399 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:25:54.403 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:25:54.403 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:25:54.403 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:26:24.390 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:26:24.393 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:26:24.394 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:26:24.394 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:26:54.380 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:26:54.382 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:26:54.382 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:26:54.383 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:27:24.386 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:27:24.388 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:27:24.388 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:27:24.388 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:27:54.384 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:27:54.386 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:27:54.387 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:27:54.387 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:28:02.780 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:28:02.780 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6fc2f69c]]
2025-07-11 19:28:02.781 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:28:03.103 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:28:03.105 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 19:28:03.109 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 19:28:19.131 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 19:28:19.208 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:28:19.209 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:28:19.279 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 19:28:19.280 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 19:28:20.275 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:28:20.276 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:28:20.455 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 170 ms. Found 6 JPA repository interfaces.
2025-07-11 19:28:20.978 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:28:20.981 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:28:21.026 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:28:21.028 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:28:21.029 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:28:21.029 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:28:21.030 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:28:21.031 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:28:21.032 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
2025-07-11 19:28:22.545 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:28:22.547 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:28:22.551 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:28:22.559 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:28:22.562 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:28:22.562 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:28:22.611 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:28:22.612 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3330 ms
2025-07-11 19:28:22.869 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 19:28:22.985 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@234749d6
2025-07-11 19:28:22.987 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 19:28:23.047 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:28:23.117 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.043s)
2025-07-11 19:28:23.138 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:28:23.142 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:28:23.227 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:28:23.267 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 19:28:23.291 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:28:23.477 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:28:24.258 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:28:24.597 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:28:26.190 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:28:26.442 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:28:26.444 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:28:26.670 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:28:26.725 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 19:28:27.222 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:28:27.261 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:28:27.262 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:28:27.309 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:28:27.309 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:28:27.355 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:28:27.374 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:28:27.391 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:28:27.405 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:28:27.503 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:28:27.510 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:28:27.622 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:28:27.734 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:28:27.914 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:28:28.303 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:28:28.342 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:28:28.356 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:28:28.358 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:28:28.358 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5f08b1dc]]
2025-07-11 19:28:28.358 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:28:28.372 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 9.938 seconds (process running for 10.289)
2025-07-11 19:28:28.404 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:28:28.421 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:28:28.432 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:28:28.445 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:28:28.456 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:28:28.469 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:28:28.481 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:28:28.507 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:28:47.842 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 19:28:47.842 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 19:28:47.844 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 19:28:59.465 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:28:59.477 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:28:59.477 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:28:59.477 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:29:15.514 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:29:15.519 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:29:15.519 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:29:15.519 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:29:16.667 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:29:16.681 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:29:16.711 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:29:16.714 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:29:16.714 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:29:16.715 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:29:17.219 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:29:17.220 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:29:17.221 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:29:17.233 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:29:17.234 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:29:17.234 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:29:17.235 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:29:17.235 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:29:17.235 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:29:17.235 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:29:17.235 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:29:17.235 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:29:17.237 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:29:17.237 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:29:17.238 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:29:17.251 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:29:17.252 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:29:17.252 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:29:17.252 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:29:17.252 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:29:17.252 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:29:17.252 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:29:17.252 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:29:17.253 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:29:17.253 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:29:17.253 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:29:17.253 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:29:17.254 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:29:17.264 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:29:17.264 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:29:17.264 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:29:19.325 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:29:20.797 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:29:21.531 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:29:22.082 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:29:22.548 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:29:23.015 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:29:23.500 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:29:28.329 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 19:29:47.381 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:29:47.384 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:29:47.384 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:29:47.384 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:30:13.418 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:30:13.420 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:30:13.421 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:30:13.421 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:30:17.390 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:30:17.391 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:30:17.391 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:30:17.392 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:30:47.393 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:30:47.396 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:30:47.396 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:30:47.396 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:31:17.389 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:31:17.393 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:31:17.393 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:31:17.393 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:31:47.420 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:31:47.424 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:31:47.424 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:31:47.424 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:32:17.403 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:32:17.406 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:32:17.407 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:32:17.407 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:32:47.394 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:32:47.400 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:32:47.400 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:32:47.400 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:33:15.934 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:33:15.936 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:33:15.936 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:33:15.937 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:33:16.717 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:33:16.718 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:33:16.740 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:33:16.742 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:33:16.743 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:33:16.743 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:33:17.241 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:33:17.241 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:33:17.241 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:33:17.247 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:33:17.248 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:33:17.248 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:33:17.248 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:33:17.249 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:33:17.249 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:33:17.249 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:33:17.249 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:33:17.249 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:33:17.249 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:33:17.249 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:33:17.250 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:33:17.259 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:33:17.260 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:33:17.260 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:33:17.260 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:33:17.260 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:33:17.260 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:33:17.261 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:33:17.261 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:33:17.261 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:33:17.261 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:33:17.261 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:33:17.261 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:33:17.261 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:33:17.266 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:33:17.266 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:33:17.266 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:33:18.883 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:33:19.993 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:33:24.635 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:33:30.426 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:33:46.760 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:33:46.768 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:33:46.769 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:33:46.769 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:34:16.768 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:34:16.770 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:34:16.771 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:34:16.771 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:34:46.767 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:34:46.769 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:34:46.769 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:34:46.769 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:35:16.762 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:35:16.768 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:35:16.768 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:35:16.768 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:35:46.763 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:35:46.769 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:35:46.770 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:35:46.771 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:36:16.760 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:36:16.767 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:36:16.768 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:36:16.768 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:36:32.992 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:36:33.734 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:36:46.776 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:36:46.779 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:36:46.782 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:36:46.783 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:37:17.396 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:37:17.401 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:37:17.402 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:37:17.402 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:37:47.383 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:37:47.385 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:37:47.386 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:37:47.386 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:38:35.938 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:38:35.940 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:38:35.941 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:38:35.941 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:38:35.963 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:38:35.966 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:38:35.966 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:38:35.966 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:38:46.760 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:38:46.765 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:38:46.767 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:38:46.767 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:39:02.974 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:39:06.846 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:39:06.848 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:39:06.848 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:39:06.849 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:41:08.479 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:41:08.484 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:41:08.485 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:41:08.485 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:41:08.524 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:41:08.530 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:41:08.530 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:41:08.530 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:41:16.757 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:41:16.759 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:41:16.760 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:41:16.761 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:41:46.751 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:41:46.754 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:41:46.754 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:41:46.755 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:42:16.768 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:42:16.773 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:42:16.774 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:42:16.774 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:42:46.755 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:42:46.758 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:42:46.758 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:42:46.758 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:43:17.389 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:43:17.392 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:43:17.392 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:43:17.392 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:43:47.395 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:43:47.398 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:43:47.398 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:43:47.398 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:44:48.388 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:44:48.390 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:44:48.390 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:44:48.390 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:45:49.424 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:45:49.429 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:45:49.430 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:45:49.431 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:46:07.741 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:46:07.746 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:46:07.747 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:46:07.747 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:46:08.634 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:46:08.636 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:46:08.669 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:46:08.672 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:46:08.672 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:46:08.672 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:46:09.171 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:46:09.171 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:46:09.171 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:46:09.180 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:46:09.180 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:46:09.181 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:46:09.181 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:46:09.181 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:46:09.181 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:46:09.181 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:46:09.181 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:46:09.181 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:46:09.182 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:46:09.182 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:46:09.183 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:46:09.198 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:46:09.199 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:46:09.199 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:46:09.199 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:46:09.199 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:46:09.199 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:46:09.200 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:46:09.200 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:46:09.200 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:46:09.201 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:46:09.201 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:46:09.201 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:46:09.201 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:46:09.209 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:46:09.209 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:46:09.210 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:46:12.965 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:46:16.618 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线用户设备: userId=1, deviceId=1
2025-07-11 19:46:16.655 [http-nio-8080-exec-7] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新设备状态: userId=1, deviceType=Web, isActive=false
2025-07-11 19:46:16.782 [http-nio-8080-exec-7] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 设备状态已更新: deviceId=1, isActive=false
2025-07-11 19:46:16.782 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线用户设备: userId=1, deviceId=1, deviceType=Web
2025-07-11 19:46:20.705 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 19:46:21.782 [http-nio-8080-exec-1] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 19:46:21.782 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 19:46:21.783 [http-nio-8080-exec-1] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 19:46:21.788 [http-nio-8080-exec-1] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 19:46:21.802 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 19:46:21.803 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 19:46:23.412 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:46:23.414 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:46:23.463 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:46:23.468 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:46:23.468 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:46:23.469 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:46:23.959 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:46:23.964 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:46:23.967 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:46:23.978 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:46:23.981 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:46:23.982 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:46:23.982 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:46:23.983 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:46:23.983 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:46:23.984 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:46:23.984 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:46:23.985 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:46:23.986 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:46:23.986 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:46:23.987 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:46:24.008 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:46:24.009 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:46:24.009 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:46:24.009 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:46:24.010 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:46:24.010 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:46:24.010 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:46:24.011 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:46:24.011 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:46:24.012 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:46:24.012 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:46:24.013 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:46:24.013 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:46:24.021 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:46:24.022 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:46:24.022 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:46:26.931 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:46:32.733 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:46:41.372 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=1, currentDeviceType=web
2025-07-11 19:46:41.376 [http-nio-8080-exec-1] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新设备状态: userId=1, deviceType=Web, isActive=false
2025-07-11 19:46:41.389 [http-nio-8080-exec-1] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 设备状态已更新: deviceId=1, isActive=false
2025-07-11 19:46:41.391 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线设备: userId=1, deviceId=1, deviceType=Web
2025-07-11 19:46:41.392 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=1, currentDeviceType=web
2025-07-11 19:46:47.336 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 19:46:47.477 [http-nio-8080-exec-5] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 19:46:47.478 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 19:46:47.478 [http-nio-8080-exec-5] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 19:46:47.483 [http-nio-8080-exec-5] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 19:46:47.486 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 19:46:47.487 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 19:46:49.095 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:46:49.097 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:46:49.138 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:46:49.141 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:46:49.142 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:46:49.142 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:46:49.635 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:46:49.635 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:46:49.636 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:46:49.640 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:46:49.641 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:46:49.641 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:46:49.641 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:46:49.642 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:46:49.643 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:46:49.643 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:46:49.643 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:46:49.644 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:46:49.644 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:46:49.644 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:46:49.646 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:46:49.657 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:46:49.658 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:46:49.658 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:46:49.658 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:46:49.658 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:46:49.659 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:46:49.659 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:46:49.659 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:46:49.659 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:46:49.659 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:46:49.659 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:46:49.660 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:46:49.660 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:46:49.665 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:46:49.666 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:46:49.666 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:46:51.665 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:47:19.412 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:47:19.420 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:47:19.420 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:47:19.420 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:47:49.403 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:47:49.408 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:47:49.408 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:47:49.408 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:48:19.424 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:48:19.427 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:48:19.427 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:48:19.427 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:48:20.804 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:48:20.807 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:48:20.807 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:48:20.807 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:48:49.381 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:48:49.383 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:48:49.383 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:48:49.383 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:49:19.391 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:49:19.393 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:49:19.393 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:49:19.393 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:49:49.383 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:49:49.384 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:49:49.385 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:49:49.385 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:50:19.385 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:50:19.388 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:50:19.388 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:50:19.388 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:50:51.069 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:50:51.071 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:50:51.071 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:50:51.072 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:50:51.087 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:50:51.088 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:50:51.089 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:50:51.089 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:50:52.015 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:50:53.812 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:50:53.813 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:50:53.834 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:50:53.836 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:50:53.836 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:50:53.836 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:50:54.336 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:50:54.336 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:50:54.337 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:50:54.342 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:50:54.342 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:50:54.342 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:50:54.342 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:50:54.342 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:50:54.342 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:50:54.342 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:50:54.342 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:50:54.342 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:50:54.343 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:50:54.343 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:50:54.344 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:50:54.353 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:50:54.353 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:50:54.353 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:50:54.353 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:50:54.354 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:50:54.354 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:50:54.354 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:50:54.354 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:50:54.354 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:50:54.354 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:50:54.354 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:50:54.354 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:50:54.354 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:50:54.359 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:50:54.359 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:50:54.359 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:50:59.773 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:51:01.600 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:51:07.657 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=1, currentDeviceType=web
2025-07-11 19:51:07.662 [http-nio-8080-exec-9] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新设备状态: userId=1, deviceType=Web, isActive=false
2025-07-11 19:51:07.676 [http-nio-8080-exec-9] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 设备状态已更新: deviceId=1, isActive=false
2025-07-11 19:51:07.677 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线设备: userId=1, deviceId=1, deviceType=Web
2025-07-11 19:51:07.677 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=1, currentDeviceType=web
2025-07-11 19:51:13.980 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 19:51:14.127 [http-nio-8080-exec-8] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 19:51:14.128 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 19:51:14.129 [http-nio-8080-exec-8] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 19:51:14.136 [http-nio-8080-exec-8] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 19:51:14.143 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 19:51:14.143 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 19:51:15.737 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:51:15.739 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:51:15.768 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:51:15.771 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:51:15.771 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:51:15.771 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:51:16.266 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:51:16.270 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:51:16.271 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:51:16.271 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:51:16.271 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:51:16.271 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:51:16.271 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:51:16.271 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:51:16.272 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:51:16.272 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:51:16.272 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:51:16.273 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:51:16.273 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:51:16.273 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:51:16.278 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:51:16.296 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:51:16.296 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:51:16.296 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:51:16.296 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:51:16.297 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:51:16.297 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:51:16.297 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:51:16.297 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:51:16.297 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:51:16.297 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:51:16.298 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:51:16.298 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:51:16.298 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:51:16.302 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:51:16.303 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:51:16.303 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:51:19.853 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:51:21.885 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=1, currentDeviceType=web
2025-07-11 19:51:21.888 [http-nio-8080-exec-3] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新设备状态: userId=1, deviceType=Web, isActive=false
2025-07-11 19:51:21.893 [http-nio-8080-exec-3] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 设备状态已更新: deviceId=1, isActive=false
2025-07-11 19:51:21.893 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线设备: userId=1, deviceId=1, deviceType=Web
2025-07-11 19:51:21.893 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=1, currentDeviceType=web
2025-07-11 19:51:26.527 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 19:51:26.600 [http-nio-8080-exec-4] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 19:51:26.600 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 19:51:26.601 [http-nio-8080-exec-4] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 19:51:26.603 [http-nio-8080-exec-4] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=1
2025-07-11 19:51:26.605 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 19:51:26.605 [http-nio-8080-exec-4] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 19:51:28.176 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:51:28.178 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:51:28.203 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:51:28.205 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:51:28.205 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:51:28.205 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:51:28.709 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:51:28.709 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:51:28.713 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:51:28.715 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:51:28.715 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:51:28.716 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:51:28.716 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:51:28.716 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:51:28.716 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:51:28.716 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:51:28.716 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:51:28.716 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:51:28.716 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:51:28.716 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:51:28.716 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:51:28.722 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:51:28.723 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:51:28.723 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:51:28.723 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:51:28.723 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:51:28.723 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:51:28.724 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:51:28.724 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:51:28.724 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:51:28.724 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:51:28.724 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:51:28.724 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:51:28.724 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:51:28.727 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:51:28.727 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:51:28.727 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:51:58.374 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:51:58.375 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:51:58.375 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:51:58.375 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:52:28.406 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:52:28.407 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:52:28.407 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:52:28.407 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:52:58.400 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:52:58.404 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:52:58.405 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:52:58.405 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:53:28.396 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:53:28.398 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:53:28.398 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:53:28.398 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:53:58.387 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:53:58.388 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:53:58.388 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:53:58.388 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:54:28.383 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:54:28.386 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:54:28.386 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:54:28.386 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:54:54.704 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 5 class path changes (0 additions, 0 deletions, 5 modifications)
2025-07-11 19:54:54.714 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:54:54.714 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5f08b1dc]]
2025-07-11 19:54:54.714 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:54:54.716 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:54:55.099 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:54:55.202 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 19:54:55.255 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 19:54:55.552 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:54:55.553 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:54:55.726 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:54:55.726 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:54:55.754 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2025-07-11 19:54:55.824 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:54:55.824 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:54:55.832 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:54:55.833 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:54:55.833 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:54:55.833 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:54:55.833 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:54:55.834 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:54:55.834 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 19:54:55.965 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:54:55.966 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:54:55.967 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:54:55.967 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:54:55.968 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:54:55.968 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:54:55.987 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:54:55.987 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 433 ms
2025-07-11 19:54:56.058 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-11 19:54:56.074 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6e8e1e31
2025-07-11 19:54:56.075 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-11 19:54:56.111 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:54:56.151 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.021s)
2025-07-11 19:54:56.168 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:54:56.170 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:54:56.199 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:54:56.201 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:54:56.209 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:54:56.289 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:54:56.310 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:54:56.504 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:54:56.505 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:54:56.506 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:54:56.561 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:54:56.611 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:54:56.630 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:54:56.630 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:54:56.648 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:54:56.649 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:54:56.659 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:54:56.666 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:54:56.675 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:54:56.686 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:54:56.749 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:54:56.755 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:54:56.806 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:54:56.842 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:54:56.928 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:54:57.146 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:54:57.157 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:54:57.160 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:54:57.160 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:54:57.160 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@36ad8d37]]
2025-07-11 19:54:57.160 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:54:57.167 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.657 seconds (process running for 1599.084)
2025-07-11 19:54:57.167 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:54:57.183 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:54:57.194 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:54:57.205 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:54:57.217 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:54:57.227 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:54:57.238 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:54:57.259 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:54:57.261 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:54:58.375 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 19:54:58.375 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 19:54:58.376 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 19:54:58.409 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:54:58.411 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:54:58.411 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:54:58.411 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:55:01.665 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-07-11 19:55:01.667 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:55:01.667 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@36ad8d37]]
2025-07-11 19:55:01.667 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:55:01.667 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:55:01.905 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:55:01.905 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-07-11 19:55:01.907 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-07-11 19:55:02.023 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:55:02.024 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:55:02.174 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:55:02.174 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:55:02.203 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2025-07-11 19:55:02.261 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:55:02.263 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:55:02.270 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:02.271 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:02.271 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:02.271 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:02.271 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:02.272 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:02.272 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 19:55:02.386 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:55:02.386 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:55:02.387 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:55:02.387 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:55:02.388 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:55:02.388 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:55:02.413 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:55:02.413 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 388 ms
2025-07-11 19:55:02.492 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-11 19:55:02.501 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5ca1fb14
2025-07-11 19:55:02.501 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-11 19:55:02.538 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:55:02.567 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.014s)
2025-07-11 19:55:02.582 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:55:02.583 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:55:02.608 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:55:02.610 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:55:02.615 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:55:02.691 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:55:02.710 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:55:02.907 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:55:02.908 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:55:02.908 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:55:02.970 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:55:03.044 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:55:03.079 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:55:03.079 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:55:03.108 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:55:03.108 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:03.117 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:03.127 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:03.134 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:03.140 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:55:03.229 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:55:03.236 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:55:03.297 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:55:03.345 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:55:03.461 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:55:03.695 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:55:03.710 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:55:03.713 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:55:03.714 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:55:03.714 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4567d61a]]
2025-07-11 19:55:03.714 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:55:03.734 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.731 seconds (process running for 1605.651)
2025-07-11 19:55:03.736 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:55:03.750 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:55:03.763 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:55:03.776 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:55:03.788 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:55:03.799 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:55:03.811 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:55:03.840 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:55:03.841 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:55:19.508 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:55:19.510 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:55:19.510 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4567d61a]]
2025-07-11 19:55:19.510 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:55:19.511 [Thread-11] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:55:19.780 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:55:19.781 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-07-11 19:55:19.783 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-07-11 19:55:19.884 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:55:19.884 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:55:20.034 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:55:20.034 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:55:20.063 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 6 JPA repository interfaces.
2025-07-11 19:55:20.122 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:55:20.123 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:55:20.131 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:20.132 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:20.132 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:20.133 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:20.133 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:20.133 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:20.134 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 19:55:20.243 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:55:20.244 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:55:20.244 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:55:20.245 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:55:20.245 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:55:20.245 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:55:20.266 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:55:20.266 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 382 ms
2025-07-11 19:55:20.334 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-07-11 19:55:20.344 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3c2d6c9b
2025-07-11 19:55:20.345 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-07-11 19:55:20.381 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:55:20.411 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.014s)
2025-07-11 19:55:20.423 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:55:20.425 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:55:20.452 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:55:20.453 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:55:20.458 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:55:20.513 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:55:20.529 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:55:20.694 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:55:20.695 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:55:20.695 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:55:20.744 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:55:20.793 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:55:20.813 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:55:20.813 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:55:20.831 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:55:20.831 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:20.837 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:20.844 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:20.849 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:20.856 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:55:20.919 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:55:20.926 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:55:20.974 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:55:21.017 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:55:21.118 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:55:21.331 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:55:21.341 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:55:21.345 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:55:21.345 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:55:21.345 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@65558a1e]]
2025-07-11 19:55:21.345 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:55:21.352 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.488 seconds (process running for 1623.269)
2025-07-11 19:55:21.354 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:55:21.366 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:55:21.378 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:55:21.389 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:55:21.401 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:55:21.411 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:55:21.422 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:55:21.442 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:55:21.444 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:55:22.755 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:55:22.758 [Thread-15] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:55:22.758 [Thread-15] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@65558a1e]]
2025-07-11 19:55:22.759 [Thread-15] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:55:22.759 [Thread-15] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:55:23.096 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:55:23.097 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-07-11 19:55:23.098 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-07-11 19:55:23.297 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:55:23.298 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:55:23.574 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:55:23.574 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:55:23.619 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 6 JPA repository interfaces.
2025-07-11 19:55:23.709 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:55:23.709 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:55:23.722 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:23.723 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:23.723 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:23.723 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:23.723 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:23.723 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:23.723 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-07-11 19:55:23.889 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:55:23.889 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:55:23.892 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:55:23.892 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:55:23.892 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:55:23.892 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:55:23.916 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:55:23.916 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 616 ms
2025-07-11 19:55:23.984 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-07-11 19:55:23.992 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b27fa8
2025-07-11 19:55:23.992 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-07-11 19:55:24.049 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:55:24.081 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.017s)
2025-07-11 19:55:24.095 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:55:24.096 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:55:24.121 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:55:24.123 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:55:24.128 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:55:24.211 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:55:24.225 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:55:24.417 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:55:24.418 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:55:24.418 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:55:24.463 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:55:24.523 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:55:24.549 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:55:24.549 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:55:24.567 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:55:24.567 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:24.574 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:24.580 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:24.586 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:24.592 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:55:24.655 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:55:24.661 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:55:24.716 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:55:24.772 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:55:24.874 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:55:25.089 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:55:25.099 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:55:25.101 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:55:25.102 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:55:25.102 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5c43bd1b]]
2025-07-11 19:55:25.103 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:55:25.110 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.851 seconds (process running for 1627.027)
2025-07-11 19:55:25.111 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:55:25.123 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:55:25.135 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:55:25.147 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:55:25.158 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:55:25.170 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:55:25.201 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:55:25.222 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:55:25.223 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:55:46.844 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:55:46.848 [Thread-19] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:55:46.848 [Thread-19] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5c43bd1b]]
2025-07-11 19:55:46.849 [Thread-19] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:55:46.849 [Thread-19] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:55:47.820 [Thread-19] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:55:47.821 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-07-11 19:55:47.823 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-07-11 19:55:48.107 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:55:48.107 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:55:48.544 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:55:48.544 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:55:48.585 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 41 ms. Found 6 JPA repository interfaces.
2025-07-11 19:55:48.671 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:55:48.671 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:55:48.682 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:48.682 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:48.684 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:48.684 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:48.684 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:48.684 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:48.685 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-07-11 19:55:48.842 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:55:48.842 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:55:48.844 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:55:48.844 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:55:48.844 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:55:48.845 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:55:48.874 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:55:48.874 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 764 ms
2025-07-11 19:55:48.952 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-07-11 19:55:48.963 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@19588749
2025-07-11 19:55:48.963 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-07-11 19:55:48.972 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:55:48.994 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.009s)
2025-07-11 19:55:49.006 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:55:49.007 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:55:49.033 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:55:49.035 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:55:49.040 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:55:49.097 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:55:49.109 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:55:49.275 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:55:49.276 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:55:49.276 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:55:49.332 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:55:49.385 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:55:49.411 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:55:49.411 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:55:49.434 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:55:49.434 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:49.439 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:49.444 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:49.449 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:49.456 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:55:49.514 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:55:49.520 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:55:49.563 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:55:49.602 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:55:49.690 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:55:49.882 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:55:49.891 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:55:49.894 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:55:49.894 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:55:49.894 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@72ab71a5]]
2025-07-11 19:55:49.894 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:55:49.901 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.84 seconds (process running for 1651.818)
2025-07-11 19:55:49.902 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:55:50.012 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:55:50.025 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:55:50.034 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:55:50.044 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:55:50.055 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:55:50.066 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:55:50.085 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:55:50.086 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:55:51.306 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:55:51.308 [Thread-23] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:55:51.308 [Thread-23] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@72ab71a5]]
2025-07-11 19:55:51.308 [Thread-23] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:55:51.309 [Thread-23] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:55:51.662 [Thread-23] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:55:51.662 [Thread-23] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-07-11 19:55:51.666 [Thread-23] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-07-11 19:55:51.856 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:55:51.857 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:55:52.027 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:55:52.027 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:55:52.055 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2025-07-11 19:55:52.119 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:55:52.119 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:55:52.128 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:52.128 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:52.128 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:52.128 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:52.128 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:52.128 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:55:52.129 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 19:55:52.249 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:55:52.250 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:55:52.250 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:55:52.250 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:55:52.250 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:55:52.250 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:55:52.272 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:55:52.272 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 415 ms
2025-07-11 19:55:52.344 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-07-11 19:55:52.352 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@40996d1
2025-07-11 19:55:52.352 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-07-11 19:55:52.380 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:55:52.404 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.013s)
2025-07-11 19:55:52.421 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:55:52.422 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:55:52.454 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:55:52.456 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:55:52.464 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:55:52.552 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:55:52.571 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:55:52.767 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:55:52.769 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:55:52.769 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:55:52.814 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:55:52.869 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:55:52.907 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:55:52.907 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:55:52.948 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:55:52.948 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:52.960 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:52.969 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:52.978 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:55:52.991 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:55:53.175 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:55:53.192 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:55:53.318 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:55:53.417 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:55:53.640 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:55:54.113 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:55:54.133 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:55:54.138 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:55:54.139 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:55:54.139 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2dfa597c]]
2025-07-11 19:55:54.139 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:55:54.152 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.33 seconds (process running for 1656.069)
2025-07-11 19:55:54.155 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:55:54.174 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:55:54.192 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:55:54.207 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:55:54.221 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:55:54.236 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:55:54.253 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:55:54.283 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:55:54.285 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:55:59.381 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 19:55:59.381 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 19:55:59.383 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 19:55:59.424 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:55:59.429 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:55:59.429 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:55:59.429 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:56:00.708 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:56:00.710 [Thread-27] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:56:00.710 [Thread-27] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2dfa597c]]
2025-07-11 19:56:00.711 [Thread-27] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:56:00.712 [Thread-27] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:56:00.964 [Thread-27] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:56:00.965 [Thread-27] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-07-11 19:56:00.967 [Thread-27] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-07-11 19:56:01.107 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:56:01.108 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:56:01.282 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:56:01.282 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:56:01.313 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 6 JPA repository interfaces.
2025-07-11 19:56:01.386 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:56:01.386 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:56:01.397 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:01.397 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:01.398 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:01.398 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:01.398 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:01.398 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:01.399 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-07-11 19:56:01.539 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:56:01.540 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:56:01.541 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:56:01.542 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:56:01.542 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:56:01.542 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:56:01.579 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:56:01.579 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 470 ms
2025-07-11 19:56:01.699 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Starting...
2025-07-11 19:56:01.711 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@166b57ea
2025-07-11 19:56:01.712 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Start completed.
2025-07-11 19:56:01.749 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:56:01.774 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.013s)
2025-07-11 19:56:01.788 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:56:01.789 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:56:01.817 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:56:01.819 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:56:01.824 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:56:01.881 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:56:01.896 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:56:02.201 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:56:02.202 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:56:02.202 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:56:02.290 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:56:02.376 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:56:02.430 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:56:02.431 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:56:02.490 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:56:02.491 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:02.506 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:02.518 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:02.533 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:02.545 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:56:02.684 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:56:02.696 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:56:02.774 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:56:02.833 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:56:03.035 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:56:03.419 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:56:03.434 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:56:03.438 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:56:03.438 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:56:03.439 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2214e4b5]]
2025-07-11 19:56:03.439 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:56:03.452 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.364 seconds (process running for 1665.369)
2025-07-11 19:56:03.453 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:56:03.469 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:56:03.484 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:56:03.499 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:56:03.514 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:56:03.530 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:56:03.544 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:56:03.576 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:56:03.578 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:56:04.843 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:56:04.848 [Thread-31] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:56:04.849 [Thread-31] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2214e4b5]]
2025-07-11 19:56:04.849 [Thread-31] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:56:04.850 [Thread-31] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:56:05.325 [Thread-31] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:56:05.326 [Thread-31] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
2025-07-11 19:56:05.331 [Thread-31] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
2025-07-11 19:56:05.608 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:56:05.608 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:56:05.893 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:56:05.894 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:56:05.921 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2025-07-11 19:56:05.984 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:56:05.986 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:56:05.993 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:05.993 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:05.993 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:05.996 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:05.996 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:05.996 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:05.996 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 19:56:06.113 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:56:06.114 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:56:06.114 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:56:06.115 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:56:06.115 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:56:06.115 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:56:06.140 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:56:06.140 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 529 ms
2025-07-11 19:56:06.207 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Starting...
2025-07-11 19:56:06.217 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1790c69f
2025-07-11 19:56:06.217 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Start completed.
2025-07-11 19:56:06.258 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:56:06.302 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.027s)
2025-07-11 19:56:06.331 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:56:06.332 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:56:06.366 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:56:06.369 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:56:06.375 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:56:06.450 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:56:06.465 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:56:06.652 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:56:06.653 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:56:06.653 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:56:06.708 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:56:06.750 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:56:06.777 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:56:06.777 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:56:06.795 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:56:06.795 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:06.802 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:06.810 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:06.817 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:06.822 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:56:06.903 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:56:06.914 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:56:06.989 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:56:07.055 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:56:07.214 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:56:07.655 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:56:07.675 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:56:07.679 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:56:07.680 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:56:07.680 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@79d99521]]
2025-07-11 19:56:07.681 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:56:07.694 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.131 seconds (process running for 1669.611)
2025-07-11 19:56:07.696 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:56:07.712 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:56:07.727 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:56:07.743 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:56:07.756 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:56:07.782 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:56:07.796 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:56:07.826 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:56:07.828 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:56:27.357 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:56:27.359 [Thread-35] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:56:27.359 [Thread-35] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@79d99521]]
2025-07-11 19:56:27.359 [Thread-35] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:56:27.360 [Thread-35] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:56:27.628 [Thread-35] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:56:27.628 [Thread-35] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown initiated...
2025-07-11 19:56:27.629 [Thread-35] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown completed.
2025-07-11 19:56:27.750 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:56:27.750 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:56:27.895 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:56:27.895 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:56:27.920 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2025-07-11 19:56:27.974 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:56:27.974 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:56:27.981 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:27.981 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:27.982 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:27.983 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:27.983 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:27.983 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:27.983 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-07-11 19:56:28.083 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:56:28.084 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:56:28.085 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:56:28.085 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:56:28.086 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:56:28.086 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:56:28.108 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:56:28.108 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 357 ms
2025-07-11 19:56:28.167 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Starting...
2025-07-11 19:56:28.179 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-10 - Added connection com.mysql.cj.jdbc.ConnectionImpl@28c52de6
2025-07-11 19:56:28.179 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Start completed.
2025-07-11 19:56:28.230 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:56:28.258 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.017s)
2025-07-11 19:56:28.274 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:56:28.274 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:56:28.302 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:56:28.304 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:56:28.309 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:56:28.375 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:56:28.497 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:56:28.655 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:56:28.656 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:56:28.656 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:56:28.715 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:56:28.754 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:56:28.801 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:56:28.801 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:56:28.819 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:56:28.819 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:28.827 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:28.834 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:28.840 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:28.843 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:56:28.900 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:56:28.906 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:56:28.950 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:56:28.985 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:56:29.066 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:56:29.237 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:56:29.245 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:56:29.248 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:56:29.248 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:56:29.249 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@424ce21a]]
2025-07-11 19:56:29.249 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:56:29.256 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.523 seconds (process running for 1691.172)
2025-07-11 19:56:29.256 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:56:29.269 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:56:29.279 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:56:29.291 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:56:29.305 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:56:29.317 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:56:29.328 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:56:29.346 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:56:29.347 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:56:47.707 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 19:56:47.708 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 19:56:47.710 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 19:56:49.990 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:56:49.992 [Thread-39] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:56:49.992 [Thread-39] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@424ce21a]]
2025-07-11 19:56:49.993 [Thread-39] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:56:49.993 [Thread-39] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:56:50.520 [Thread-39] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:56:50.521 [Thread-39] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown initiated...
2025-07-11 19:56:50.523 [Thread-39] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown completed.
2025-07-11 19:56:50.784 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:56:50.784 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:56:51.130 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:56:51.130 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:56:51.171 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 6 JPA repository interfaces.
2025-07-11 19:56:51.303 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:56:51.304 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:56:51.318 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:51.319 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:51.319 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:51.320 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:51.321 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:51.321 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:51.322 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-07-11 19:56:51.513 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:56:51.513 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:56:51.514 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:56:51.515 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:56:51.516 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:56:51.516 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:56:51.548 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:56:51.548 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 759 ms
2025-07-11 19:56:51.637 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Starting...
2025-07-11 19:56:51.649 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-11 - Added connection com.mysql.cj.jdbc.ConnectionImpl@f5ff7c0
2025-07-11 19:56:51.650 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Start completed.
2025-07-11 19:56:51.661 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:56:51.700 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.025s)
2025-07-11 19:56:51.737 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:56:51.739 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:56:51.805 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:56:51.810 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:56:51.820 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:56:51.941 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:56:51.963 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:56:52.240 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:56:52.241 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:56:52.242 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:56:52.307 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:56:52.370 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:56:52.395 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:56:52.395 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:56:52.423 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:56:52.423 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:52.430 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:52.436 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:52.442 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:52.449 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:56:52.561 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:56:52.576 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:56:52.678 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:56:52.785 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:56:52.980 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:56:53.370 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:56:53.395 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:56:53.403 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:56:53.404 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:56:53.404 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3dad5636]]
2025-07-11 19:56:53.404 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:56:53.418 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.68 seconds (process running for 1715.335)
2025-07-11 19:56:53.420 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:56:53.437 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:56:53.456 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:56:53.473 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:56:53.490 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:56:53.507 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:56:53.523 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:56:53.549 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:56:53.551 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:56:54.811 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:56:54.813 [Thread-43] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:56:54.813 [Thread-43] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3dad5636]]
2025-07-11 19:56:54.813 [Thread-43] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:56:54.814 [Thread-43] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:56:55.350 [Thread-43] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:56:55.351 [Thread-43] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown initiated...
2025-07-11 19:56:55.353 [Thread-43] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown completed.
2025-07-11 19:56:55.619 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:56:55.619 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:56:55.932 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:56:55.933 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:56:55.990 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 6 JPA repository interfaces.
2025-07-11 19:56:56.119 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:56:56.119 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:56:56.141 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:56.141 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:56.142 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:56.143 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:56.143 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:56.143 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:56:56.144 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-07-11 19:56:56.395 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:56:56.396 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:56:56.397 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:56:56.398 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:56:56.398 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:56:56.399 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:56:56.452 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:56:56.452 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 831 ms
2025-07-11 19:56:56.676 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Starting...
2025-07-11 19:56:56.694 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-12 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1a378fd7
2025-07-11 19:56:56.694 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Start completed.
2025-07-11 19:56:56.709 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:56:56.749 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.020s)
2025-07-11 19:56:56.774 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:56:56.777 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:56:56.841 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:56:56.844 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:56:56.851 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:56:56.908 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:56:56.921 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:56:57.130 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:56:57.132 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:56:57.132 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:56:57.175 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:56:57.215 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:56:57.236 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:56:57.237 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:56:57.258 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:56:57.258 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:57.264 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:57.269 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:57.275 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:56:57.280 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:56:57.349 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:56:57.355 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:56:57.403 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:56:57.443 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:56:57.540 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:56:57.727 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:56:57.738 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:56:57.741 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:56:57.741 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:56:57.742 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2a817305]]
2025-07-11 19:56:57.742 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:56:57.750 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.159 seconds (process running for 1719.666)
2025-07-11 19:56:57.750 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:56:57.764 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:56:57.776 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:56:57.789 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:56:57.805 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:56:57.817 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:56:57.834 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:56:57.854 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:56:57.855 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:56:59.381 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 19:56:59.381 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 19:56:59.382 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 19:56:59.407 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:56:59.410 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:56:59.410 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:56:59.410 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:57:13.366 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2025-07-11 19:57:13.368 [Thread-47] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:57:13.369 [Thread-47] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2a817305]]
2025-07-11 19:57:13.369 [Thread-47] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:57:13.369 [Thread-47] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:57:13.821 [Thread-47] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:57:13.822 [Thread-47] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Shutdown initiated...
2025-07-11 19:57:13.823 [Thread-47] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Shutdown completed.
2025-07-11 19:57:14.051 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:57:14.052 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:57:14.238 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:57:14.238 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:57:14.270 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 6 JPA repository interfaces.
2025-07-11 19:57:14.338 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:57:14.338 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:57:14.349 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:14.349 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:14.349 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:14.349 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:14.350 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:14.350 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:14.350 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-07-11 19:57:14.489 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:57:14.489 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:57:14.489 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:57:14.489 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:57:14.490 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:57:14.490 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:57:14.520 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:57:14.520 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 467 ms
2025-07-11 19:57:14.603 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Starting...
2025-07-11 19:57:14.612 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-13 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26c94930
2025-07-11 19:57:14.612 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Start completed.
2025-07-11 19:57:14.632 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:57:14.665 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.014s)
2025-07-11 19:57:14.681 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:57:14.682 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:57:14.716 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:57:14.719 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:57:14.724 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:57:14.783 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:57:14.800 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:57:15.107 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:57:15.109 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:57:15.109 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:57:15.173 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:57:15.246 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:57:15.293 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:57:15.294 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:57:15.326 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:57:15.326 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:15.334 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:15.342 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:15.352 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:15.360 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:57:15.468 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:57:15.478 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:57:15.541 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:57:15.593 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:57:15.738 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:57:15.960 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:57:15.969 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:57:15.971 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:57:15.972 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:57:15.972 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@29976035]]
2025-07-11 19:57:15.973 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:57:15.979 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.955 seconds (process running for 1737.896)
2025-07-11 19:57:15.980 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:57:15.994 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:57:16.004 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:57:16.015 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:57:16.025 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:57:16.035 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:57:16.046 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:57:16.062 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:57:16.063 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:57:24.551 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:57:24.555 [Thread-51] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:57:24.556 [Thread-51] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@29976035]]
2025-07-11 19:57:24.557 [Thread-51] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:57:24.558 [Thread-51] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:57:25.334 [Thread-51] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:57:25.336 [Thread-51] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Shutdown initiated...
2025-07-11 19:57:25.340 [Thread-51] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Shutdown completed.
2025-07-11 19:57:25.658 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:57:25.658 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:57:26.021 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:57:26.022 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:57:26.105 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 82 ms. Found 6 JPA repository interfaces.
2025-07-11 19:57:26.263 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:57:26.264 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:57:26.286 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:26.286 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:26.287 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:26.288 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:26.288 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:26.289 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:26.289 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-07-11 19:57:26.540 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:57:26.541 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:57:26.542 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:57:26.543 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:57:26.543 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:57:26.544 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:57:26.602 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:57:26.603 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 943 ms
2025-07-11 19:57:26.768 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Starting...
2025-07-11 19:57:26.788 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-14 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b039062
2025-07-11 19:57:26.788 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Start completed.
2025-07-11 19:57:26.808 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:57:26.856 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.022s)
2025-07-11 19:57:26.884 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:57:26.887 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:57:26.946 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:57:26.949 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:57:26.957 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:57:27.056 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:57:27.078 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:57:27.456 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:57:27.457 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:57:27.458 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:57:27.540 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:57:27.627 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:57:27.673 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:57:27.674 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:57:27.737 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:57:27.737 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:27.754 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:27.765 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:27.775 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:27.787 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:57:27.886 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:57:27.892 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:57:27.943 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:57:27.985 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:57:28.094 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:57:28.297 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:57:28.308 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:57:28.313 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:57:28.314 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:57:28.314 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2c4a779b]]
2025-07-11 19:57:28.314 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:57:28.321 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.697 seconds (process running for 1750.238)
2025-07-11 19:57:28.323 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:57:28.378 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:57:28.394 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:57:28.406 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:57:28.415 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:57:28.428 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:57:28.441 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:57:28.471 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:57:28.472 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:57:29.733 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:57:29.737 [Thread-55] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:57:29.738 [Thread-55] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2c4a779b]]
2025-07-11 19:57:29.738 [Thread-55] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:57:29.739 [Thread-55] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:57:30.535 [Thread-55] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:57:30.536 [Thread-55] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Shutdown initiated...
2025-07-11 19:57:30.539 [Thread-55] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Shutdown completed.
2025-07-11 19:57:30.851 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:57:30.851 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:57:31.045 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:57:31.045 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:57:31.080 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 6 JPA repository interfaces.
2025-07-11 19:57:31.137 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:57:31.137 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:57:31.145 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:31.145 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:31.145 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:31.146 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:31.146 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:31.146 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:31.146 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-07-11 19:57:31.259 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:57:31.261 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:57:31.261 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:57:31.261 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:57:31.261 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:57:31.261 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:57:31.287 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:57:31.287 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 434 ms
2025-07-11 19:57:31.367 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Starting...
2025-07-11 19:57:31.378 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-15 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7876876c
2025-07-11 19:57:31.379 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Start completed.
2025-07-11 19:57:31.409 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:57:31.442 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.017s)
2025-07-11 19:57:31.456 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:57:31.458 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:57:31.487 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:57:31.489 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:57:31.493 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:57:31.561 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:57:31.582 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:57:31.785 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:57:31.786 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:57:31.786 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:57:31.845 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:57:31.892 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:57:31.930 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:57:31.930 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:57:31.959 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:57:31.959 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:31.968 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:31.975 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:31.982 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:31.991 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:57:32.091 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:57:32.100 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:57:32.171 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:57:32.235 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:57:32.397 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:57:32.947 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:57:32.969 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:57:32.975 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:57:32.976 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:57:32.976 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@839bf73]]
2025-07-11 19:57:32.977 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:57:32.990 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.181 seconds (process running for 1754.908)
2025-07-11 19:57:32.993 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:57:33.024 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:57:33.046 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:57:33.073 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:57:33.093 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:57:33.113 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:57:33.134 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:57:33.166 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:57:33.169 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:57:47.668 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 6 class path changes (0 additions, 0 deletions, 6 modifications)
2025-07-11 19:57:47.671 [Thread-59] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:57:47.672 [Thread-59] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@839bf73]]
2025-07-11 19:57:47.672 [Thread-59] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:57:47.672 [Thread-59] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:57:48.472 [Thread-59] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:57:48.473 [Thread-59] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Shutdown initiated...
2025-07-11 19:57:48.476 [Thread-59] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Shutdown completed.
2025-07-11 19:57:48.807 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:57:48.808 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:57:49.231 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:57:49.231 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:57:49.282 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 6 JPA repository interfaces.
2025-07-11 19:57:49.389 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:57:49.389 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:57:49.403 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:49.404 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:49.404 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:49.404 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:49.405 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:49.405 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:49.405 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-07-11 19:57:49.639 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:57:49.640 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:57:49.641 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:57:49.641 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:57:49.641 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:57:49.641 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:57:49.681 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:57:49.681 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 870 ms
2025-07-11 19:57:49.799 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Starting...
2025-07-11 19:57:49.815 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-16 - Added connection com.mysql.cj.jdbc.ConnectionImpl@50807f17
2025-07-11 19:57:49.815 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Start completed.
2025-07-11 19:57:49.826 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:57:49.855 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.015s)
2025-07-11 19:57:49.874 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:57:49.877 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:57:49.921 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:57:49.923 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:57:49.932 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:57:50.055 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:57:50.085 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:57:50.378 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:57:50.379 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:57:50.380 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:57:50.452 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:57:50.553 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:57:50.591 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:57:50.591 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:57:50.637 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:57:50.638 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:50.648 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:50.659 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:50.670 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:50.679 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:57:50.802 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:57:50.815 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:57:50.907 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:57:50.972 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:57:51.132 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:57:51.405 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:57:51.416 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:57:51.419 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:57:51.420 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:57:51.420 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4c73a6b0]]
2025-07-11 19:57:51.420 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:57:51.429 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.668 seconds (process running for 1773.345)
2025-07-11 19:57:51.430 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:57:51.446 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:57:51.465 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:57:51.480 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:57:51.495 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:57:51.513 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:57:51.526 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:57:51.550 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:57:51.552 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:57:52.845 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 19:57:52.847 [Thread-63] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 19:57:52.847 [Thread-63] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4c73a6b0]]
2025-07-11 19:57:52.848 [Thread-63] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 19:57:52.848 [Thread-63] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 19:57:53.207 [Thread-63] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:57:53.207 [Thread-63] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Shutdown initiated...
2025-07-11 19:57:53.208 [Thread-63] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Shutdown completed.
2025-07-11 19:57:53.392 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 19:57:53.392 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 19:57:53.597 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:57:53.597 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 19:57:53.629 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 6 JPA repository interfaces.
2025-07-11 19:57:53.696 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 19:57:53.696 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 19:57:53.711 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:53.712 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:53.713 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:53.713 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:53.713 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:53.714 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 19:57:53.714 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2025-07-11 19:57:53.855 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 19:57:53.856 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 19:57:53.857 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 19:57:53.857 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 19:57:53.858 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 19:57:53.858 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 19:57:53.885 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 19:57:53.885 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 490 ms
2025-07-11 19:57:54.022 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Starting...
2025-07-11 19:57:54.043 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-17 - Added connection com.mysql.cj.jdbc.ConnectionImpl@346a6d9a
2025-07-11 19:57:54.043 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Start completed.
2025-07-11 19:57:54.055 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 19:57:54.092 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.018s)
2025-07-11 19:57:54.118 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 19:57:54.121 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 19:57:54.201 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 19:57:54.205 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 19:57:54.214 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 19:57:54.348 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 19:57:54.372 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 19:57:54.861 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 19:57:54.863 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 19:57:54.863 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 19:57:54.964 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 19:57:55.060 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 19:57:55.113 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 19:57:55.113 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 19:57:55.164 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 19:57:55.164 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:55.176 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:55.188 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:55.199 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 19:57:55.210 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 19:57:55.415 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 19:57:55.428 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 19:57:55.521 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 19:57:55.593 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 19:57:55.782 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 19:57:56.103 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 19:57:56.114 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 19:57:56.118 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 19:57:56.119 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 19:57:56.119 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4ed1b7e3]]
2025-07-11 19:57:56.120 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 19:57:56.132 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.77 seconds (process running for 1778.049)
2025-07-11 19:57:56.134 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 19:57:56.155 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 19:57:56.171 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 19:57:56.191 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 19:57:56.207 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 19:57:56.221 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 19:57:56.238 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 19:57:56.265 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 19:57:56.267 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 19:57:59.381 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 19:57:59.382 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 19:57:59.383 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 19:57:59.413 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:57:59.417 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:57:59.417 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:57:59.417 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:58:56.114 [MessageBroker-3] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 19:58:57.998 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:58:58.000 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:58:58.001 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:58:58.001 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:58:58.013 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:58:58.015 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:58:58.015 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:58:58.015 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:59:16.747 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:59:16.748 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:59:16.748 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:59:16.749 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:59:17.674 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 19:59:17.675 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 19:59:17.694 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:59:17.695 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:59:17.696 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:59:17.696 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:59:18.200 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:59:18.200 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 19:59:18.205 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 19:59:18.208 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 19:59:18.211 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 19:59:18.211 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:59:18.211 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 19:59:18.211 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 19:59:18.212 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 19:59:18.212 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 19:59:18.212 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:59:18.212 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 19:59:18.212 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 19:59:18.212 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 19:59:18.213 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 19:59:18.219 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 19:59:18.219 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 19:59:18.219 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:59:18.219 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:59:18.219 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 19:59:18.220 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 19:59:18.220 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 19:59:18.220 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 19:59:18.220 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:59:18.220 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:59:18.220 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:59:18.220 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 19:59:18.220 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 19:59:18.225 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 19:59:18.226 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 19:59:18.226 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 19:59:21.202 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:59:41.917 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 19:59:47.707 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 19:59:47.712 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 19:59:47.713 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 19:59:47.714 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 19:59:49.248 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:00:00.000 [MessageBroker-5] INFO  c.i.i.u.s.DataConsistencyService - 开始执行数据一致性检查
2025-07-11 20:00:00.012 [MessageBroker-7] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 开始执行过期临时文件清理任务
2025-07-11 20:00:00.025 [MessageBroker-7] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 没有发现过期的临时文件
2025-07-11 20:00:00.094 [MessageBroker-5] INFO  c.i.i.u.s.DataConsistencyService - 数据一致性检查完成，发现 1 个不一致项
2025-07-11 20:00:00.094 [MessageBroker-5] INFO  c.i.i.u.t.DataConsistencyMonitorTask - 快速检查发现数据不一致: 1 个问题
2025-07-11 20:00:13.740 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:00:13.744 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:00:13.744 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:00:13.745 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:00:18.393 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:00:18.395 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:00:18.395 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:00:18.395 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:00:48.392 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:00:48.395 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:00:48.395 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:00:48.395 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:01:18.390 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:01:18.392 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:01:18.392 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:01:18.392 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:01:48.401 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:01:48.403 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:01:48.403 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:01:48.403 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:02:03.167 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 20:02:03.170 [Thread-67] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 20:02:03.170 [Thread-67] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4ed1b7e3]]
2025-07-11 20:02:03.170 [Thread-67] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 20:02:03.170 [Thread-67] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 20:02:03.421 [Thread-67] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 20:02:03.421 [Thread-67] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Shutdown initiated...
2025-07-11 20:02:03.422 [Thread-67] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Shutdown completed.
2025-07-11 20:02:03.599 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:02:03.599 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:02:03.774 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:02:03.774 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:02:03.802 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2025-07-11 20:02:03.864 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:02:03.864 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:02:03.875 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:02:03.876 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:02:03.876 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:02:03.876 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:02:03.877 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:02:03.877 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:02:03.877 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-07-11 20:02:04.001 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:02:04.002 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:02:04.003 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:02:04.003 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:02:04.003 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:02:04.003 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:02:04.028 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:02:04.028 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 427 ms
2025-07-11 20:02:04.105 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Starting...
2025-07-11 20:02:04.116 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-18 - Added connection com.mysql.cj.jdbc.ConnectionImpl@9f204ec
2025-07-11 20:02:04.116 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Start completed.
2025-07-11 20:02:04.126 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:02:04.187 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.030s)
2025-07-11 20:02:04.201 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 20:02:04.202 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 20:02:04.231 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 20:02:04.232 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 20:02:04.236 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 20:02:04.285 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 20:02:04.304 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 20:02:04.470 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 20:02:04.471 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 20:02:04.471 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 20:02:04.525 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 20:02:04.567 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 20:02:04.587 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 20:02:04.587 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 20:02:04.607 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 20:02:04.607 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:02:04.612 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:02:04.617 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:02:04.621 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:02:04.628 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 20:02:04.691 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 20:02:04.699 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 20:02:04.748 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 20:02:04.789 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 20:02:04.882 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 20:02:05.080 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 20:02:05.090 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 20:02:05.093 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 20:02:05.093 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 20:02:05.093 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1c4b183d]]
2025-07-11 20:02:05.094 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 20:02:05.101 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.521 seconds (process running for 2027.018)
2025-07-11 20:02:05.102 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 20:02:05.118 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 20:02:05.131 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 20:02:05.143 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 20:02:05.156 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 20:02:05.170 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 20:02:05.182 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 20:02:05.199 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 20:02:05.201 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 20:02:18.372 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 20:02:18.372 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 20:02:18.374 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 20:02:18.400 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:02:18.402 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:02:18.403 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:02:18.403 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:02:44.980 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:02:44.982 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:02:44.982 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:02:44.982 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:02:46.249 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 20:02:46.250 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 20:02:46.271 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:02:46.274 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:02:46.274 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:02:46.274 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:02:46.772 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 20:02:46.773 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:02:46.773 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:02:46.776 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 20:02:46.777 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:02:46.777 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 20:02:46.777 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 20:02:46.777 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:02:46.777 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 20:02:46.777 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:02:46.777 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 20:02:46.777 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:02:46.778 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 20:02:46.778 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 20:02:46.780 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 20:02:46.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 20:02:46.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 20:02:46.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:02:46.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:02:46.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:02:46.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 20:02:46.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 20:02:46.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 20:02:46.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:02:46.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:02:46.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:02:46.787 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:02:46.789 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:02:46.792 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 20:02:46.792 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 20:02:46.792 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 20:02:48.496 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:02:50.183 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户活跃设备列表: userId=1
2025-07-11 20:02:50.218 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:02:52.062 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户活跃设备列表: userId=1
2025-07-11 20:02:52.094 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:02:54.344 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:03:05.089 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 20:03:16.385 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:03:16.389 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:03:16.390 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:03:16.390 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:03:18.122 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:03:18.123 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:03:18.123 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:03:18.124 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:03:21.301 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:03:21.303 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:03:21.303 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:03:21.303 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:03:21.709 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户活跃设备列表: userId=1
2025-07-11 20:03:21.729 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:03:41.381 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:03:41.382 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:03:41.382 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:03:41.382 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:03:46.392 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:03:46.393 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:03:46.393 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:03:46.394 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:03:51.349 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:03:51.350 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:03:51.350 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:03:51.351 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:03:58.342 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:03:58.344 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:03:58.344 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:03:58.344 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:04:16.402 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:04:16.404 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:04:16.405 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:04:16.405 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:04:46.385 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:04:46.389 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:04:46.389 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:04:46.389 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:05:16.379 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:05:16.382 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:05:16.382 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:05:16.382 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:05:34.029 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-07-11 20:05:34.031 [Thread-71] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 20:05:34.031 [Thread-71] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1c4b183d]]
2025-07-11 20:05:34.032 [Thread-71] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 20:05:34.032 [Thread-71] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 20:05:34.297 [Thread-71] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 20:05:34.297 [Thread-71] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Shutdown initiated...
2025-07-11 20:05:34.298 [Thread-71] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Shutdown completed.
2025-07-11 20:05:34.453 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:05:34.453 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:05:34.609 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:05:34.609 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:05:34.636 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2025-07-11 20:05:34.691 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:05:34.691 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:05:34.699 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:05:34.699 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:05:34.700 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:05:34.700 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:05:34.700 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:05:34.700 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:05:34.700 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-07-11 20:05:34.804 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:05:34.805 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:05:34.806 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:05:34.806 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:05:34.807 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:05:34.807 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:05:34.829 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:05:34.829 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 375 ms
2025-07-11 20:05:34.894 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Starting...
2025-07-11 20:05:34.903 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-19 - Added connection com.mysql.cj.jdbc.ConnectionImpl@664bca12
2025-07-11 20:05:34.903 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Start completed.
2025-07-11 20:05:34.910 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:05:34.927 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.008s)
2025-07-11 20:05:34.939 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 20:05:34.941 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 20:05:34.968 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 20:05:34.970 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 20:05:34.974 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 20:05:35.033 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 20:05:35.044 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 20:05:35.214 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 20:05:35.215 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 20:05:35.215 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 20:05:35.268 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 20:05:35.308 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 20:05:35.326 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 20:05:35.326 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 20:05:35.344 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 20:05:35.344 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:05:35.349 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:05:35.353 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:05:35.357 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:05:35.361 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 20:05:35.423 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 20:05:35.429 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 20:05:35.473 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 20:05:35.513 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 20:05:35.610 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 20:05:35.805 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 20:05:35.815 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 20:05:35.817 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 20:05:35.818 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 20:05:35.818 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3d0b91fc]]
2025-07-11 20:05:35.818 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 20:05:35.825 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.388 seconds (process running for 2237.757)
2025-07-11 20:05:35.827 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 20:05:35.838 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 20:05:35.849 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 20:05:35.860 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 20:05:35.870 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 20:05:35.882 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 20:05:35.894 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 20:05:35.910 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 20:05:35.911 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 20:05:46.359 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 20:05:46.360 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 20:05:46.361 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 20:05:46.389 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:05:46.391 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:05:46.392 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:05:46.392 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:06:16.376 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:06:16.380 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:06:16.381 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:06:16.381 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:06:32.051 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:06:32.053 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:06:32.053 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:06:32.053 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:06:34.279 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 20:06:34.280 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 20:06:34.304 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:06:34.307 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:06:34.307 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:06:34.307 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:06:34.809 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 20:06:34.811 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:06:34.811 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:06:34.814 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 20:06:34.815 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:06:34.815 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 20:06:34.815 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 20:06:34.815 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:06:34.815 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 20:06:34.815 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:06:34.815 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 20:06:34.815 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:06:34.817 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 20:06:34.817 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 20:06:34.820 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 20:06:34.829 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 20:06:34.829 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 20:06:34.829 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:06:34.829 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:06:34.829 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:06:34.829 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 20:06:34.830 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 20:06:34.830 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 20:06:34.830 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:06:34.830 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:06:34.830 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:06:34.830 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:06:34.831 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:06:34.834 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 20:06:34.834 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 20:06:34.834 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 20:06:35.802 [MessageBroker-3] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 20:06:47.195 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:06:48.634 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户活跃设备列表: userId=1
2025-07-11 20:06:48.677 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:06:50.416 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户活跃设备列表: userId=1
2025-07-11 20:06:50.445 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:06:51.599 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户活跃设备列表: userId=1
2025-07-11 20:06:51.637 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:06:54.635 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:07:04.328 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:07:04.334 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:07:04.335 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:07:04.335 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:07:34.316 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:07:34.319 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:07:34.319 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:07:34.320 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:07:35.010 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:08:04.354 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:08:04.356 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:08:04.356 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:08:04.356 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:08:34.366 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:08:34.371 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:08:34.372 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:08:34.372 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:09:04.355 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:09:04.360 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:09:04.360 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:09:04.360 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:09:08.499 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:09:08.502 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:09:08.503 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:09:08.504 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:09:09.738 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户活跃设备列表: userId=1
2025-07-11 20:09:09.771 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:09:11.241 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户活跃设备列表: userId=1
2025-07-11 20:09:11.268 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:09:34.342 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:09:34.344 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:09:34.344 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:09:34.344 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:10:04.347 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:10:04.349 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:10:04.349 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:10:04.350 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:10:34.733 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:10:34.736 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:10:34.736 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:10:34.736 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:10:34.757 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:10:34.760 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:10:34.761 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:10:34.761 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:11:04.327 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:11:04.329 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:11:04.329 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:11:04.330 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:11:34.306 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:11:34.308 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:11:34.308 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:11:34.308 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:11:41.648 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:11:41.650 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:11:41.651 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:11:41.651 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:11:42.547 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:11:44.681 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户活跃设备列表: userId=1
2025-07-11 20:11:44.705 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:11:45.901 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 20:11:45.903 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 20:11:45.932 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:11:45.935 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:11:45.935 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:11:45.935 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:11:46.437 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:11:46.437 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:11:46.438 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 20:11:46.444 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 20:11:46.445 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 20:11:46.445 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:11:46.446 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 20:11:46.448 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 20:11:46.448 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:11:46.448 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 20:11:46.449 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:11:46.449 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 20:11:46.449 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:11:46.449 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 20:11:46.449 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 20:11:46.459 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 20:11:46.459 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 20:11:46.459 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:11:46.459 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:11:46.459 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:11:46.459 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 20:11:46.459 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 20:11:46.459 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 20:11:46.460 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:11:46.460 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:11:46.460 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:11:46.460 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:11:46.460 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:11:46.467 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 20:11:46.467 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 20:11:46.467 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 20:11:48.795 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:11:49.893 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户活跃设备列表: userId=1
2025-07-11 20:11:49.943 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:11:51.347 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户活跃设备列表: userId=1
2025-07-11 20:11:51.381 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:11:51.851 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:12:16.295 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:12:16.297 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:12:16.298 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:12:16.298 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:12:35.683 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:12:35.685 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:12:35.685 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:12:35.685 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:12:36.837 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线用户设备: userId=1, deviceId=1
2025-07-11 20:12:36.842 [http-nio-8080-exec-4] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新设备状态: userId=1, deviceType=Web, isActive=false
2025-07-11 20:12:36.852 [http-nio-8080-exec-4] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 设备状态已更新: deviceId=1, isActive=false
2025-07-11 20:12:36.852 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线用户设备: userId=1, deviceId=1, deviceType=Web
2025-07-11 20:12:40.610 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 20:12:40.884 [http-nio-8080-exec-9] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 20:12:40.885 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 20:12:40.885 [http-nio-8080-exec-9] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 20:12:40.961 [http-nio-8080-exec-9] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 创建新设备记录: deviceId=4
2025-07-11 20:12:40.966 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 20:12:40.967 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 20:12:44.979 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 20:12:45.131 [http-nio-8080-exec-5] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 20:12:45.131 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 20:12:45.132 [http-nio-8080-exec-5] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 20:12:45.146 [http-nio-8080-exec-5] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 创建新设备记录: deviceId=5
2025-07-11 20:12:45.149 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 20:12:45.150 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 20:13:44.304 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 10 class path changes (0 additions, 0 deletions, 10 modifications)
2025-07-11 20:13:44.308 [Thread-75] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 20:13:44.308 [Thread-75] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3d0b91fc]]
2025-07-11 20:13:44.309 [Thread-75] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 20:13:44.309 [Thread-75] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 20:13:45.667 [Thread-75] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 20:13:45.669 [Thread-75] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Shutdown initiated...
2025-07-11 20:13:45.677 [Thread-75] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Shutdown completed.
2025-07-11 20:13:46.231 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:13:46.233 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:13:47.472 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:13:47.472 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:13:47.543 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 70 ms. Found 6 JPA repository interfaces.
2025-07-11 20:13:47.757 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:13:47.758 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:13:47.774 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:13:47.775 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:13:47.775 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:13:47.776 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:13:47.776 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:13:47.777 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:13:47.777 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-07-11 20:13:48.121 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:13:48.123 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:13:48.125 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:13:48.126 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:13:48.126 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:13:48.126 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:13:48.173 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:13:48.174 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1927 ms
2025-07-11 20:13:48.335 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Starting...
2025-07-11 20:13:48.366 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-20 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1edf839
2025-07-11 20:13:48.367 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Start completed.
2025-07-11 20:13:48.424 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:13:48.485 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.028s)
2025-07-11 20:13:48.511 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 20:13:48.513 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 20:13:48.565 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 20:13:48.568 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 20:13:48.582 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 20:13:48.783 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 20:13:48.805 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 20:13:49.080 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 20:13:49.083 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 20:13:49.083 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 20:13:49.170 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 20:13:49.262 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 20:13:49.297 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 20:13:49.297 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 20:13:49.328 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 20:13:49.328 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:13:49.345 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:13:49.355 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:13:49.366 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:13:49.379 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 20:13:49.476 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 20:13:49.484 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 20:13:49.565 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 20:13:49.633 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 20:13:49.810 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 20:13:50.228 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 20:13:50.249 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 20:13:50.253 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 20:13:50.254 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 20:13:50.254 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1faea424]]
2025-07-11 20:13:50.254 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 20:13:50.271 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 4.289 seconds (process running for 2732.301)
2025-07-11 20:13:50.274 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 20:13:50.312 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 20:13:50.333 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 20:13:50.353 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 20:13:50.369 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 20:13:50.386 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 20:13:50.403 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 20:13:50.443 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 20:13:50.446 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 20:13:51.687 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 200 class path changes (0 additions, 0 deletions, 200 modifications)
2025-07-11 20:13:51.689 [Thread-79] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 20:13:51.689 [Thread-79] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1faea424]]
2025-07-11 20:13:51.689 [Thread-79] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 20:13:51.691 [Thread-79] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 20:13:52.078 [Thread-79] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 20:13:52.079 [Thread-79] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Shutdown initiated...
2025-07-11 20:13:52.081 [Thread-79] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Shutdown completed.
2025-07-11 20:13:52.265 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 11660 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:13:52.265 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:13:52.510 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:13:52.511 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:13:52.553 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 41 ms. Found 6 JPA repository interfaces.
2025-07-11 20:13:52.646 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:13:52.646 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:13:52.662 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:13:52.662 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:13:52.662 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:13:52.662 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:13:52.663 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:13:52.663 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:13:52.663 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-07-11 20:13:52.834 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:13:52.834 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:13:52.835 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:13:52.835 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:13:52.836 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:13:52.836 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:13:52.871 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:13:52.871 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 604 ms
2025-07-11 20:13:52.992 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Starting...
2025-07-11 20:13:53.006 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-21 - Added connection com.mysql.cj.jdbc.ConnectionImpl@698da783
2025-07-11 20:13:53.007 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Start completed.
2025-07-11 20:13:53.082 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:13:53.129 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.026s)
2025-07-11 20:13:53.154 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 20:13:53.156 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 20:13:53.206 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 20:13:53.209 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 20:13:53.222 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 20:13:53.470 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 20:13:53.519 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 20:13:53.899 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 20:13:53.902 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 20:13:53.902 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 20:13:54.013 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 20:13:54.131 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 20:13:54.174 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 20:13:54.175 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 20:13:54.215 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 20:13:54.216 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:13:54.229 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:13:54.243 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:13:54.254 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:13:54.271 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 20:13:54.356 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 20:13:54.363 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 20:13:54.416 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 20:13:54.460 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 20:13:54.565 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 20:13:54.763 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 20:13:54.775 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 20:13:54.777 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 20:13:54.777 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 20:13:54.778 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@54292289]]
2025-07-11 20:13:54.778 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 20:13:54.786 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.562 seconds (process running for 2736.816)
2025-07-11 20:13:54.786 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 20:13:55.037 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 20:13:55.051 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 20:13:55.066 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 20:13:55.079 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 20:13:55.093 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 20:13:55.107 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 20:13:55.134 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 20:13:55.135 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 20:14:44.601 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 20:14:44.602 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 20:14:44.603 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 20:14:46.222 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 20:14:46.343 [http-nio-8080-exec-3] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 20:14:46.343 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 20:14:46.343 [http-nio-8080-exec-3] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 20:14:54.761 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 20:14:55.829 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 20:14:55.943 [http-nio-8080-exec-7] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 20:14:55.943 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 20:14:55.943 [http-nio-8080-exec-7] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 20:15:23.645 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 20:15:23.699 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:15:23.700 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:15:23.751 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 20:15:23.751 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 20:15:24.478 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:15:24.478 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:15:24.616 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 130 ms. Found 6 JPA repository interfaces.
2025-07-11 20:15:24.877 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:15:24.879 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:15:24.903 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:15:24.904 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:15:24.904 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:15:24.904 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:15:24.904 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:15:24.905 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:15:24.905 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-07-11 20:15:25.660 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:15:25.663 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:15:25.677 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:15:25.686 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:15:25.688 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:15:25.689 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:15:25.740 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:15:25.740 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1988 ms
2025-07-11 20:15:25.953 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 20:15:26.077 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6caa7967
2025-07-11 20:15:26.079 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 20:15:26.128 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:15:26.190 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 8 migrations (execution time 00:00.036s)
2025-07-11 20:15:26.211 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.001
2025-07-11 20:15:26.216 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 20:15:26.289 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 20:15:26.354 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 20:15:26.392 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 20:15:26.632 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 20:15:27.391 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 20:15:27.429 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 20:15:28.063 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 20:15:28.475 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 20:15:28.475 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 20:15:28.665 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 20:15:28.702 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 20:15:29.146 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 20:15:29.174 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 20:15:29.174 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 20:15:29.212 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 20:15:29.212 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:15:29.250 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:15:29.261 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:15:29.271 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:15:29.282 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 20:15:29.412 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 20:15:29.421 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 20:15:29.606 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 20:15:29.740 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 20:15:29.945 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 20:15:30.366 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 20:15:30.408 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 20:15:30.429 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 20:15:30.430 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 20:15:30.431 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3a655117]]
2025-07-11 20:15:30.431 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 20:15:30.443 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 7.45 seconds (process running for 7.943)
2025-07-11 20:15:30.490 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 20:15:30.504 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 20:15:30.517 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 20:15:30.530 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 20:15:30.543 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 20:15:30.556 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 20:15:30.571 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 20:15:30.598 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 20:15:35.468 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 20:15:35.468 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 20:15:35.469 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 20:15:37.419 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 20:15:37.993 [http-nio-8080-exec-9] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 20:15:37.995 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 20:15:37.996 [http-nio-8080-exec-9] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 20:15:49.742 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 20:15:49.899 [http-nio-8080-exec-6] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 20:15:49.900 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 20:15:49.900 [http-nio-8080-exec-6] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=web, ipAddress=null
2025-07-11 20:16:30.388 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 20:22:58.497 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-07-11 20:22:58.509 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 20:22:58.510 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3a655117]]
2025-07-11 20:22:58.510 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 20:22:58.511 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 20:22:58.915 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 20:22:58.920 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 20:22:58.930 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 20:22:59.147 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:22:59.147 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:22:59.843 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:22:59.844 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:22:59.950 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 105 ms. Found 6 JPA repository interfaces.
2025-07-11 20:23:00.184 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:23:00.185 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:23:00.226 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:00.227 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:00.228 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:00.229 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:00.230 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:00.230 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:00.231 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 0 Redis repository interfaces.
2025-07-11 20:23:00.601 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:23:00.602 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:23:00.604 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:23:00.605 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:23:00.606 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:23:00.607 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:23:00.667 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:23:00.668 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1516 ms
2025-07-11 20:23:00.877 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-11 20:23:00.906 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7ed8e69a
2025-07-11 20:23:00.907 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-11 20:23:00.952 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:23:01.007 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:23:01.066 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-07-11 20:23:01.122 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-07-11 20:23:01.145 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:23:04.829 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:23:04.829 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:23:05.267 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:23:05.268 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:23:05.348 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 80 ms. Found 6 JPA repository interfaces.
2025-07-11 20:23:05.538 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:23:05.539 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:23:05.569 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:05.570 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:05.570 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:05.571 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:05.571 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:05.572 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:05.573 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
2025-07-11 20:23:05.922 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:23:05.925 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:23:05.927 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:23:05.927 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:23:05.929 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:23:05.929 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:23:05.998 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:23:05.999 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1167 ms
2025-07-11 20:23:06.204 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-11 20:23:06.227 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@27264596
2025-07-11 20:23:06.227 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-11 20:23:06.282 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:23:06.345 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:23:06.433 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-07-11 20:23:06.474 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-07-11 20:23:06.494 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:23:19.402 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:23:19.403 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:23:19.739 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:23:19.740 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:23:19.811 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 70 ms. Found 6 JPA repository interfaces.
2025-07-11 20:23:19.957 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:23:19.957 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:23:19.980 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:19.981 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:19.982 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:19.982 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:19.982 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:19.982 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:19.983 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-07-11 20:23:20.134 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:23:20.135 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:23:20.135 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:23:20.136 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:23:20.136 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:23:20.136 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:23:20.167 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:23:20.167 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 762 ms
2025-07-11 20:23:20.252 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-07-11 20:23:20.304 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@f0a58e1
2025-07-11 20:23:20.304 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-07-11 20:23:20.538 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:23:20.585 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:23:20.630 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-07-11 20:23:20.681 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-07-11 20:23:20.687 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:23:23.250 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:23:23.250 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:23:23.731 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:23:23.732 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:23:23.811 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 79 ms. Found 6 JPA repository interfaces.
2025-07-11 20:23:23.956 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:23:23.957 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:23:23.986 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:23.986 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:23.987 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:23.987 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:23.988 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:23.988 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:23:23.988 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
2025-07-11 20:23:24.236 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:23:24.237 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:23:24.238 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:23:24.238 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:23:24.239 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:23:24.239 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:23:24.281 [restartedMain] INFO  o.a.c.c.C.[Tomcat-3].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:23:24.282 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1030 ms
2025-07-11 20:23:24.405 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-07-11 20:23:24.421 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7727d274
2025-07-11 20:23:24.422 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-07-11 20:23:24.449 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:23:24.498 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:23:24.586 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-07-11 20:23:24.588 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-07-11 20:23:24.603 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:24:01.276 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:24:01.276 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:24:01.557 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:24:01.557 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:24:01.595 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 6 JPA repository interfaces.
2025-07-11 20:24:01.680 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:24:01.681 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:24:01.690 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:01.690 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:01.690 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:01.691 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:01.691 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:01.691 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:01.691 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 20:24:01.810 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:24:01.811 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:24:01.812 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:24:01.812 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:24:01.812 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:24:01.813 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:24:01.860 [restartedMain] INFO  o.a.c.c.C.[Tomcat-4].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:24:01.860 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 583 ms
2025-07-11 20:24:01.980 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-07-11 20:24:02.001 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1fdf5f28
2025-07-11 20:24:02.001 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-07-11 20:24:02.027 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:24:02.069 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:24:02.151 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-07-11 20:24:02.206 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-07-11 20:24:02.225 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:24:03.870 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:24:03.871 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:24:04.281 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:24:04.281 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:24:04.353 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 71 ms. Found 6 JPA repository interfaces.
2025-07-11 20:24:04.498 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:24:04.498 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:24:04.518 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:04.519 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:04.519 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:04.519 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:04.520 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:04.520 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:04.520 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-07-11 20:24:04.739 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:24:04.740 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:24:04.741 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:24:04.741 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:24:04.742 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:24:04.742 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:24:04.785 [restartedMain] INFO  o.a.c.c.C.[Tomcat-5].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:24:04.786 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 911 ms
2025-07-11 20:24:04.965 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-07-11 20:24:04.983 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@f14451a
2025-07-11 20:24:04.983 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-07-11 20:24:05.020 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:24:05.059 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:24:05.107 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-07-11 20:24:05.156 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-07-11 20:24:05.162 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:24:12.923 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:24:12.924 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:24:13.323 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:24:13.323 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:24:13.397 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 72 ms. Found 6 JPA repository interfaces.
2025-07-11 20:24:13.546 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:24:13.547 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:24:13.566 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:13.567 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:13.567 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:13.568 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:13.569 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:13.569 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:13.569 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-07-11 20:24:13.949 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:24:13.950 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:24:13.952 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:24:13.952 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:24:13.953 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:24:13.953 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:24:14.030 [restartedMain] INFO  o.a.c.c.C.[Tomcat-6].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:24:14.031 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1104 ms
2025-07-11 20:24:14.216 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Starting...
2025-07-11 20:24:14.238 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@17d69a71
2025-07-11 20:24:14.238 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Start completed.
2025-07-11 20:24:14.275 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:24:14.323 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:24:14.410 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
2025-07-11 20:24:14.469 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
2025-07-11 20:24:14.480 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:24:15.969 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:24:15.969 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:24:16.158 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:24:16.159 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:24:16.195 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 6 JPA repository interfaces.
2025-07-11 20:24:16.278 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:24:16.278 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:24:16.287 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:16.288 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:16.288 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:16.288 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:16.289 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:16.289 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:24:16.289 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 20:24:16.432 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:24:16.432 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:24:16.433 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:24:16.433 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:24:16.433 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:24:16.433 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:24:16.461 [restartedMain] INFO  o.a.c.c.C.[Tomcat-7].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:24:16.461 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 490 ms
2025-07-11 20:24:16.580 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Starting...
2025-07-11 20:24:16.593 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@314f705
2025-07-11 20:24:16.594 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Start completed.
2025-07-11 20:24:16.615 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:24:16.648 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:24:16.699 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown initiated...
2025-07-11 20:24:16.700 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown completed.
2025-07-11 20:24:16.707 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:28:36.006 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:28:36.006 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:28:36.265 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:28:36.265 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:28:36.295 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 6 JPA repository interfaces.
2025-07-11 20:28:36.363 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:28:36.363 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:28:36.373 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:36.373 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:36.374 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:36.374 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:36.374 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:36.374 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:36.374 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-07-11 20:28:36.534 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:28:36.535 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:28:36.536 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:28:36.537 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:28:36.537 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:28:36.537 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:28:36.564 [restartedMain] INFO  o.a.c.c.C.[Tomcat-8].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:28:36.565 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 554 ms
2025-07-11 20:28:36.646 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Starting...
2025-07-11 20:28:36.670 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-10 - Added connection com.mysql.cj.jdbc.ConnectionImpl@43ccd462
2025-07-11 20:28:36.670 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Start completed.
2025-07-11 20:28:36.693 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:28:36.731 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:28:36.833 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown initiated...
2025-07-11 20:28:36.878 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-10 - Shutdown completed.
2025-07-11 20:28:36.883 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:28:51.767 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:28:51.768 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:28:52.017 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:28:52.017 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:28:52.051 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 6 JPA repository interfaces.
2025-07-11 20:28:52.116 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:28:52.116 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:28:52.124 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:52.124 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:52.124 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:52.125 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:52.125 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:52.125 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:52.125 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-07-11 20:28:52.243 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:28:52.244 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:28:52.244 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:28:52.245 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:28:52.245 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:28:52.245 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:28:52.273 [restartedMain] INFO  o.a.c.c.C.[Tomcat-9].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:28:52.273 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 503 ms
2025-07-11 20:28:52.358 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Starting...
2025-07-11 20:28:52.374 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-11 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6233f169
2025-07-11 20:28:52.375 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Start completed.
2025-07-11 20:28:52.394 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:28:52.426 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:28:52.477 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown initiated...
2025-07-11 20:28:52.479 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-11 - Shutdown completed.
2025-07-11 20:28:52.488 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:28:53.983 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:28:53.983 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:28:54.192 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:28:54.193 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:28:54.223 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 6 JPA repository interfaces.
2025-07-11 20:28:54.283 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:28:54.283 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:28:54.293 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:54.294 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:54.294 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:54.294 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:54.295 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:54.295 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:28:54.295 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 20:28:54.440 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:28:54.440 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:28:54.441 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:28:54.441 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:28:54.442 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:28:54.442 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:28:54.474 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:28:54.474 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 489 ms
2025-07-11 20:28:54.584 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Starting...
2025-07-11 20:28:54.600 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-12 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5872dfae
2025-07-11 20:28:54.600 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Start completed.
2025-07-11 20:28:54.623 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:28:54.666 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:28:54.754 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Shutdown initiated...
2025-07-11 20:28:54.799 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-12 - Shutdown completed.
2025-07-11 20:28:54.812 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:29:02.939 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:29:02.939 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:29:03.187 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:29:03.188 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:29:03.221 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 6 JPA repository interfaces.
2025-07-11 20:29:03.295 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:29:03.295 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:29:03.306 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:03.306 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:03.306 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:03.307 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:03.307 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:03.307 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:03.307 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-07-11 20:29:03.431 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:29:03.432 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:29:03.433 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:29:03.433 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:29:03.434 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:29:03.434 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:29:03.462 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:29:03.462 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 521 ms
2025-07-11 20:29:03.560 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Starting...
2025-07-11 20:29:03.575 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-13 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c010b7a
2025-07-11 20:29:03.576 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Start completed.
2025-07-11 20:29:03.598 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:29:03.629 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:29:03.688 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Shutdown initiated...
2025-07-11 20:29:03.690 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-13 - Shutdown completed.
2025-07-11 20:29:03.698 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:29:23.694 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:29:23.695 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:29:23.872 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:29:23.873 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:29:23.908 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 6 JPA repository interfaces.
2025-07-11 20:29:23.963 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:29:23.964 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:29:23.972 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:23.972 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:23.972 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:23.972 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:23.973 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:23.973 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:23.973 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-07-11 20:29:24.073 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:29:24.074 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:29:24.074 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:29:24.075 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:29:24.075 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:29:24.075 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:29:24.095 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:29:24.096 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 400 ms
2025-07-11 20:29:24.167 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Starting...
2025-07-11 20:29:24.177 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-14 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6372c83d
2025-07-11 20:29:24.177 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Start completed.
2025-07-11 20:29:24.210 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:29:24.228 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:29:24.269 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Shutdown initiated...
2025-07-11 20:29:24.270 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-14 - Shutdown completed.
2025-07-11 20:29:24.276 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:29:48.862 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:29:48.863 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:29:49.109 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:29:49.110 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:29:49.147 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 6 JPA repository interfaces.
2025-07-11 20:29:49.229 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:29:49.229 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:29:49.243 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:49.243 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:49.244 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:49.244 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:49.244 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:49.244 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:29:49.244 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-07-11 20:29:49.402 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:29:49.403 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:29:49.403 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:29:49.404 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:29:49.404 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:29:49.404 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:29:49.437 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:29:49.438 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 574 ms
2025-07-11 20:29:49.546 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Starting...
2025-07-11 20:29:49.563 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-15 - Added connection com.mysql.cj.jdbc.ConnectionImpl@792bafa7
2025-07-11 20:29:49.564 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Start completed.
2025-07-11 20:29:49.587 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:29:49.620 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:29:49.685 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Shutdown initiated...
2025-07-11 20:29:49.735 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-15 - Shutdown completed.
2025-07-11 20:29:49.743 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:30:04.068 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:30:04.068 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:30:04.294 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:30:04.295 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:30:04.334 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 6 JPA repository interfaces.
2025-07-11 20:30:04.422 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:30:04.422 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:30:04.436 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:04.437 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:04.438 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:04.438 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:04.438 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:04.438 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:04.439 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-07-11 20:30:04.586 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:30:04.587 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:30:04.587 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:30:04.588 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:30:04.588 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:30:04.588 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:30:04.612 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:30:04.613 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 543 ms
2025-07-11 20:30:04.684 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Starting...
2025-07-11 20:30:04.697 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-16 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5d5a0fe7
2025-07-11 20:30:04.698 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Start completed.
2025-07-11 20:30:04.705 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:30:04.730 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:30:04.787 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Shutdown initiated...
2025-07-11 20:30:04.788 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-16 - Shutdown completed.
2025-07-11 20:30:04.796 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:30:43.330 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:30:43.331 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:30:43.594 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:30:43.594 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:30:43.633 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 6 JPA repository interfaces.
2025-07-11 20:30:43.716 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:30:43.716 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:30:43.729 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:43.729 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:43.730 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:43.730 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:43.732 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:43.732 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:43.732 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-07-11 20:30:43.925 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:30:43.926 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:30:43.927 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:30:43.928 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:30:43.928 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:30:43.928 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:30:43.977 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:30:43.977 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 644 ms
2025-07-11 20:30:44.137 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Starting...
2025-07-11 20:30:44.154 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-17 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7cb59b1f
2025-07-11 20:30:44.155 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Start completed.
2025-07-11 20:30:44.184 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:30:44.220 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:30:44.291 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Shutdown initiated...
2025-07-11 20:30:44.349 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-17 - Shutdown completed.
2025-07-11 20:30:44.357 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:30:53.116 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:30:53.116 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:30:53.511 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:30:53.512 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:30:53.560 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 48 ms. Found 6 JPA repository interfaces.
2025-07-11 20:30:53.673 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:30:53.673 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:30:53.688 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:53.688 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:53.689 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:53.689 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:53.689 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:53.690 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:30:53.690 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-07-11 20:30:53.866 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:30:53.867 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:30:53.868 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:30:53.868 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:30:53.868 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:30:53.869 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:30:53.911 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:30:53.912 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 793 ms
2025-07-11 20:30:54.069 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Starting...
2025-07-11 20:30:54.091 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-18 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1d55f239
2025-07-11 20:30:54.091 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Start completed.
2025-07-11 20:30:54.125 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:30:54.164 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:30:54.239 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Shutdown initiated...
2025-07-11 20:30:54.293 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-18 - Shutdown completed.
2025-07-11 20:30:54.300 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:31:12.282 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:31:12.282 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:31:13.033 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:31:13.033 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:31:13.121 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 86 ms. Found 6 JPA repository interfaces.
2025-07-11 20:31:13.289 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:31:13.290 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:31:13.311 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:13.312 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:13.312 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:13.313 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:13.313 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:13.314 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:13.314 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-07-11 20:31:13.611 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:31:13.611 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:31:13.613 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:31:13.613 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:31:13.613 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:31:13.614 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:31:13.657 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:31:13.657 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1370 ms
2025-07-11 20:31:13.771 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Starting...
2025-07-11 20:31:13.786 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-19 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2f71dd48
2025-07-11 20:31:13.787 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Start completed.
2025-07-11 20:31:13.803 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:31:13.839 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:31:13.912 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Shutdown initiated...
2025-07-11 20:31:13.960 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-19 - Shutdown completed.
2025-07-11 20:31:13.976 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:31:16.498 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:31:16.498 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:31:16.672 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:31:16.672 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:31:16.702 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 20:31:16.769 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:31:16.769 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:31:16.779 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:16.779 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:16.780 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:16.780 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:16.780 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:16.780 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:16.780 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 20:31:16.914 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:31:16.915 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:31:16.915 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:31:16.916 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:31:16.916 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:31:16.917 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:31:16.963 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:31:16.963 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 464 ms
2025-07-11 20:31:17.131 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Starting...
2025-07-11 20:31:17.159 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-20 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7969a774
2025-07-11 20:31:17.160 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Start completed.
2025-07-11 20:31:17.207 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:31:17.250 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:31:17.339 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Shutdown initiated...
2025-07-11 20:31:17.398 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Shutdown completed.
2025-07-11 20:31:17.416 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:31:28.289 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:31:28.290 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:31:28.675 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:31:28.676 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:31:28.745 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 69 ms. Found 6 JPA repository interfaces.
2025-07-11 20:31:28.901 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:31:28.901 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:31:28.922 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:28.922 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:28.923 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:28.923 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:28.924 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:28.925 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:28.925 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-07-11 20:31:29.170 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:31:29.171 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:31:29.172 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:31:29.173 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:31:29.173 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:31:29.174 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:31:29.253 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:31:29.254 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 960 ms
2025-07-11 20:31:29.494 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Starting...
2025-07-11 20:31:29.518 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-21 - Added connection com.mysql.cj.jdbc.ConnectionImpl@58483591
2025-07-11 20:31:29.518 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Start completed.
2025-07-11 20:31:29.535 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:31:29.583 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:31:29.678 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Shutdown initiated...
2025-07-11 20:31:29.725 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-21 - Shutdown completed.
2025-07-11 20:31:29.734 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:31:31.195 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 29324 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:31:31.195 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:31:31.339 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:31:31.340 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:31:31.370 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 6 JPA repository interfaces.
2025-07-11 20:31:31.437 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:31:31.437 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:31:31.451 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:31.452 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:31.452 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:31.453 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:31.453 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:31.453 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:31:31.454 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-07-11 20:31:31.562 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:31:31.567 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:31:31.567 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:31:31.568 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:31:31.568 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:31:31.568 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:31:31.590 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:31:31.590 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 394 ms
2025-07-11 20:31:31.662 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-22 - Starting...
2025-07-11 20:31:31.675 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-22 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5ba5f258
2025-07-11 20:31:31.675 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-22 - Start completed.
2025-07-11 20:31:31.763 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:31:31.848 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:31:31.903 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-22 - Shutdown initiated...
2025-07-11 20:31:31.940 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-22 - Shutdown completed.
2025-07-11 20:31:31.949 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:32:39.449 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 20:32:39.506 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 17536 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:32:39.507 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:32:39.554 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 20:32:39.555 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 20:32:40.280 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:32:40.281 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:32:40.404 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 117 ms. Found 6 JPA repository interfaces.
2025-07-11 20:32:40.662 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:32:40.664 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:32:40.690 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:32:40.691 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:32:40.691 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:32:40.692 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:32:40.692 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:32:40.692 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:32:40.692 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-07-11 20:32:41.448 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:32:41.453 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:32:41.471 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:32:41.483 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:32:41.485 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:32:41.486 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:32:41.556 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:32:41.557 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2001 ms
2025-07-11 20:32:41.780 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 20:32:41.905 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c06f651
2025-07-11 20:32:41.906 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 20:32:41.941 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:32:42.023 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-11 20:32:42.047 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 20:32:42.081 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 20:32:42.090 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-11 20:39:49.367 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 20:39:49.421 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 35000 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:39:49.422 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:39:49.499 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 20:39:49.500 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 20:39:50.092 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:39:50.092 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:39:50.207 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 109 ms. Found 6 JPA repository interfaces.
2025-07-11 20:39:50.461 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:39:50.462 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:39:50.484 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:39:50.484 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:39:50.484 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:39:50.484 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:39:50.486 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:39:50.486 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:39:50.486 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2025-07-11 20:39:51.332 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:39:51.336 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:39:51.340 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:39:51.351 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:39:51.353 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:39:51.354 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:39:51.427 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:39:51.428 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1927 ms
2025-07-11 20:39:51.732 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 20:39:51.869 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36a6b767
2025-07-11 20:39:51.871 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 20:39:51.927 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:39:52.017 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.058s)
2025-07-11 20:39:52.042 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.005
2025-07-11 20:39:52.046 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 20:39:52.143 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 20:39:52.222 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 20:39:52.264 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 20:39:52.540 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 20:39:53.423 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 20:39:53.468 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 20:39:54.459 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 20:39:54.697 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 20:39:54.698 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 20:39:55.095 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 20:39:55.143 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 20:39:55.627 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 20:39:55.665 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 20:39:55.665 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 20:39:55.706 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 20:39:55.707 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:39:55.749 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:39:55.759 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:39:55.768 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:39:55.782 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 20:39:55.898 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 20:39:55.906 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 20:39:56.057 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 20:39:56.204 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 20:39:56.481 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 20:39:57.198 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 20:39:57.288 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 20:39:57.327 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 20:39:57.332 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 20:39:57.333 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@32fad998]]
2025-07-11 20:39:57.334 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 20:39:57.366 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 8.454 seconds (process running for 9.07)
2025-07-11 20:39:57.460 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 20:39:57.498 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 20:39:57.524 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 20:39:57.554 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 20:39:57.578 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 20:39:57.593 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 20:39:57.607 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 20:39:57.634 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 20:40:32.894 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 20:40:32.894 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 20:40:32.896 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 20:40:44.459 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 20:40:45.345 [http-nio-8080-exec-8] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 20:40:45.346 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 20:40:45.346 [http-nio-8080-exec-8] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=Web, ipAddress=null
2025-07-11 20:40:45.364 [http-nio-8080-exec-8] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=5
2025-07-11 20:40:45.434 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 20:40:45.437 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 20:40:47.240 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 20:40:47.244 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 20:40:47.301 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:40:47.306 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:40:47.306 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:40:47.306 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:40:47.808 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:40:47.809 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:40:47.809 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 20:40:47.830 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 20:40:47.832 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:40:47.832 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 20:40:47.833 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 20:40:47.833 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:40:47.834 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 20:40:47.834 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 20:40:47.836 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:40:47.837 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 20:40:47.837 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:40:47.841 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 20:40:47.844 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 20:40:47.855 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 20:40:47.855 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 20:40:47.856 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:40:47.856 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:40:47.856 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:40:47.856 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 20:40:47.857 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 20:40:47.857 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 20:40:47.857 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:40:47.857 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:40:47.857 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:40:47.858 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:40:47.858 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:40:47.871 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 20:40:47.872 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 20:40:47.873 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 20:40:57.243 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 20:41:30.518 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 20:41:30.666 [http-nio-8080-exec-3] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 20:41:30.672 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 20:41:30.672 [http-nio-8080-exec-3] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=Web, ipAddress=null
2025-07-11 20:41:30.678 [http-nio-8080-exec-3] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=5
2025-07-11 20:41:30.682 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 20:41:30.682 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 20:41:32.340 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 20:41:32.342 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 20:41:32.378 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:41:32.381 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:41:32.381 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:41:32.382 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:41:32.891 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:41:32.892 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:41:32.895 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 20:41:32.904 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 20:41:32.905 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 20:41:32.906 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:41:32.906 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 20:41:32.906 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 20:41:32.906 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:41:32.906 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 20:41:32.907 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:41:32.907 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 20:41:32.907 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:41:32.907 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 20:41:32.908 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 20:41:32.919 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 20:41:32.920 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 20:41:32.920 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:41:32.921 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:41:32.921 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:41:32.922 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 20:41:32.922 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 20:41:32.922 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 20:41:32.922 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:41:32.923 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:41:32.924 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:41:32.924 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:41:32.924 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:41:32.932 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 20:41:32.933 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 20:41:32.933 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 20:41:34.798 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:41:39.681 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:41:45.591 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:41:45.594 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:41:45.594 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:41:45.594 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:41:58.624 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:41:58.627 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:41:58.627 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:41:58.627 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:42:01.980 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:42:01.982 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:42:01.982 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:42:01.982 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:42:02.376 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:42:02.378 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:42:02.378 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:42:02.378 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:42:18.688 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:42:18.690 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:42:18.690 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:42:18.690 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:42:33.976 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 20:42:33.977 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 20:42:34.015 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:42:34.017 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:42:34.018 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:42:34.018 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:42:34.518 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:42:34.518 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 20:42:34.518 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:42:34.523 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 20:42:34.523 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:42:34.523 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 20:42:34.523 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 20:42:34.524 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:42:34.524 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 20:42:34.524 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:42:34.524 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 20:42:34.524 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:42:34.524 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 20:42:34.525 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 20:42:34.525 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 20:42:34.536 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 20:42:34.536 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 20:42:34.537 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:42:34.537 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:42:34.537 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:42:34.537 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 20:42:34.537 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 20:42:34.537 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 20:42:34.537 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:42:34.537 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:42:34.537 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:42:34.538 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:42:34.538 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:42:34.543 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 20:42:34.543 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 20:42:34.544 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 20:42:39.541 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 20:42:39.659 [http-nio-8080-exec-7] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 20:42:39.659 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 20:42:39.659 [http-nio-8080-exec-7] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=Web, ipAddress=null
2025-07-11 20:42:39.664 [http-nio-8080-exec-7] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=5
2025-07-11 20:42:39.666 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 20:42:39.667 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 20:42:41.264 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 20:42:41.265 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 20:42:41.302 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:42:41.306 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:42:41.307 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:42:41.307 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:42:41.802 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:42:41.803 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:42:41.805 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 20:42:41.812 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 20:42:41.813 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 20:42:41.813 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:42:41.813 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 20:42:41.814 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 20:42:41.814 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:42:41.815 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 20:42:41.815 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:42:41.815 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 20:42:41.816 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:42:41.817 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 20:42:41.818 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 20:42:41.825 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 20:42:41.826 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 20:42:41.827 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:42:41.827 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:42:41.827 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:42:41.828 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 20:42:41.828 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 20:42:41.829 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 20:42:41.829 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:42:41.829 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:42:41.830 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:42:41.830 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:42:41.830 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:42:41.837 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 20:42:41.838 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 20:42:41.838 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 20:42:43.451 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:42:45.773 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:42:49.018 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线用户设备: userId=1, deviceId=5
2025-07-11 20:42:49.024 [http-nio-8080-exec-3] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新设备状态（根据设备信息）: userId=1, deviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0, isActive=false
2025-07-11 20:42:49.034 [http-nio-8080-exec-3] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 设备状态已更新: deviceId=5, isActive=false
2025-07-11 20:42:49.034 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线用户设备: userId=1, deviceId=5, deviceType=web
2025-07-11 20:43:19.449 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: 3280164803@qq.com
2025-07-11 20:43:19.601 [http-nio-8080-exec-10] INFO  c.i.i.a.service.AccountLockService - 用户 3280164803@qq.com 无登录失败记录需要清除
2025-07-11 20:43:19.602 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=2, email=3280164803@qq.com
2025-07-11 20:43:19.602 [http-nio-8080-exec-10] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=2, deviceType=Web, ipAddress=null
2025-07-11 20:43:19.609 [http-nio-8080-exec-10] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=2
2025-07-11 20:43:19.612 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=2
2025-07-11 20:43:19.614 [http-nio-8080-exec-10] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=2, email=3280164803@qq.com, rememberMe=true
2025-07-11 20:43:21.228 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 20:43:21.229 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=2
2025-07-11 20:43:21.265 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 20:43:21.270 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 2 ===
2025-07-11 20:43:21.270 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:43:21.270 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:43:21.763 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 2
2025-07-11 20:43:21.765 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:43:21.766 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:43:21.770 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 20:43:21.771 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=24, 名称=202302091675904140211711.jpg, 类型=image, 大小=7125
2025-07-11 20:43:21.772 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 20:43:21.772 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=7125, typeStats={image=1}
2025-07-11 20:43:21.782 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 20:43:21.793 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 2 的所有文件记录数（包括已删除）: 1
2025-07-11 20:43:21.794 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=24, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:43:21.794 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:43:21.798 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 20:43:21.798 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 20:43:21.798 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 用户 2 找到 1 个文件
2025-07-11 20:43:26.924 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 20:43:26.927 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 2 ===
2025-07-11 20:43:26.927 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:43:26.927 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:43:28.129 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=2
2025-07-11 20:43:30.799 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=2
2025-07-11 20:43:49.972 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 20:43:49.974 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 2 ===
2025-07-11 20:43:49.974 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:43:49.975 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:43:51.252 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 20:43:51.254 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 2 ===
2025-07-11 20:43:51.254 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:43:51.254 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:43:53.328 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 20:43:53.329 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=2
2025-07-11 20:43:53.354 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 2
2025-07-11 20:43:53.356 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 2 ===
2025-07-11 20:43:53.357 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:43:53.357 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:43:53.870 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:43:53.870 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 2
2025-07-11 20:43:53.870 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 2, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:43:53.874 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 20:43:53.874 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=24, 名称=202302091675904140211711.jpg, 类型=image, 大小=7125
2025-07-11 20:43:53.874 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 20:43:53.874 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=7125, typeStats={image=1}
2025-07-11 20:43:53.877 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 20:43:53.884 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 2 的所有文件记录数（包括已删除）: 1
2025-07-11 20:43:53.884 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=24, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:43:53.884 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:43:53.888 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 20:43:53.888 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 20:43:53.888 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 2 找到 1 个文件
2025-07-11 20:44:04.296 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 20:44:04.416 [http-nio-8080-exec-1] INFO  c.i.i.a.service.AccountLockService - 用户 jiapei1219@gmail.com 无登录失败记录需要清除
2025-07-11 20:44:04.416 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户密码验证成功: userId=1, email=jiapei1219@gmail.com
2025-07-11 20:44:04.416 [http-nio-8080-exec-1] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=1, deviceType=Web, ipAddress=null
2025-07-11 20:44:04.420 [http-nio-8080-exec-1] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 更新现有设备记录: deviceId=5
2025-07-11 20:44:04.422 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户选择记住登录状态，设置长期token: userId=1
2025-07-11 20:44:04.422 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户登录成功: userId=1, email=jiapei1219@gmail.com, rememberMe=true
2025-07-11 20:44:06.022 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 20:44:06.024 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 20:44:06.062 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:44:06.067 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:44:06.067 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:44:06.067 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:44:06.572 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 20:44:06.575 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:44:06.576 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:44:06.579 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 20:44:06.580 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:44:06.581 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 20:44:06.581 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 20:44:06.581 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:44:06.581 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 20:44:06.582 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:44:06.582 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 20:44:06.583 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:44:06.584 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 20:44:06.584 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 20:44:06.591 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 20:44:06.606 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 20:44:06.607 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 20:44:06.607 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:44:06.608 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:44:06.608 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:44:06.608 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 20:44:06.609 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 20:44:06.609 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 20:44:06.610 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:44:06.610 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:44:06.610 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:44:06.610 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:44:06.610 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:44:06.616 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 20:44:06.617 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 20:44:06.618 [http-nio-8080-exec-7] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 20:44:08.436 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:44:10.059 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=1
2025-07-11 20:44:14.025 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 20:44:14.027 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=1
2025-07-11 20:44:14.067 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:44:14.070 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:44:14.071 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:44:14.071 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:44:14.563 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 1
2025-07-11 20:44:14.567 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:44:14.567 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 1, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:44:14.570 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 8
2025-07-11 20:44:14.570 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=28, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:44:14.570 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=27, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 20:44:14.570 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=13, 名称=202302091675904138327528.jpg, 类型=image, 大小=39239
2025-07-11 20:44:14.571 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=12, 名称=202302091675904140211711.jpg, 类型=image, 大小=23656
2025-07-11 20:44:14.571 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=10, 名称=屏幕截图 2024-08-10 200902.png, 类型=image, 大小=887818
2025-07-11 20:44:14.571 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=8, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:44:14.571 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=7, 名称=202302091675904138327528.jpg, 类型=image, 大小=120400
2025-07-11 20:44:14.571 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=6, 名称=test-image.txt, 类型=document, 大小=427
2025-07-11 20:44:14.572 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=6, document=2}
2025-07-11 20:44:14.572 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=8, totalSize=1105144, typeStats={image=6, document=2}
2025-07-11 20:44:14.578 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 13
2025-07-11 20:44:14.587 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 1 的所有文件记录数（包括已删除）: 11
2025-07-11 20:44:14.588 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=5, 原始名称=test-image.svg, 是否删除=true, 文件类型=other
2025-07-11 20:44:14.588 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=6, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:44:14.588 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=7, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:44:14.588 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=8, 原始名称=test-image.txt, 是否删除=false, 文件类型=document
2025-07-11 20:44:14.588 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=9, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=true, 文件类型=image
2025-07-11 20:44:14.588 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=10, 原始名称=屏幕截图 2024-08-10 200902.png, 是否删除=false, 文件类型=image
2025-07-11 20:44:14.588 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=11, 原始名称=202302091675904140211711.jpg, 是否删除=true, 文件类型=image
2025-07-11 20:44:14.588 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=12, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:44:14.588 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=13, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:44:14.589 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=27, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:44:14.589 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=28, 原始名称=202302091675904140211711.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:44:14.589 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:44:14.594 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 8, 当前页数量: 8
2025-07-11 20:44:14.594 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 8
2025-07-11 20:44:14.594 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 用户 1 找到 8 个文件
2025-07-11 20:44:30.539 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 1
2025-07-11 20:44:30.541 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 1 ===
2025-07-11 20:44:30.542 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:44:30.542 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:46:06.751 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理密码登录请求: jiapei1219@gmail.com
2025-07-11 20:46:18.076 [http-nio-8080-exec-2] INFO  c.i.i.a.s.i.VerificationServiceImpl - 开始发送注册验证码到: jiapei1219@gmail.com
2025-07-11 20:46:18.112 [http-nio-8080-exec-2] INFO  c.i.i.c.s.impl.EmailServiceImpl - 开始发送验证码邮件到: jiapei1219@gmail.com
2025-07-11 20:46:19.536 [http-nio-8080-exec-2] INFO  c.i.i.c.s.impl.EmailServiceImpl - 验证码邮件发送成功: jiapei1219@gmail.com, 验证码: 302190
2025-07-11 20:46:19.536 [http-nio-8080-exec-2] INFO  c.i.i.a.s.i.VerificationServiceImpl - 注册验证码邮件发送成功: email=jiapei1219@gmail.com, code=302190, expiresAt=2025-07-11T20:51:18.090997400
2025-07-11 20:46:34.400 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 开始处理邮箱注册请求: jiapei1219@gmail.com
2025-07-11 20:46:34.400 [http-nio-8080-exec-6] INFO  c.i.i.a.s.i.VerificationServiceImpl - 开始验证验证码: email=jiapei1219@gmail.com, codeType=register
2025-07-11 20:46:34.406 [http-nio-8080-exec-6] INFO  c.i.i.a.s.i.VerificationServiceImpl - 验证码验证成功: email=jiapei1219@gmail.com, codeType=register
2025-07-11 20:46:34.479 [http-nio-8080-exec-6] INFO  c.i.i.a.service.impl.AuthServiceImpl - 用户注册成功: userId=4, email=jiapei1219@gmail.com
2025-07-11 20:46:34.479 [http-nio-8080-exec-6] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 记录登录设备: userId=4, deviceType=Web, ipAddress=null
2025-07-11 20:46:34.482 [http-nio-8080-exec-6] INFO  c.i.i.a.s.impl.DeviceServiceImpl - 创建新设备记录
2025-07-11 20:46:37.588 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 20:46:37.589 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=4
2025-07-11 20:46:37.620 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:46:37.623 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:46:37.623 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:46:37.623 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:46:38.120 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:46:38.120 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:46:38.120 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 20:46:38.124 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 0
2025-07-11 20:46:38.124 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {}
2025-07-11 20:46:38.124 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=0, totalSize=0, typeStats={}
2025-07-11 20:46:38.127 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 2
2025-07-11 20:46:38.137 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 0
2025-07-11 20:46:38.137 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:46:38.140 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 0, 当前页数量: 0
2025-07-11 20:46:38.140 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 0
2025-07-11 20:46:39.183 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:46:39.185 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:46:39.185 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:46:39.185 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:46:43.782 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=4, fileName=202302091675904138327528.jpg
2025-07-11 20:46:43.786 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=4, fileName=202302091675904138327528.jpg
2025-07-11 20:46:44.039 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/4/fb6a3e2b-891c-490c-b5a1-471b6fcbeb02.jpg
2025-07-11 20:46:44.045 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=4, fileId=30, fileName=202302091675904138327528.jpg
2025-07-11 20:46:44.045 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=4, avatarUrl=http://localhost:9000/im-public-images/public/image/4/fb6a3e2b-891c-490c-b5a1-471b6fcbeb02.jpg
2025-07-11 20:46:44.075 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:46:44.078 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:46:44.078 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: null ===
2025-07-11 20:46:44.078 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 用户没有状态数据 ===
2025-07-11 20:46:59.784 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 4
2025-07-11 20:46:59.788 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 4
2025-07-11 20:47:00.929 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 4
2025-07-11 20:47:00.933 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 4
2025-07-11 20:47:00.959 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:47:00.960 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:47:00.961 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:46:59.788170"} ===
2025-07-11 20:47:00.962 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:46:59.788170} ===
2025-07-11 20:47:00.962 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:47:00.963 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:47:00.963 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:47:00.977 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置个人ID，用户ID: 4, 个人ID: test_004
2025-07-11 20:47:07.535 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 4
2025-07-11 20:47:07.538 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 4
2025-07-11 20:47:07.553 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:47:07.557 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:47:07.557 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:46:59.788170"} ===
2025-07-11 20:47:07.558 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:46:59.788170} ===
2025-07-11 20:47:07.558 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:47:07.558 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:47:07.558 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:47:07.578 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置个人ID，用户ID: 4, 个人ID: test_004
2025-07-11 20:47:07.615 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:47:07.617 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:47:07.617 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:46:59.788170"} ===
2025-07-11 20:47:07.617 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:46:59.788170} ===
2025-07-11 20:47:07.617 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:47:07.617 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:47:07.617 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:47:13.904 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 4
2025-07-11 20:47:13.906 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 4
2025-07-11 20:47:13.918 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:47:13.920 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:47:13.921 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:46:59.788170"} ===
2025-07-11 20:47:13.921 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:46:59.788170} ===
2025-07-11 20:47:13.921 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:47:13.921 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:47:13.921 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:47:13.934 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置个人ID，用户ID: 4, 个人ID: test_004
2025-07-11 20:47:21.566 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 4
2025-07-11 20:47:21.568 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 4
2025-07-11 20:47:21.581 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:47:21.583 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:47:21.584 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:46:59.788170"} ===
2025-07-11 20:47:21.584 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:46:59.788170} ===
2025-07-11 20:47:21.584 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:47:21.584 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:47:21.584 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:47:21.595 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置个人ID，用户ID: 4, 个人ID: test_002
2025-07-11 20:47:21.601 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 个人ID设置成功，用户ID: 4, 个人ID: test_002
2025-07-11 20:47:21.624 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:47:21.626 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:47:21.626 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:46:59.788170"} ===
2025-07-11 20:47:21.626 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:46:59.788170} ===
2025-07-11 20:47:21.626 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:47:21.626 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:47:21.627 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:47:25.836 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 20:47:25.836 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:47:25.836 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:47:25.842 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 20:47:25.842 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=30, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 20:47:25.842 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 20:47:25.843 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=9521, typeStats={image=1}
2025-07-11 20:47:25.846 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 20:47:25.855 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 20:47:25.855 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=30, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:47:25.855 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:47:25.858 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 20:47:25.859 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 20:47:25.859 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 20:47:28.686 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:47:28.686 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:47:28.686 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 20:47:28.690 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 20:47:28.690 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=30, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 20:47:28.691 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 20:47:28.691 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=9521, typeStats={image=1}
2025-07-11 20:47:28.693 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 20:47:28.700 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 20:47:28.700 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=30, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:47:28.700 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:47:28.703 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 20:47:28.703 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 20:47:28.703 [http-nio-8080-exec-2] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 20:47:31.196 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 20:47:31.197 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:47:31.197 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:47:31.200 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 20:47:31.201 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=30, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 20:47:31.201 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 20:47:31.201 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=9521, typeStats={image=1}
2025-07-11 20:47:31.203 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 20:47:31.209 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 20:47:31.210 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=30, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:47:31.210 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:47:31.212 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 20:47:31.213 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 20:47:31.213 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 20:47:37.590 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:47:37.590 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 20:47:37.590 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:47:37.595 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 20:47:37.595 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=30, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 20:47:37.596 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 20:47:37.596 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=9521, typeStats={image=1}
2025-07-11 20:47:37.601 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 20:47:37.609 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 20:47:37.609 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=30, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:47:37.609 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:47:37.611 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:47:37.612 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 20:47:37.612 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:47:37.612 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 20:47:37.612 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:46:59.788170"} ===
2025-07-11 20:47:37.612 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 20:47:37.613 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:46:59.788170} ===
2025-07-11 20:47:37.613 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:47:37.613 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:47:37.613 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:47:39.399 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:47:39.401 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:47:39.401 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:46:59.788170"} ===
2025-07-11 20:47:39.402 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:46:59.788170} ===
2025-07-11 20:47:39.402 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:47:39.402 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:47:39.402 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:47:41.225 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:47:41.227 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:47:41.227 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:46:59.788170"} ===
2025-07-11 20:47:41.227 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:46:59.788170} ===
2025-07-11 20:47:41.227 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:47:41.228 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:47:41.228 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:47:44.735 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:47:44.737 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:47:44.737 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:46:59.788170"} ===
2025-07-11 20:47:44.737 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:46:59.788170} ===
2025-07-11 20:47:44.737 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:47:44.737 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:47:44.737 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:47:46.543 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:47:46.545 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:47:46.545 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:46:59.788170"} ===
2025-07-11 20:47:46.546 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:46:59.788170} ===
2025-07-11 20:47:46.546 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:47:46.546 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:47:46.546 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:48:05.629 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 20:48:05.630 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:48:05.630 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:48:05.634 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 20:48:05.634 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=30, 名称=202302091675904138327528.jpg, 类型=image, 大小=9521
2025-07-11 20:48:05.634 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 20:48:05.634 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=9521, typeStats={image=1}
2025-07-11 20:48:05.637 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 20:48:05.644 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 20:48:05.644 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=30, 原始名称=202302091675904138327528.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:48:05.644 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:48:05.646 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 20:48:05.647 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 20:48:05.647 [http-nio-8080-exec-5] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 20:48:07.620 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:48:07.624 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:48:07.625 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:46:59.788170"} ===
2025-07-11 20:48:07.625 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:46:59.788170} ===
2025-07-11 20:48:07.625 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:48:07.625 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:48:07.625 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:48:12.673 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:48:12.676 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:48:12.676 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:46:59.788170"} ===
2025-07-11 20:48:12.676 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:46:59.788170} ===
2025-07-11 20:48:12.677 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:48:12.677 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:48:12.677 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:48:15.392 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 开始更新用户头像: userId=4, fileName=202302091675904140726704.jpg
2025-07-11 20:48:15.393 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 开始上传用户头像: userId=4, fileName=202302091675904140726704.jpg
2025-07-11 20:48:15.409 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 公开文件物理删除成功: fileId=30, userId=4
2025-07-11 20:48:15.409 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 删除用户旧头像: userId=4, fileId=30
2025-07-11 20:48:15.430 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.MinioServiceImpl - 文件上传成功（含标签）: im-public-images/public/image/4/cec9d8ac-275c-4949-8eb2-65e7069140eb.jpg
2025-07-11 20:48:15.434 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.PublicFileUploadServiceImpl - 用户头像上传成功: userId=4, fileId=31, fileName=202302091675904140726704.jpg
2025-07-11 20:48:15.434 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户头像更新成功: userId=4, avatarUrl=http://localhost:9000/im-public-images/public/image/4/cec9d8ac-275c-4949-8eb2-65e7069140eb.jpg
2025-07-11 20:48:15.460 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:48:15.462 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:48:15.462 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:46:59.788170"} ===
2025-07-11 20:48:15.462 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:46:59.788170} ===
2025-07-11 20:48:15.462 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:48:15.462 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:48:15.462 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:48:16.717 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 更新用户资料，用户ID: 4
2025-07-11 20:48:16.719 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户资料更新成功，用户ID: 4
2025-07-11 20:48:16.732 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:48:16.734 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:48:16.734 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:46:59.788170"} ===
2025-07-11 20:48:16.734 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:46:59.788170} ===
2025-07-11 20:48:16.734 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:48:16.735 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:48:16.735 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:48:16.747 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 设置用户状态，用户ID: 4
2025-07-11 20:48:16.749 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 用户状态设置成功，用户ID: 4
2025-07-11 20:48:16.769 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:48:16.772 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:48:16.772 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:48:16.772 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:48:16.772 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:48:16.772 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:48:16.772 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:48:20.388 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 20:48:20.389 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:48:20.389 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:48:20.392 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 20:48:20.393 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=31, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 20:48:20.393 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 20:48:20.393 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 20:48:20.397 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 20:48:20.405 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 20:48:20.405 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=31, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:48:20.405 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:48:20.409 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 20:48:20.409 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 20:48:20.409 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 20:48:24.788 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:48:24.789 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:48:24.789 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:48:24.789 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:48:24.790 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:48:24.790 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:48:24.790 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:48:33.146 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 20:48:37.619 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:48:37.623 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:48:37.623 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:48:37.623 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:48:37.623 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:48:37.623 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:48:37.623 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:48:57.435 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:48:57.438 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:48:57.438 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:48:57.438 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:48:57.438 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:48:57.438 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:48:57.438 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:49:07.276 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:49:07.279 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:49:07.279 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:49:07.279 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:49:07.279 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:49:07.279 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:49:07.279 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:49:07.609 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:49:07.611 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:49:07.611 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:49:07.611 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:49:07.611 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:49:07.611 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:49:07.611 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:49:19.517 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:49:19.519 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:49:19.519 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:49:19.519 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:49:19.519 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:49:19.519 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:49:19.520 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:49:37.962 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:49:37.964 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:49:37.964 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:49:37.964 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:49:37.964 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:49:37.964 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:49:37.964 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:49:41.163 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:49:41.166 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:49:41.166 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:49:41.166 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:49:41.167 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:49:41.167 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:49:41.167 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:49:45.156 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:49:45.158 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:49:45.158 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:49:45.158 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:49:45.158 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:49:45.159 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:49:45.159 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:50:07.967 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:50:07.969 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:50:07.969 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:50:07.970 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:50:07.970 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:50:07.970 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:50:07.970 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:50:37.959 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:50:37.961 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:50:37.961 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:50:37.961 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:50:37.961 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:50:37.961 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:50:37.961 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:51:38.995 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:51:39.007 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:51:39.007 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:51:39.008 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:51:39.008 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:51:39.008 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:51:39.008 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:52:49.631 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 20:52:49.712 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 34432 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 20:52:49.716 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 20:52:49.793 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 20:52:49.793 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 20:52:50.907 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:52:50.907 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 20:52:51.174 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 247 ms. Found 6 JPA repository interfaces.
2025-07-11 20:52:51.468 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 20:52:51.469 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 20:52:51.493 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:52:51.493 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:52:51.495 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:52:51.495 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:52:51.495 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:52:51.495 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 20:52:51.495 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-07-11 20:52:52.279 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 20:52:52.283 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 20:52:52.288 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 20:52:52.304 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 20:52:52.307 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 20:52:52.307 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 20:52:52.389 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 20:52:52.391 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2596 ms
2025-07-11 20:52:52.713 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 20:52:52.930 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c06f651
2025-07-11 20:52:52.933 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 20:52:53.075 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 20:52:53.194 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.068s)
2025-07-11 20:52:53.227 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.005
2025-07-11 20:52:53.233 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 20:52:53.484 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 20:52:53.560 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 20:52:53.607 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 20:52:53.947 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 20:52:55.350 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 20:52:55.396 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 20:52:56.083 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 20:52:56.258 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 20:52:56.258 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 20:52:56.433 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 20:52:56.466 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 20:52:56.825 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 20:52:56.853 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 20:52:56.854 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 20:52:56.901 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 20:52:56.901 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:52:56.935 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:52:56.942 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:52:56.950 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 20:52:56.968 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 20:52:57.068 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 20:52:57.074 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 20:52:57.239 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 20:52:57.441 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 20:52:57.878 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 20:52:58.599 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 20:52:58.660 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 20:52:58.687 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 20:52:58.690 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 20:52:58.690 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@10bc3ccc]]
2025-07-11 20:52:58.691 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 20:52:58.712 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 9.715 seconds (process running for 10.238)
2025-07-11 20:52:58.765 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 20:52:58.796 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 20:52:58.815 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 20:52:58.836 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 20:52:58.858 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 20:52:58.876 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 20:52:58.895 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 20:52:58.937 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 20:53:00.456 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 20:53:00.456 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 20:53:00.459 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 20:53:00.786 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 20:53:00.789 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=4
2025-07-11 20:53:00.967 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:53:00.971 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:53:00.971 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:53:00.972 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:53:00.973 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:53:00.973 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:53:00.973 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:53:01.949 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 20:53:01.954 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:53:01.954 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:53:01.981 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 20:53:01.987 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 20:53:01.988 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=31, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 20:53:01.989 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 20:53:01.989 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 20:53:01.995 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 20:53:01.995 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=31, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:53:01.995 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:53:02.003 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 20:53:02.004 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 20:53:02.004 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 20:53:06.805 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:53:06.813 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:53:06.814 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:53:06.815 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:53:06.815 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:53:06.816 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:53:06.816 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:53:07.701 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 20:53:07.705 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=4
2025-07-11 20:53:07.778 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:53:07.785 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:53:07.786 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:53:07.787 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:53:07.788 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:53:07.788 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:53:07.789 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:53:08.268 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:53:08.269 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:53:08.270 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 20:53:08.283 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 20:53:08.284 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=31, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 20:53:08.285 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 20:53:08.285 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 20:53:08.289 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 20:53:08.314 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 20:53:08.315 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=31, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:53:08.315 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:53:08.324 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 20:53:08.324 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 20:53:08.325 [http-nio-8080-exec-8] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 20:53:09.865 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 20:53:13.031 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:53:13.034 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:53:13.035 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:53:13.036 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:53:13.037 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:53:13.037 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:53:13.037 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:53:13.371 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 20:53:13.379 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 20:53:13.447 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 20:53:15.980 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:53:15.986 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:53:15.987 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:53:15.988 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:53:15.989 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:53:15.990 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:53:15.992 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:53:20.165 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 20:53:20.172 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 20:53:20.198 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 20:53:37.948 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:53:37.951 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:53:37.951 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:53:37.951 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:53:37.952 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:53:37.952 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:53:37.952 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:53:58.621 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 20:54:07.943 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:54:07.946 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:54:07.947 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:54:07.947 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:54:07.948 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:54:07.948 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:54:07.948 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:54:37.937 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:54:37.939 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:54:37.939 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:54:37.939 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:54:37.939 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:54:37.939 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:54:37.939 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:55:04.479 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:55:04.482 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:55:04.482 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:55:04.482 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:55:04.482 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:55:04.482 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:55:04.482 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:55:05.969 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 20:55:05.972 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 20:55:05.992 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 20:55:07.750 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:55:07.752 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:55:07.752 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:55:07.752 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:55:07.752 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:55:07.753 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:55:07.753 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:55:12.312 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 20:55:12.314 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=4
2025-07-11 20:55:12.358 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:55:12.362 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:55:12.363 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:55:12.363 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:55:12.364 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:55:12.364 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:55:12.364 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:55:12.875 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:55:12.877 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 20:55:12.879 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 20:55:12.891 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 20:55:12.892 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=31, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 20:55:12.893 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 20:55:12.894 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 20:55:12.896 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 20:55:12.916 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 20:55:12.916 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=31, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 20:55:12.917 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 20:55:12.923 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 20:55:12.923 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 20:55:12.923 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 20:55:31.866 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 20:55:35.019 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 20:55:35.022 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 20:55:35.055 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 20:55:38.158 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 20:55:38.161 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 20:55:38.187 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 20:55:42.352 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:55:42.355 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:55:42.355 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:55:42.355 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:55:42.356 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:55:42.356 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:55:42.356 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:56:12.362 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:56:12.364 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:56:12.365 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:56:12.365 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:56:12.365 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:56:12.365 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:56:12.365 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:56:42.931 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:56:42.936 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:56:42.936 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:56:42.937 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:56:42.938 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:56:42.938 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:56:42.939 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:57:12.933 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:57:12.938 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:57:12.938 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:57:12.939 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:57:12.939 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:57:12.939 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:57:12.940 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:57:42.932 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:57:42.935 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:57:42.935 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:57:42.936 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:57:42.936 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:57:42.936 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:57:42.937 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:57:44.582 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:57:44.586 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:57:44.586 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:57:44.586 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:57:44.587 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:57:44.587 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:57:44.587 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:57:53.731 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 20:57:53.737 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 20:57:53.765 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 20:57:57.164 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:57:57.167 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:57:57.168 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:57:57.168 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:57:57.168 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:57:57.169 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:57:57.169 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:58:01.703 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:58:01.706 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:58:01.707 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:58:01.707 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:58:01.707 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:58:01.707 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:58:01.708 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:58:09.267 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:58:09.270 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:58:09.270 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:58:09.271 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:58:09.271 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:58:09.271 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:58:09.272 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:58:12.934 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:58:12.941 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:58:12.943 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:58:12.945 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:58:12.945 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:58:12.945 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:58:12.945 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:58:14.541 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:58:14.544 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:58:14.544 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:58:14.545 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:58:14.546 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:58:14.546 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:58:14.547 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:58:25.578 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:58:25.581 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:58:25.582 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:58:25.582 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:58:25.582 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:58:25.582 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:58:25.582 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:58:42.915 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:58:42.919 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:58:42.919 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:58:42.919 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:58:42.920 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:58:42.920 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:58:42.920 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:59:12.910 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:59:12.913 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:59:12.913 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:59:12.913 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:59:12.914 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:59:12.914 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:59:12.914 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:59:58.907 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 20:59:58.909 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 20:59:58.910 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 20:59:58.910 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 20:59:58.910 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 20:59:58.910 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 20:59:58.911 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 20:59:59.969 [MessageBroker-14] INFO  c.i.i.u.s.DataConsistencyService - 开始执行数据一致性检查
2025-07-11 20:59:59.970 [MessageBroker-7] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 开始执行过期临时文件清理任务
2025-07-11 20:59:59.978 [MessageBroker-7] INFO  c.i.i.u.t.TemporaryFileCleanupTask - 没有发现过期的临时文件
2025-07-11 21:00:00.004 [MessageBroker-14] INFO  c.i.i.u.s.DataConsistencyService - 数据一致性检查完成，发现 0 个不一致项
2025-07-11 21:01:52.166 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 21:01:52.201 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 8040 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 21:01:52.203 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 21:01:52.238 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 21:01:52.238 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 21:01:52.839 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 21:01:52.841 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 21:01:52.984 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 137 ms. Found 6 JPA repository interfaces.
2025-07-11 21:01:53.388 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 21:01:53.390 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 21:01:53.420 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:01:53.421 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:01:53.423 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:01:53.423 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:01:53.423 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:01:53.423 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:01:53.425 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-07-11 21:01:54.618 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 21:01:54.623 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 21:01:54.627 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 21:01:54.639 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 21:01:54.641 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 21:01:54.642 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 21:01:54.706 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 21:01:54.708 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2467 ms
2025-07-11 21:01:55.003 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 21:01:55.139 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c06f651
2025-07-11 21:01:55.141 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 21:01:55.200 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 21:01:55.311 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.071s)
2025-07-11 21:01:55.344 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.005
2025-07-11 21:01:55.350 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 21:01:55.487 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 21:01:55.547 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 21:01:55.581 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 21:01:55.812 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 21:01:56.474 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 21:01:56.507 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 21:01:57.121 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 21:01:57.264 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 21:01:57.264 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 21:01:57.427 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 21:01:57.461 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 21:01:57.794 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 21:01:57.822 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 21:01:57.823 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 21:01:57.854 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 21:01:57.855 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:01:57.886 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:01:57.895 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:01:57.907 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:01:57.917 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 21:01:58.012 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 21:01:58.019 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 21:01:58.134 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 21:01:58.251 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 21:01:58.431 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 21:01:58.835 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 21:01:58.881 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 21:01:58.900 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 21:01:58.903 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 21:01:58.904 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3901067b]]
2025-07-11 21:01:58.905 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 21:01:58.928 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 7.093 seconds (process running for 7.446)
2025-07-11 21:01:58.977 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 21:01:58.977 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 21:01:58.978 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 21:01:58.979 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 21:01:58.996 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 21:01:59.013 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 21:01:59.030 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 21:01:59.047 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 21:01:59.063 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 21:01:59.079 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 21:01:59.111 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:01:59.119 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 21:01:59.138 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:01:59.138 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:01:59.138 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:01:59.139 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:01:59.139 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:01:59.140 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:02:58.858 [MessageBroker-8] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 21:02:58.907 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:02:58.911 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:02:58.911 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:02:58.911 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:02:58.912 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:02:58.912 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:02:58.912 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:03:57.692 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:03:57.696 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:03:57.696 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:03:57.697 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:03:57.697 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:03:57.697 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:03:57.697 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:03:57.715 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:03:57.718 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:03:57.718 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:03:57.719 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:03:57.719 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:03:57.719 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:03:57.719 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:03:59.903 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 21:03:59.904 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=4
2025-07-11 21:03:59.936 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:03:59.938 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:03:59.939 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:03:59.939 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:03:59.940 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:03:59.940 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:03:59.940 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:04:00.467 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 21:04:00.470 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 21:04:00.470 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 21:04:00.488 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 21:04:00.498 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 21:04:00.498 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=31, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 21:04:00.498 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 21:04:00.501 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 21:04:00.502 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=31, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 21:04:00.503 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 21:04:00.503 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 21:04:00.511 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 21:04:00.512 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 21:04:00.512 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 21:04:04.124 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:04:05.601 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:04:05.606 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:04:05.636 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:04:22.734 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:04:22.744 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:04:22.744 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:04:22.745 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:04:22.745 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:04:22.745 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:04:22.745 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:04:25.547 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:04:30.901 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:04:30.904 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:04:30.904 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:04:30.905 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:04:30.905 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:04:30.906 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:04:30.906 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:04:30.970 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:04:30.973 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:04:30.974 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:04:30.974 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:04:30.974 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:04:30.974 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:04:30.975 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:04:34.412 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:04:34.414 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:04:34.415 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:04:34.415 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:04:34.415 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:04:34.415 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:04:34.415 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:04:34.948 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:04:34.955 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:04:34.977 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:04:47.965 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:04:47.967 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:04:47.967 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:04:47.967 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:04:47.968 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:04:47.968 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:04:47.968 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:04:59.983 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:04:59.986 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:04:59.986 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:04:59.987 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:04:59.987 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:04:59.987 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:04:59.988 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:05:29.975 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:05:29.977 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:05:29.977 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:05:29.978 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:05:29.978 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:05:29.979 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:05:29.979 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:05:49.855 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:05:49.858 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:05:49.858 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:05:49.858 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:05:49.859 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:05:49.859 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:05:49.860 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:05:57.207 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:05:57.211 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:05:57.243 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:06:00.891 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:06:00.896 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:06:00.896 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:06:00.897 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:06:00.898 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:06:00.899 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:06:00.900 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:06:30.880 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:06:30.883 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:06:30.883 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:06:30.884 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:06:30.884 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:06:30.884 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:06:30.884 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:06:34.353 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:06:34.356 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:06:34.356 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:06:34.356 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:06:34.356 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:06:34.356 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:06:34.356 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:07:00.872 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:07:00.875 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:07:00.875 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:07:00.875 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:07:00.875 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:07:00.875 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:07:00.875 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:07:30.885 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:07:30.887 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:07:30.887 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:07:30.888 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:07:30.888 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:07:30.888 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:07:30.888 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:07:33.469 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:07:33.473 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:07:33.473 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:07:33.473 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:07:33.473 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:07:33.473 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:07:33.473 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:08:00.868 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:08:00.871 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:08:00.871 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:08:00.871 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:08:00.872 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:08:00.872 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:08:00.872 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:09:42.037 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 21:09:42.118 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 18424 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 21:09:42.121 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 21:09:42.214 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 21:09:42.214 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 21:09:43.430 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 21:09:43.431 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 21:09:43.665 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 224 ms. Found 6 JPA repository interfaces.
2025-07-11 21:09:44.175 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 21:09:44.176 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 21:09:44.205 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:09:44.205 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:09:44.206 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:09:44.206 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:09:44.206 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:09:44.206 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:09:44.208 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-07-11 21:09:45.136 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 21:09:45.138 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 21:09:45.142 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 21:09:45.150 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 21:09:45.153 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 21:09:45.154 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 21:09:45.209 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 21:09:45.209 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2994 ms
2025-07-11 21:09:45.451 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 21:09:45.638 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1cdf06c2
2025-07-11 21:09:45.640 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 21:09:45.955 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 21:09:46.056 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.063s)
2025-07-11 21:09:46.084 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.005
2025-07-11 21:09:46.088 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 21:09:46.172 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 21:09:46.209 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 21:09:46.236 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 21:09:46.422 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 21:09:47.910 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 21:09:47.979 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 21:09:49.165 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 21:09:49.361 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 21:09:49.362 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 21:09:49.588 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 21:09:49.624 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 21:09:49.965 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 21:09:49.991 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 21:09:49.991 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 21:09:50.021 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 21:09:50.021 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:09:50.052 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:09:50.060 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:09:50.069 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:09:50.078 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 21:09:50.167 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 21:09:50.173 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 21:09:50.287 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 21:09:50.409 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 21:09:50.600 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 21:09:51.041 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 21:09:51.091 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 21:09:51.110 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 21:09:51.112 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 21:09:51.113 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@15791c49]]
2025-07-11 21:09:51.113 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 21:09:51.132 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 9.595 seconds (process running for 9.945)
2025-07-11 21:09:51.167 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 21:09:51.183 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 21:09:51.196 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 21:09:51.208 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 21:09:51.220 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 21:09:51.232 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 21:09:51.243 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 21:09:51.279 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 21:10:32.929 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 21:10:32.930 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 21:10:32.933 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-11 21:10:33.060 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:10:33.083 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:10:33.084 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:10:33.085 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:10:33.086 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:10:33.086 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:10:33.086 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:10:51.072 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 21:11:33.866 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:11:33.868 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:11:33.869 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:11:33.869 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:11:33.869 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:11:33.869 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:11:33.869 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:12:34.887 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:12:34.891 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:12:34.891 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:12:34.892 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:12:34.892 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:12:34.892 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:12:34.892 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:13:35.847 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:13:35.849 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:13:35.849 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:13:35.849 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:13:35.850 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:13:35.850 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:13:35.850 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:14:36.845 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:14:36.848 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:14:36.848 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:14:36.848 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:14:36.848 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:14:36.848 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:14:36.848 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:15:13.539 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:15:13.542 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:15:13.543 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:15:13.543 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:15:13.543 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:15:13.543 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:15:13.544 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:15:13.561 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:15:13.564 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:15:13.565 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:15:13.565 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:15:13.565 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:15:13.565 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:15:13.565 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:15:15.527 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:15:15.529 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:15:15.530 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:15:15.530 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:15:15.530 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:15:15.530 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:15:15.530 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:15:18.079 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:15:18.081 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:15:18.081 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:15:18.082 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:15:18.082 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:15:18.082 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:15:18.082 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:15:18.821 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 21:15:18.822 [http-nio-8080-exec-1] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=4
2025-07-11 21:15:18.849 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:15:18.852 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:15:18.852 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:15:18.853 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:15:18.853 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:15:18.853 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:15:18.853 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:15:19.374 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 21:15:19.378 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 21:15:19.379 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 21:15:19.410 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 21:15:19.420 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 21:15:19.420 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=31, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 21:15:19.421 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 21:15:19.426 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 21:15:19.426 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=31, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 21:15:19.427 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 21:15:19.428 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 21:15:19.428 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 21:15:19.428 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 21:15:19.428 [http-nio-8080-exec-4] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 21:15:20.990 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:15:22.203 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:15:22.207 [http-nio-8080-exec-7] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:15:23.240 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:15:28.094 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:15:35.274 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:15:35.278 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:15:35.278 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:15:35.278 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:15:35.279 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:15:35.279 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:15:35.279 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:15:39.591 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 21:15:39.592 [http-nio-8080-exec-3] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=4
2025-07-11 21:15:39.613 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:15:39.615 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:15:39.615 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:15:39.615 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:15:39.615 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:15:39.615 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:15:39.615 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:15:40.138 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 21:15:40.138 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 21:15:40.139 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 21:15:40.143 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 21:15:40.143 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=31, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 21:15:40.143 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 21:15:40.144 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 21:15:40.149 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 21:15:40.161 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 21:15:40.161 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=31, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 21:15:40.161 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 21:15:40.166 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 21:15:40.166 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 21:15:40.167 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 21:15:44.155 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:15:45.621 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:15:45.626 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:15:46.671 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:15:59.379 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:15:59.382 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:15:59.382 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:15:59.382 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:15:59.382 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:15:59.384 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:15:59.384 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:16:00.997 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:16:01.002 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:16:02.049 [http-nio-8080-exec-3] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:16:09.840 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:16:09.843 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:16:09.843 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:16:09.843 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:16:09.843 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:16:09.845 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:16:09.845 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:16:21.601 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:16:21.604 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:16:21.604 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:16:21.605 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:16:21.605 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:16:21.605 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:16:21.605 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:16:23.096 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:16:23.100 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:16:24.127 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:16:30.209 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:16:30.211 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:16:30.211 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:16:30.211 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:16:30.211 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:16:30.211 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:16:30.212 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:16:32.115 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:16:32.120 [http-nio-8080-exec-10] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:16:33.147 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:16:37.242 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:16:37.248 [http-nio-8080-exec-1] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:16:38.306 [http-nio-8080-exec-5] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:16:39.650 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:16:39.654 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:16:39.654 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:16:39.655 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:16:39.655 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:16:39.655 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:16:39.656 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:16:54.280 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:16:54.282 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:16:54.282 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:16:54.282 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:16:54.282 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:16:54.282 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:16:54.282 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:16:55.276 [http-nio-8080-exec-8] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:17:09.854 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:17:09.856 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:17:09.856 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:17:09.856 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:17:09.857 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:17:09.857 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:17:09.857 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:17:39.831 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:17:39.833 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:17:39.833 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:17:39.833 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:17:39.833 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:17:39.833 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:17:39.833 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:18:09.845 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:18:09.847 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:18:09.848 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:18:09.848 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:18:09.848 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:18:09.848 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:18:09.848 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:18:17.554 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2025-07-11 21:18:17.559 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 21:18:17.559 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@15791c49]]
2025-07-11 21:18:17.559 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 21:18:17.561 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 21:18:17.860 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 21:18:17.864 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-11 21:18:17.870 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-11 21:18:17.989 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 18424 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 21:18:17.990 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 21:18:18.198 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 21:18:18.198 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 21:18:18.227 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 6 JPA repository interfaces.
2025-07-11 21:18:18.302 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 21:18:18.302 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 21:18:18.310 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:18.311 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:18.311 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:18.311 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:18.311 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:18.311 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:18.312 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 21:18:18.446 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 21:18:18.446 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 21:18:18.447 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 21:18:18.448 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 21:18:18.448 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 21:18:18.448 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 21:18:18.470 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 21:18:18.470 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 479 ms
2025-07-11 21:18:18.550 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-11 21:18:18.567 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@e9ebf89
2025-07-11 21:18:18.567 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-11 21:18:18.605 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 21:18:18.640 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.020s)
2025-07-11 21:18:18.658 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.005
2025-07-11 21:18:18.659 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 21:18:18.688 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 21:18:18.690 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 21:18:18.696 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 21:18:18.774 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 21:18:18.790 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 21:18:18.996 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 21:18:18.997 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 21:18:18.998 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 21:18:19.050 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 21:18:19.104 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 21:18:19.126 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 21:18:19.126 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 21:18:19.145 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 21:18:19.145 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:18:19.154 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:18:19.161 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:18:19.167 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:18:19.176 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 21:18:19.246 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 21:18:19.252 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 21:18:19.298 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 21:18:19.336 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 21:18:19.427 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 21:18:19.626 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 21:18:19.636 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 21:18:19.639 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 21:18:19.640 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 21:18:19.640 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4dd7f5a5]]
2025-07-11 21:18:19.640 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 21:18:19.646 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.696 seconds (process running for 518.489)
2025-07-11 21:18:19.647 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 21:18:19.659 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 21:18:19.672 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 21:18:19.683 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 21:18:19.694 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 21:18:19.705 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 21:18:19.717 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 21:18:19.741 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 21:18:19.742 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 21:18:37.594 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 21:18:37.599 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 21:18:37.599 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4dd7f5a5]]
2025-07-11 21:18:37.599 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 21:18:37.601 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 21:18:38.202 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 21:18:38.203 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-07-11 21:18:38.206 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-07-11 21:18:38.404 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 18424 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 21:18:38.404 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 21:18:38.738 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 21:18:38.738 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 21:18:38.798 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 6 JPA repository interfaces.
2025-07-11 21:18:38.916 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 21:18:38.916 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 21:18:38.930 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:38.931 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:38.931 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:38.932 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:38.932 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:38.932 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:38.932 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-07-11 21:18:39.134 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 21:18:39.134 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 21:18:39.136 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 21:18:39.136 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 21:18:39.136 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 21:18:39.136 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 21:18:39.180 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 21:18:39.180 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 774 ms
2025-07-11 21:18:39.265 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-11 21:18:39.275 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@656d1905
2025-07-11 21:18:39.275 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-11 21:18:39.313 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 21:18:39.349 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.021s)
2025-07-11 21:18:39.363 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.005
2025-07-11 21:18:39.364 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 21:18:39.390 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 21:18:39.392 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 21:18:39.396 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 21:18:39.467 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 21:18:39.785 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 21:18:39.969 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 21:18:39.970 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 21:18:39.970 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 21:18:40.028 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 21:18:40.076 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 21:18:40.099 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 21:18:40.099 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 21:18:40.122 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 21:18:40.122 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:18:40.128 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:18:40.134 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:18:40.140 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:18:40.147 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 21:18:40.211 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 21:18:40.216 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 21:18:40.265 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 21:18:40.306 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 21:18:40.402 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 21:18:40.585 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 21:18:40.596 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 21:18:40.598 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 21:18:40.598 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 21:18:40.599 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5f3da9fb]]
2025-07-11 21:18:40.599 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 21:18:40.606 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.248 seconds (process running for 539.45)
2025-07-11 21:18:40.607 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 21:18:40.621 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 21:18:40.633 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 21:18:40.645 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 21:18:40.650 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 21:18:40.651 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 21:18:40.652 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-07-11 21:18:40.658 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 21:18:40.664 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:18:40.666 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:18:40.667 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:18:40.667 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:18:40.667 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:18:40.667 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:18:40.667 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:18:40.669 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 21:18:40.681 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 21:18:40.702 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 21:18:40.703 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 21:18:42.017 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 21:18:42.019 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 21:18:42.020 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5f3da9fb]]
2025-07-11 21:18:42.020 [Thread-11] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 21:18:42.020 [Thread-11] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 21:18:42.311 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 21:18:42.312 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-07-11 21:18:42.313 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-07-11 21:18:42.408 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 18424 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 21:18:42.409 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 21:18:42.553 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 21:18:42.553 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 21:18:42.580 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 6 JPA repository interfaces.
2025-07-11 21:18:42.638 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 21:18:42.638 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 21:18:42.646 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:42.646 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:42.647 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:42.647 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:42.647 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:42.647 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:18:42.648 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-07-11 21:18:42.754 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 21:18:42.755 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 21:18:42.756 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 21:18:42.756 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 21:18:42.756 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 21:18:42.756 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 21:18:42.778 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 21:18:42.778 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 368 ms
2025-07-11 21:18:42.847 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-07-11 21:18:42.858 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3bf4d59d
2025-07-11 21:18:42.858 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-07-11 21:18:42.867 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 21:18:42.895 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.014s)
2025-07-11 21:18:42.906 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.005
2025-07-11 21:18:42.907 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 21:18:42.934 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 21:18:42.936 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 21:18:42.940 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 21:18:43.004 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 21:18:43.023 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 21:18:43.208 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 21:18:43.209 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 21:18:43.209 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 21:18:43.261 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 21:18:43.321 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 21:18:43.344 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 21:18:43.345 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 21:18:43.366 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 21:18:43.366 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:18:43.375 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:18:43.382 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:18:43.391 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:18:43.402 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 21:18:43.488 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 21:18:43.496 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 21:18:43.555 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 21:18:43.600 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 21:18:43.705 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 21:18:43.921 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 21:18:43.933 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 21:18:43.937 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 21:18:43.937 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 21:18:43.937 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4f966b2]]
2025-07-11 21:18:43.937 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 21:18:43.944 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.554 seconds (process running for 542.788)
2025-07-11 21:18:43.945 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 21:18:43.956 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 21:18:43.969 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 21:18:43.982 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 21:18:43.993 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 21:18:44.006 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 21:18:44.020 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 21:18:44.042 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 21:18:44.043 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 21:18:47.277 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 21:18:47.277 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 21:18:47.279 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 21:18:58.642 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 21:18:58.645 [Thread-15] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 21:18:58.645 [Thread-15] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4f966b2]]
2025-07-11 21:18:58.645 [Thread-15] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 21:18:58.646 [Thread-15] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 21:18:59.299 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 21:18:59.300 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-07-11 21:18:59.302 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-07-11 21:18:59.531 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 18424 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 21:18:59.532 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 21:18:59.838 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 21:18:59.838 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 21:18:59.888 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 6 JPA repository interfaces.
2025-07-11 21:19:00.009 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 21:19:00.009 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 21:19:00.026 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:19:00.028 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:19:00.033 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:19:00.034 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:19:00.034 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:19:00.035 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:19:00.035 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-07-11 21:19:00.333 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 21:19:00.334 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 21:19:00.335 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 21:19:00.336 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 21:19:00.336 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 21:19:00.336 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 21:19:00.379 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 21:19:00.379 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 845 ms
2025-07-11 21:19:00.542 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-07-11 21:19:00.562 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@19dfc68d
2025-07-11 21:19:00.563 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-07-11 21:19:00.619 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 21:19:00.667 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.027s)
2025-07-11 21:19:00.692 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.005
2025-07-11 21:19:00.694 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 21:19:00.747 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 21:19:00.750 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 21:19:00.759 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 21:19:00.931 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 21:19:00.966 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 21:19:01.274 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 21:19:01.276 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 21:19:01.276 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 21:19:01.330 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 21:19:01.382 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 21:19:01.407 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 21:19:01.407 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 21:19:01.440 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 21:19:01.440 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:19:01.451 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:19:01.459 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:19:01.471 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:19:01.480 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 21:19:01.562 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 21:19:01.568 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 21:19:01.618 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 21:19:01.659 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 21:19:01.754 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 21:19:02.066 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 21:19:02.089 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 21:19:02.094 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 21:19:02.094 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 21:19:02.094 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@61f888aa]]
2025-07-11 21:19:02.094 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 21:19:02.107 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 2.63 seconds (process running for 560.952)
2025-07-11 21:19:02.109 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 21:19:02.123 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 21:19:02.138 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 21:19:02.152 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 21:19:02.167 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 21:19:02.179 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 21:19:02.193 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 21:19:02.219 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 21:19:02.220 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 21:19:03.514 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-11 21:19:03.517 [Thread-19] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-07-11 21:19:03.517 [Thread-19] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@61f888aa]]
2025-07-11 21:19:03.518 [Thread-19] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-07-11 21:19:03.518 [Thread-19] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-07-11 21:19:03.858 [Thread-19] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 21:19:03.859 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-07-11 21:19:03.860 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-07-11 21:19:04.002 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 18424 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 21:19:04.002 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 21:19:04.189 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 21:19:04.190 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 21:19:04.219 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 6 JPA repository interfaces.
2025-07-11 21:19:04.282 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 21:19:04.283 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 21:19:04.292 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:19:04.293 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:19:04.293 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:19:04.293 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:19:04.294 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:19:04.294 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:19:04.294 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-07-11 21:19:04.422 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 21:19:04.422 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 21:19:04.423 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 21:19:04.423 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 21:19:04.424 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 21:19:04.424 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 21:19:04.449 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 21:19:04.449 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 445 ms
2025-07-11 21:19:04.537 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-07-11 21:19:04.549 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@17c98ebe
2025-07-11 21:19:04.550 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-07-11 21:19:04.561 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 21:19:04.589 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.013s)
2025-07-11 21:19:04.602 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.005
2025-07-11 21:19:04.604 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 21:19:04.636 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 21:19:04.639 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 21:19:04.644 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 21:19:04.716 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 21:19:04.730 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 21:19:04.933 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 21:19:04.935 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 21:19:04.935 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 21:19:04.992 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 21:19:05.060 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 21:19:05.090 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 21:19:05.090 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 21:19:05.114 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 21:19:05.114 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:19:05.122 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:19:05.130 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:19:05.137 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:19:05.144 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 21:19:05.224 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 21:19:05.230 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 21:19:05.276 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 21:19:05.318 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 21:19:05.407 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 21:19:05.591 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 21:19:05.601 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 21:19:05.603 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 21:19:05.603 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 21:19:05.603 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5c1f64e7]]
2025-07-11 21:19:05.604 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 21:19:05.612 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 1.636 seconds (process running for 564.457)
2025-07-11 21:19:05.613 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 21:19:05.626 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 21:19:05.636 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 21:19:05.649 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 21:19:05.660 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 21:19:05.675 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 21:19:05.689 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 21:19:05.713 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 21:19:05.714 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-07-11 21:19:09.824 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 21:19:09.824 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 21:19:09.826 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 21:19:09.848 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:19:09.854 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:19:09.854 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:19:09.854 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:19:09.854 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:19:09.855 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:19:09.855 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:19:58.856 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:19:58.861 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:19:58.861 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:19:58.862 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:19:58.863 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:19:58.863 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:19:58.863 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:20:02.593 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:20:02.597 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:20:02.597 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:20:02.597 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:20:02.597 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:20:02.597 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:20:02.598 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:20:05.597 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 21:20:09.837 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:20:09.839 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:20:09.840 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:20:09.841 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:20:09.841 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:20:09.841 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:20:09.841 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:20:58.522 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 21:20:58.598 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 35268 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 21:20:58.600 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 21:20:58.679 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 21:20:58.680 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 21:20:59.764 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 21:20:59.765 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 21:20:59.930 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 156 ms. Found 6 JPA repository interfaces.
2025-07-11 21:21:00.297 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 21:21:00.299 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 21:21:00.326 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:21:00.327 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:21:00.327 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:21:00.327 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:21:00.328 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:21:00.328 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 21:21:00.328 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-07-11 21:21:01.572 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 21:21:01.579 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 21:21:01.588 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 21:21:01.611 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 21:21:01.616 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 21:21:01.617 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 21:21:01.720 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 21:21:01.722 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3040 ms
2025-07-11 21:21:02.219 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 21:21:02.350 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c06f651
2025-07-11 21:21:02.352 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 21:21:02.440 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 21:21:02.514 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.044s)
2025-07-11 21:21:02.539 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.005
2025-07-11 21:21:02.544 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 21:21:02.626 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 21:21:02.687 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 21:21:02.908 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 21:21:03.138 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 21:21:03.924 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 21:21:03.961 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 21:21:04.730 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 21:21:04.978 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 21:21:04.978 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 21:21:05.225 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 21:21:05.285 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 21:21:05.839 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 21:21:05.886 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 21:21:05.886 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 21:21:05.942 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 21:21:05.943 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:21:05.999 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:21:06.015 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:21:06.031 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 21:21:06.052 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 21:21:06.342 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 21:21:06.363 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 21:21:06.652 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 21:21:06.872 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 21:21:07.331 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 21:21:08.248 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 21:21:08.293 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 21:21:08.470 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 21:21:08.471 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 21:21:08.472 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@73074d7a]]
2025-07-11 21:21:08.472 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 21:21:08.488 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 10.548 seconds (process running for 10.994)
2025-07-11 21:21:08.542 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 21:21:08.556 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 21:21:08.568 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 21:21:08.582 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 21:21:08.604 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 21:21:08.617 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 21:21:08.627 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 21:21:08.655 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 21:21:15.076 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 21:21:15.078 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 21:21:15.089 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 10 ms
2025-07-11 21:21:15.311 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:21:15.360 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:21:15.360 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:21:15.361 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:21:15.362 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:21:15.363 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:21:15.363 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:21:15.470 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:21:15.475 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:21:15.476 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:21:15.477 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:21:15.477 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:21:15.478 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:21:15.479 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:21:15.726 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 21:21:15.728 [http-nio-8080-exec-5] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=4
2025-07-11 21:21:15.779 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:21:15.782 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:21:15.783 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:21:15.784 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:21:15.784 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:21:15.784 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:21:15.785 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:21:16.343 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 21:21:16.353 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 21:21:16.354 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 21:21:16.396 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 21:21:16.425 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 21:21:16.425 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=31, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 21:21:16.426 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 21:21:16.439 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 21:21:16.440 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=31, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 21:21:16.442 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 21:21:16.444 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 21:21:16.454 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 21:21:16.456 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 21:21:16.456 [http-nio-8080-exec-10] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 21:21:17.811 [http-nio-8080-exec-9] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:21:20.010 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:21:20.014 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:21:20.015 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:21:20.015 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:21:20.015 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:21:20.015 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:21:20.016 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:21:23.875 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:21:23.880 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:21:23.881 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:21:23.882 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:21:23.882 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:21:23.882 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:21:23.883 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:21:24.843 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-11 21:21:24.848 [http-nio-8080-exec-2] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 成功强制下线所有其他设备: userId=4, currentDeviceInfo=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0, 下线设备数量=0
2025-07-11 21:21:25.889 [http-nio-8080-exec-4] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:21:31.485 [http-nio-8080-exec-6] INFO  c.i.i.u.s.impl.UserDeviceServiceImpl - 获取用户设备列表: userId=4
2025-07-11 21:21:45.839 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:21:45.843 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:21:45.843 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:21:45.844 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:21:45.844 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:21:45.844 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:21:45.845 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:22:08.282 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 21:22:15.833 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:22:15.836 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:22:15.836 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:22:15.837 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:22:15.837 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:22:15.837 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:22:15.838 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 21:22:45.823 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 21:22:45.825 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 21:22:45.825 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 21:22:45.826 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 21:22:45.826 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 21:22:45.826 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 21:22:45.826 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:41:48.996 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-07-11 23:41:49.035 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Starting ImCommunicationSystemApplication using Java 17.0.2 with PID 32384 (D:\Project\im-communication-system\target\classes started by ASUS in D:\Project\im-communication-system)
2025-07-11 23:41:49.036 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-11 23:41:49.083 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-11 23:41:49.083 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-11 23:41:50.603 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 23:41:50.604 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-11 23:41:50.863 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 247 ms. Found 9 JPA repository interfaces.
2025-07-11 23:41:51.420 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-11 23:41:51.423 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-11 23:41:51.466 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.LoginDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 23:41:51.467 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 23:41:51.468 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.auth.repository.VerificationCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 23:41:51.469 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.relationship.repository.ContactRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 23:41:51.469 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.relationship.repository.ContactRequestRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 23:41:51.470 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.relationship.repository.ContactTagRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 23:41:51.471 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.FileUploadRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 23:41:51.472 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 23:41:51.473 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.im.imcommunicationsystem.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-11 23:41:51.473 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
2025-07-11 23:41:52.702 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-11 23:41:52.707 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.9] using APR version [1.7.6].
2025-07-11 23:41:52.727 [restartedMain] INFO  o.a.c.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.5.0 8 Apr 2025]
2025-07-11 23:41:52.739 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-11 23:41:52.742 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-11 23:41:52.742 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-11 23:41:52.816 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-11 23:41:52.817 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3732 ms
2025-07-11 23:41:53.149 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-11 23:41:53.361 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8d15966
2025-07-11 23:41:53.362 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-11 23:41:53.456 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3307/im_db (MySQL 9.3)
2025-07-11 23:41:53.563 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 12 migrations (execution time 00:00.052s)
2025-07-11 23:41:53.590 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `im_db`: 20250112.005
2025-07-11 23:41:53.595 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema `im_db` is up to date. No migration necessary.
2025-07-11 23:41:53.688 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-11 23:41:53.746 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-07-11 23:41:53.777 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-11 23:41:54.020 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-11 23:41:55.032 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-11 23:41:55.099 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-11 23:41:56.124 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-11 23:41:56.609 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 初始化MinIO客户端，端点: http://localhost:9000, 访问密钥: minioadmin
2025-07-11 23:41:56.862 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO客户端初始化成功
2025-07-11 23:41:56.862 [restartedMain] INFO  c.i.i.user.config.MinioConfig - 开始检查并创建MinIO存储桶...
2025-07-11 23:41:57.137 [restartedMain] INFO  c.i.i.user.config.MinioConfig - MinIO存储桶初始化完成 - 公开存储桶: 6个, 私有存储桶: 6个
2025-07-11 23:41:57.385 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 初始化MinIO服务，开始创建存储桶...
2025-07-11 23:41:57.435 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - 所有存储桶初始化成功
2025-07-11 23:41:57.435 [restartedMain] INFO  c.i.i.u.s.impl.MinioServiceImpl - MinIO服务初始化完成
2025-07-11 23:41:57.485 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 开始初始化公共桶生命周期规则，默认过期天数: 7
2025-07-11 23:41:57.486 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-files 设置临时文件生命周期规则，过期天数: 7
2025-07-11 23:41:57.560 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-images 设置临时文件生命周期规则，过期天数: 7
2025-07-11 23:41:57.578 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-videos 设置临时文件生命周期规则，过期天数: 7
2025-07-11 23:41:57.595 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 为桶 im-public-documents 设置临时文件生命周期规则，过期天数: 7
2025-07-11 23:41:57.614 [restartedMain] INFO  c.i.i.u.s.i.MinioLifecycleServiceImpl - 公共桶生命周期规则初始化完成，成功设置: 0 个桶
2025-07-11 23:41:57.836 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 数据一致性检查线程池已初始化: coreSize=2, maxSize=5, queueCapacity=100
2025-07-11 23:41:57.849 [restartedMain] INFO  c.i.i.common.config.AsyncConfig - 通用异步任务线程池已初始化: coreSize=5, maxSize=10, queueCapacity=200
2025-07-11 23:41:58.247 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-07-11 23:41:58.472 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-07-11 23:41:58.781 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 2 endpoints beneath base path '/actuator'
2025-07-11 23:41:59.359 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-07-11 23:41:59.410 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-11 23:41:59.429 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-07-11 23:41:59.430 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-07-11 23:41:59.431 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@228e8964]]
2025-07-11 23:41:59.431 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-07-11 23:41:59.445 [restartedMain] INFO  c.i.i.ImCommunicationSystemApplication - Started ImCommunicationSystemApplication in 10.882 seconds (process running for 11.347)
2025-07-11 23:41:59.493 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 开始配置存储桶访问策略...
2025-07-11 23:41:59.521 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-files
2025-07-11 23:41:59.534 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-images
2025-07-11 23:41:59.546 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-videos
2025-07-11 23:41:59.558 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-audios
2025-07-11 23:41:59.570 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-documents
2025-07-11 23:41:59.581 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 已设置公开存储桶策略: im-public-others
2025-07-11 23:41:59.611 [restartedMain] INFO  c.i.i.user.config.BucketPolicyConfig - 存储桶访问策略配置完成
2025-07-11 23:42:45.889 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-11 23:42:45.890 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-11 23:42:45.892 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-07-11 23:42:59.386 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 8, completed tasks = 2]
2025-07-11 23:43:23.963 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 23:43:23.966 [http-nio-8080-exec-8] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=4
2025-07-11 23:43:24.052 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:43:24.057 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:43:24.058 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:43:24.059 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:43:24.059 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:43:24.059 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:43:24.060 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:43:24.618 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 23:43:24.620 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 23:43:24.620 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 23:43:24.657 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 23:43:24.672 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 23:43:24.672 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=31, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 23:43:24.673 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 23:43:24.673 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=31, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 23:43:24.673 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 23:43:24.674 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 23:43:24.674 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 23:43:24.686 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 23:43:24.686 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 23:43:24.687 [http-nio-8080-exec-1] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 23:43:54.773 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:43:54.779 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:43:54.779 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:43:54.780 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:43:54.780 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:43:54.781 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:43:54.781 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:44:10.641 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:44:10.648 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:44:10.649 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:44:10.649 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:44:10.650 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:44:10.650 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:44:10.650 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:44:20.226 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:44:20.229 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:44:20.230 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:44:20.230 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:44:20.230 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:44:20.230 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:44:20.231 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:44:24.132 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:44:24.143 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:44:24.144 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:44:24.145 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:44:24.146 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:44:24.146 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:44:24.147 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:44:26.827 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:44:26.830 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:44:26.831 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:44:26.831 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:44:26.831 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:44:26.831 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:44:26.831 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:44:53.791 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:44:53.793 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:44:53.793 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:44:53.794 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:44:53.794 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:44:53.794 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:44:53.794 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:44:54.103 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:44:54.106 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:44:54.106 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:44:54.106 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:44:54.106 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:44:54.106 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:44:54.106 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:45:24.750 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:45:24.753 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:45:24.753 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:45:24.753 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:45:24.753 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:45:24.753 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:45:24.754 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:45:53.507 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:45:53.510 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:45:53.510 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:45:53.510 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:45:53.510 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:45:53.510 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:45:53.511 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:45:54.117 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:45:54.119 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:45:54.119 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:45:54.119 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:45:54.119 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:45:54.120 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:45:54.120 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:45:58.161 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 23:45:58.162 [http-nio-8080-exec-7] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=4
2025-07-11 23:45:58.205 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:45:58.208 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:45:58.208 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:45:58.208 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:45:58.209 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:45:58.209 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:45:58.209 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:45:58.732 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 23:45:58.733 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 23:45:58.733 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 23:45:58.741 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 23:45:58.742 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=31, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 23:45:58.742 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 23:45:58.742 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 23:45:58.743 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 23:45:58.752 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 23:45:58.752 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=31, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 23:45:58.753 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 23:45:58.756 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 23:45:58.757 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 23:45:58.757 [http-nio-8080-exec-6] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 23:47:05.500 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 23:47:05.502 [http-nio-8080-exec-9] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=4
2025-07-11 23:47:05.539 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:47:05.543 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:47:05.544 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:47:05.544 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:47:05.544 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:47:05.544 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:47:05.545 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:47:06.072 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 23:47:06.072 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 23:47:06.074 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 23:47:06.083 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 23:47:06.084 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=31, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 23:47:06.084 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 23:47:06.084 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 23:47:06.089 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 23:47:06.103 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 23:47:06.103 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=31, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 23:47:06.104 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 23:47:06.112 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 23:47:06.112 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 23:47:06.113 [http-nio-8080-exec-3] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 23:47:35.743 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:47:35.748 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:47:35.748 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:47:35.748 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:47:35.748 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:47:35.748 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:47:35.749 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:48:05.760 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:48:05.765 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:48:05.765 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:48:05.765 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:48:05.766 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:48:05.766 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:48:05.767 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:48:35.745 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:48:35.750 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:48:35.750 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:48:35.750 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:48:35.750 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:48:35.751 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:48:35.751 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:49:05.741 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:49:05.745 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:49:05.745 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:49:05.746 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:49:05.746 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:49:05.746 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:49:05.746 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:49:35.741 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:49:35.743 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:49:35.744 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:49:35.744 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:49:35.744 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:49:35.744 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:49:35.744 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:50:05.752 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:50:05.756 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:50:05.756 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:50:05.757 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:50:05.757 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:50:05.757 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:50:05.758 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:50:06.084 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:50:06.087 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:50:06.087 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:50:06.088 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:50:06.088 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:50:06.089 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:50:06.089 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:50:07.780 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:50:07.783 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:50:07.784 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:50:07.784 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:50:07.784 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:50:07.785 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:50:07.785 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:50:23.212 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:50:23.214 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:50:23.214 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:50:23.214 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:50:23.215 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:50:23.215 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:50:23.215 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:50:29.818 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:50:29.821 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:50:29.822 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:50:29.822 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:50:29.822 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:50:29.822 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:50:29.822 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:50:35.753 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:50:35.755 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:50:35.755 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:50:35.755 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:50:35.755 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:50:35.757 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:50:35.757 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:50:49.074 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:50:49.077 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:50:49.078 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:50:49.079 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:50:49.079 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:50:49.079 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:50:49.079 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:50:53.262 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:50:53.264 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:50:53.264 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:50:53.264 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:50:53.264 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:50:53.265 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:50:53.265 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:51:05.741 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:51:05.745 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:51:05.745 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:51:05.745 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:51:05.745 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:51:05.746 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:51:05.746 [http-nio-8080-exec-4] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:51:35.751 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:51:35.754 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:51:35.754 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:51:35.754 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:51:35.754 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:51:35.754 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:51:35.754 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:52:36.757 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:52:36.759 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:52:36.759 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:52:36.760 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:52:36.760 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:52:36.760 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:52:36.760 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:53:04.500 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:53:04.504 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:53:04.505 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:53:04.505 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:53:04.505 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:53:04.506 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:53:04.506 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:53:05.572 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:53:05.575 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:53:05.575 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:53:05.575 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:53:05.575 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:53:05.576 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:53:05.576 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:53:05.746 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取当前用户信息
2025-07-11 23:53:05.747 [http-nio-8080-exec-2] INFO  c.i.i.a.service.impl.AuthServiceImpl - 获取用户信息: userId=4
2025-07-11 23:53:05.787 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:53:05.790 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:53:05.790 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:53:05.791 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:53:05.791 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:53:05.791 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:53:05.791 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:53:06.311 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 获取文件列表请求 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 23:53:06.311 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始获取用户文件统计信息, userId: 4
2025-07-11 23:53:06.312 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 开始查询用户文件 - 用户ID: 4, 文件类型: null, 页码: 0, 大小: 20
2025-07-11 23:53:06.316 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询到用户文件数量: 1
2025-07-11 23:53:06.316 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件详情: ID=31, 名称=202302091675904140726704.jpg, 类型=image, 大小=8507
2025-07-11 23:53:06.316 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件类型统计结果: {image=1}
2025-07-11 23:53:06.316 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 最终统计结果: totalFiles=1, totalSize=8507, typeStats={image=1}
2025-07-11 23:53:06.319 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库中总文件记录数: 3
2025-07-11 23:53:06.328 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 用户 4 的所有文件记录数（包括已删除）: 1
2025-07-11 23:53:06.328 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 文件记录: ID=31, 原始名称=202302091675904140726704.jpg, 是否删除=false, 文件类型=image
2025-07-11 23:53:06.328 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 查询所有文件类型
2025-07-11 23:53:06.333 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.MinioFileUploadServiceImpl - 数据库查询结果 - 总数: 1, 当前页数量: 1
2025-07-11 23:53:06.333 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 查询到文件数量: 1
2025-07-11 23:53:06.333 [http-nio-8080-exec-9] INFO  c.i.i.u.c.FileUploadController - 用户 4 找到 1 个文件
2025-07-11 23:53:16.494 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:53:16.500 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:53:16.500 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:53:16.500 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:53:16.501 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:53:16.501 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:53:16.501 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:53:16.537 [http-nio-8080-exec-1] INFO  c.i.i.r.c.ContactSearchController - 通用搜索用户: keyword=test_004, currentUserId=4, page=0, size=20
2025-07-11 23:53:16.562 [http-nio-8080-exec-1] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 通用搜索用户: searchRequest=SearchContactRequest(keyword=test_004, searchType=null, userId=4)
2025-07-11 23:53:16.565 [http-nio-8080-exec-1] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 根据用户ID搜索用户: searchRequest=SearchContactRequest(keyword=test_004, searchType=null, userId=4)
2025-07-11 23:53:36.748 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:53:36.752 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:53:36.752 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:53:36.753 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:53:36.753 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:53:36.753 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:53:36.753 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:53:39.720 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:53:39.723 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:53:39.723 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:53:39.724 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:53:39.724 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:53:39.724 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:53:39.724 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:53:47.172 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:53:47.174 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:53:47.175 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:53:47.175 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:53:47.175 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:53:47.175 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:53:47.175 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:53:50.853 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:53:50.854 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:53:50.855 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:53:50.855 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:53:50.855 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:53:50.855 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:53:50.855 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:53:50.867 [http-nio-8080-exec-7] INFO  c.i.i.r.c.ContactSearchController - 通用搜索用户: keyword=zhengpengzhe, currentUserId=4, page=0, size=20
2025-07-11 23:53:50.869 [http-nio-8080-exec-7] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 通用搜索用户: searchRequest=SearchContactRequest(keyword=zhengpengzhe, searchType=null, userId=4)
2025-07-11 23:53:50.870 [http-nio-8080-exec-7] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 根据用户ID搜索用户: searchRequest=SearchContactRequest(keyword=zhengpengzhe, searchType=null, userId=4)
2025-07-11 23:53:50.876 [http-nio-8080-exec-7] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 未找到用户: userIdStr=zhengpengzhe
2025-07-11 23:53:50.876 [http-nio-8080-exec-7] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 根据昵称搜索用户: searchRequest=SearchContactRequest(keyword=zhengpengzhe, searchType=null, userId=4)
2025-07-11 23:53:50.898 [http-nio-8080-exec-7] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 昵称搜索完成: nickname=zhengpengzhe, 找到1个结果
2025-07-11 23:54:16.915 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:54:16.926 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:54:16.926 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:54:16.927 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:54:16.928 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:54:16.928 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:54:16.929 [http-nio-8080-exec-6] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:56:54.614 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:56:54.617 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:56:54.617 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:56:54.617 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:56:54.618 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:56:54.618 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:56:54.618 [http-nio-8080-exec-3] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:58:03.670 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:58:03.672 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:58:03.673 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:58:03.673 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:58:03.674 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:58:03.674 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:58:03.674 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:58:03.691 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:58:03.694 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:58:03.694 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:58:03.694 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:58:03.694 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:58:03.694 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:58:03.695 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:58:05.834 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:58:05.837 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:58:05.837 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:58:05.838 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:58:05.838 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:58:05.839 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:58:05.839 [http-nio-8080-exec-8] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:58:16.871 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:58:16.874 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:58:16.874 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:58:16.874 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:58:16.874 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:58:16.875 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:58:16.875 [http-nio-8080-exec-9] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:58:16.905 [http-nio-8080-exec-6] INFO  c.i.i.r.c.ContactSearchController - 通用搜索用户: keyword=zhengpengzhe, currentUserId=4, page=0, size=20
2025-07-11 23:58:16.908 [http-nio-8080-exec-6] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 通用搜索用户: searchRequest=SearchContactRequest(keyword=zhengpengzhe, searchType=null, userId=4)
2025-07-11 23:58:16.908 [http-nio-8080-exec-6] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 根据用户ID搜索用户: searchRequest=SearchContactRequest(keyword=zhengpengzhe, searchType=null, userId=4)
2025-07-11 23:58:16.915 [http-nio-8080-exec-6] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 未找到用户: userIdStr=zhengpengzhe
2025-07-11 23:58:16.916 [http-nio-8080-exec-6] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 根据昵称搜索用户: searchRequest=SearchContactRequest(keyword=zhengpengzhe, searchType=null, userId=4)
2025-07-11 23:58:16.938 [http-nio-8080-exec-6] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 昵称搜索完成: nickname=zhengpengzhe, 找到1个结果
2025-07-11 23:58:20.070 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:58:20.073 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:58:20.073 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:58:20.073 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:58:20.074 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:58:20.074 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:58:20.075 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:58:20.107 [http-nio-8080-exec-3] INFO  c.i.i.r.c.ContactSearchController - 通用搜索用户: keyword=zhengpeng, currentUserId=4, page=0, size=20
2025-07-11 23:58:20.116 [http-nio-8080-exec-3] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 通用搜索用户: searchRequest=SearchContactRequest(keyword=zhengpeng, searchType=null, userId=4)
2025-07-11 23:58:20.116 [http-nio-8080-exec-3] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 根据用户ID搜索用户: searchRequest=SearchContactRequest(keyword=zhengpeng, searchType=null, userId=4)
2025-07-11 23:58:20.122 [http-nio-8080-exec-3] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 未找到用户: userIdStr=zhengpeng
2025-07-11 23:58:20.123 [http-nio-8080-exec-3] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 根据昵称搜索用户: searchRequest=SearchContactRequest(keyword=zhengpeng, searchType=null, userId=4)
2025-07-11 23:58:20.149 [http-nio-8080-exec-3] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 昵称搜索完成: nickname=zhengpeng, 找到1个结果
2025-07-11 23:58:23.504 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:58:23.506 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:58:23.506 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:58:23.506 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:58:23.506 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:58:23.506 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:58:23.506 [http-nio-8080-exec-5] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:58:23.530 [http-nio-8080-exec-4] INFO  c.i.i.r.c.ContactSearchController - 通用搜索用户: keyword=test, currentUserId=4, page=0, size=20
2025-07-11 23:58:23.537 [http-nio-8080-exec-4] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 通用搜索用户: searchRequest=SearchContactRequest(keyword=test, searchType=null, userId=4)
2025-07-11 23:58:23.537 [http-nio-8080-exec-4] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 根据用户ID搜索用户: searchRequest=SearchContactRequest(keyword=test, searchType=null, userId=4)
2025-07-11 23:58:23.545 [http-nio-8080-exec-4] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 未找到用户: userIdStr=test
2025-07-11 23:58:23.545 [http-nio-8080-exec-4] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 根据昵称搜索用户: searchRequest=SearchContactRequest(keyword=test, searchType=null, userId=4)
2025-07-11 23:58:23.571 [http-nio-8080-exec-4] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 昵称搜索完成: nickname=test, 找到1个结果
2025-07-11 23:58:36.760 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:58:36.763 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:58:36.763 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:58:36.764 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:58:36.765 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:58:36.765 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:58:36.765 [http-nio-8080-exec-2] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:58:44.521 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:58:44.523 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:58:44.523 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:58:44.523 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:58:44.523 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:58:44.523 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:58:44.523 [http-nio-8080-exec-10] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:58:47.232 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:58:47.234 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:58:47.234 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:58:47.234 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:58:47.234 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:58:47.235 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:58:47.235 [http-nio-8080-exec-7] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
2025-07-11 23:58:47.245 [http-nio-8080-exec-8] INFO  c.i.i.r.c.ContactSearchController - 通用搜索用户: keyword=test, currentUserId=4, page=0, size=20
2025-07-11 23:58:47.249 [http-nio-8080-exec-8] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 通用搜索用户: searchRequest=SearchContactRequest(keyword=test, searchType=null, userId=4)
2025-07-11 23:58:47.249 [http-nio-8080-exec-8] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 根据用户ID搜索用户: searchRequest=SearchContactRequest(keyword=test, searchType=null, userId=4)
2025-07-11 23:58:47.253 [http-nio-8080-exec-8] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 未找到用户: userIdStr=test
2025-07-11 23:58:47.253 [http-nio-8080-exec-8] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 根据昵称搜索用户: searchRequest=SearchContactRequest(keyword=test, searchType=null, userId=4)
2025-07-11 23:58:47.264 [http-nio-8080-exec-8] INFO  c.i.i.r.s.i.ContactSearchServiceImpl - 昵称搜索完成: nickname=test, 找到1个结果
2025-07-11 23:59:06.747 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - 获取用户资料，用户ID: 4
2025-07-11 23:59:06.748 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 调试信息 - 用户ID: 4 ===
2025-07-11 23:59:06.748 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 数据库中的statusJson: {"text": "外出中", "emoji": "🚗", "updatedAt": "2025-07-11T20:48:16.748843300"} ===
2025-07-11 23:59:06.749 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 解析后的statusMap: {text=外出中, emoji=🚗, updatedAt=2025-07-11T20:48:16.748843300} ===
2025-07-11 23:59:06.749 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === statusMap的键: [text, emoji, updatedAt] ===
2025-07-11 23:59:06.749 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态文本: 外出中 ===
2025-07-11 23:59:06.749 [http-nio-8080-exec-1] INFO  c.i.i.u.s.i.UserProfileServiceImpl - === 状态表情: 🚗 ===
